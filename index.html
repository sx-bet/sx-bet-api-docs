
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
        <meta
            name="description"
            content="Documentation for the SX.bet API"
        >
    <title>API Reference</title>

    <style media="screen">
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cpf {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s, .highlight .sa, .highlight .dl {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf, .highlight .fm {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv, .highlight .vm {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .nl {
  color: #f92672;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <style media="print">
      * {
        -webkit-transition:none!important;
        transition:none!important;
      }
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #586e75;
}
.highlight .err {
  color: #002b36;
  background-color: #dc322f;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cm, .highlight .cpf, .highlight .c1, .highlight .cs {
  color: #657b83;
}
.highlight .cp {
  color: #b58900;
}
.highlight .nt {
  color: #b58900;
}
.highlight .o, .highlight .ow {
  color: #93a1a1;
}
.highlight .p, .highlight .pi {
  color: #93a1a1;
}
.highlight .gi {
  color: #859900;
}
.highlight .gd {
  color: #dc322f;
}
.highlight .gh {
  color: #268bd2;
  background-color: #002b36;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #6c71c4;
}
.highlight .kc {
  color: #cb4b16;
}
.highlight .kt {
  color: #cb4b16;
}
.highlight .kd {
  color: #cb4b16;
}
.highlight .s, .highlight .sb, .highlight .sc, .highlight .dl, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #859900;
}
.highlight .sa {
  color: #6c71c4;
}
.highlight .sr {
  color: #2aa198;
}
.highlight .si {
  color: #d33682;
}
.highlight .se {
  color: #d33682;
}
.highlight .nn {
  color: #b58900;
}
.highlight .nc {
  color: #b58900;
}
.highlight .no {
  color: #b58900;
}
.highlight .na {
  color: #268bd2;
}
.highlight .m, .highlight .mb, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mx {
  color: #859900;
}
.highlight .ss {
  color: #859900;
}
    </style>
    <link href="stylesheets/screen-525fe75b.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print-953e3353.css" rel="stylesheet" media="print" />
      <script src="javascripts/all-b12a2749.js"></script>

    <script>
      $(function() { setupCodeCopy(); });
    </script>
  </head>

  <body class="index" data-languages="[]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar-cad8cdcb.png" alt="" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo-ca58ac21.png" class="logo" alt="" />
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#introduction" class="toc-h1 toc-link" data-title="Introduction">Introduction</a>
          </li>
          <li>
            <a href="#order-book-v2-upgrades" class="toc-h1 toc-link" data-title="Order Book V2 Upgrades">Order Book V2 Upgrades</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#how-we-currently-fill-orders" class="toc-h2 toc-link" data-title="How we currently fill orders">How we currently fill orders</a>
                  </li>
                  <li>
                    <a href="#what-39-s-changing" class="toc-h2 toc-link" data-title="What's changing">What's changing</a>
                  </li>
                  <li>
                    <a href="#breaking-changes" class="toc-h2 toc-link" data-title="Breaking changes">Breaking changes</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#references" class="toc-h1 toc-link" data-title="References">References</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#mainnet" class="toc-h2 toc-link" data-title="Mainnet">Mainnet</a>
                  </li>
                  <li>
                    <a href="#testnet" class="toc-h2 toc-link" data-title="Testnet">Testnet</a>
                  </li>
                  <li>
                    <a href="#versions-of-dependencies" class="toc-h2 toc-link" data-title="Versions of dependencies">Versions of dependencies</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#testnet" class="toc-h1 toc-link" data-title="Testnet">Testnet</a>
          </li>
          <li>
            <a href="#metadata" class="toc-h1 toc-link" data-title="Metadata">Metadata</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#get-metadata" class="toc-h2 toc-link" data-title="Get metadata">Get metadata</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#websocket-api" class="toc-h1 toc-link" data-title="Websocket API">Websocket API</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#initialization" class="toc-h2 toc-link" data-title="Initialization">Initialization</a>
                  </li>
                  <li>
                    <a href="#market-updates" class="toc-h2 toc-link" data-title="Market updates">Market updates</a>
                  </li>
                  <li>
                    <a href="#parlay-market-requests" class="toc-h2 toc-link" data-title="Parlay Market requests">Parlay Market requests</a>
                  </li>
                  <li>
                    <a href="#line-changes" class="toc-h2 toc-link" data-title="Line changes">Line changes</a>
                  </li>
                  <li>
                    <a href="#live-score-updates" class="toc-h2 toc-link" data-title="Live score updates">Live score updates</a>
                  </li>
                  <li>
                    <a href="#trade-updates" class="toc-h2 toc-link" data-title="Trade updates">Trade updates</a>
                  </li>
                  <li>
                    <a href="#consolidated-trade-updates" class="toc-h2 toc-link" data-title="Consolidated Trade updates">Consolidated Trade updates</a>
                  </li>
                  <li>
                    <a href="#active-order-updates-v1" class="toc-h2 toc-link" data-title="Active order updates v1">Active order updates v1</a>
                  </li>
                  <li>
                    <a href="#active-order-updates-v2" class="toc-h2 toc-link" data-title="Active order updates v2">Active order updates v2</a>
                  </li>
                  <li>
                    <a href="#order-book-updates-v1" class="toc-h2 toc-link" data-title="Order book updates v1">Order book updates v1</a>
                  </li>
                  <li>
                    <a href="#order-book-updates-v2" class="toc-h2 toc-link" data-title="Order book updates v2">Order book updates v2</a>
                  </li>
                  <li>
                    <a href="#best-odds" class="toc-h2 toc-link" data-title="Best odds">Best odds</a>
                  </li>
                  <li>
                    <a href="#best-practices" class="toc-h2 toc-link" data-title="Best Practices">Best Practices</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#api-key" class="toc-h1 toc-link" data-title="API Key">API Key</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#generating-api-key" class="toc-h2 toc-link" data-title="Generating API Key">Generating API Key</a>
                  </li>
                  <li>
                    <a href="#usage" class="toc-h2 toc-link" data-title="Usage">Usage</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#heartbeat" class="toc-h1 toc-link" data-title="Heartbeat">Heartbeat</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#register-heartbeat" class="toc-h2 toc-link" data-title="Register heartbeat">Register heartbeat</a>
                  </li>
                  <li>
                    <a href="#cancel-heartbeat" class="toc-h2 toc-link" data-title="Cancel heartbeat">Cancel heartbeat</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#leagues" class="toc-h1 toc-link" data-title="Leagues">Leagues</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#get-leagues" class="toc-h2 toc-link" data-title="Get leagues">Get leagues</a>
                  </li>
                  <li>
                    <a href="#get-active-leagues" class="toc-h2 toc-link" data-title="Get active leagues">Get active leagues</a>
                  </li>
                  <li>
                    <a href="#get-league-teams" class="toc-h2 toc-link" data-title="Get league teams">Get league teams</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#sports" class="toc-h1 toc-link" data-title="Sports">Sports</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#get-sports" class="toc-h2 toc-link" data-title="Get sports">Get sports</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#fixtures" class="toc-h1 toc-link" data-title="Fixtures">Fixtures</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#get-fixtures" class="toc-h2 toc-link" data-title="Get fixtures">Get fixtures</a>
                  </li>
                  <li>
                    <a href="#get-fixture-status" class="toc-h2 toc-link" data-title="Get fixture status">Get fixture status</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#live-scores" class="toc-h1 toc-link" data-title="Live scores">Live scores</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#get-live-scores" class="toc-h2 toc-link" data-title="Get live scores">Get live scores</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#markets" class="toc-h1 toc-link" data-title="Markets">Markets</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#get-active-markets" class="toc-h2 toc-link" data-title="Get active markets">Get active markets</a>
                  </li>
                  <li>
                    <a href="#get-specific-markets" class="toc-h2 toc-link" data-title="Get specific markets">Get specific markets</a>
                  </li>
                  <li>
                    <a href="#popular-markets" class="toc-h2 toc-link" data-title="Popular markets">Popular markets</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#parlay-markets" class="toc-h1 toc-link" data-title="Parlay Markets">Parlay Markets</a>
          </li>
          <li>
            <a href="#trades" class="toc-h1 toc-link" data-title="Trades">Trades</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#get-active-trades" class="toc-h2 toc-link" data-title="Get active trades">Get active trades</a>
                  </li>
                  <li>
                    <a href="#get-trades-by-orderhash" class="toc-h2 toc-link" data-title="Get trades by orderHash">Get trades by orderHash</a>
                  </li>
                  <li>
                    <a href="#get-consolidated-trades" class="toc-h2 toc-link" data-title="Get consolidated trades">Get consolidated trades</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#orders" class="toc-h1 toc-link" data-title="Orders">Orders</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#get-active-orders" class="toc-h2 toc-link" data-title="Get active orders">Get active orders</a>
                  </li>
                  <li>
                    <a href="#get-best-odds" class="toc-h2 toc-link" data-title="Get best odds">Get best odds</a>
                  </li>
                  <li>
                    <a href="#enabling-betting" class="toc-h2 toc-link" data-title="Enabling betting">Enabling betting</a>
                  </li>
                  <li>
                    <a href="#post-a-new-order" class="toc-h2 toc-link" data-title="Post a new order">Post a new order</a>
                  </li>
                  <li>
                    <a href="#cancel-individual-orders" class="toc-h2 toc-link" data-title="Cancel individual orders">Cancel individual orders</a>
                  </li>
                  <li>
                    <a href="#cancel-event-orders" class="toc-h2 toc-link" data-title="Cancel event orders">Cancel event orders</a>
                  </li>
                  <li>
                    <a href="#cancel-all-orders" class="toc-h2 toc-link" data-title="Cancel all orders">Cancel all orders</a>
                  </li>
                  <li>
                    <a href="#filling-orders-v1" class="toc-h2 toc-link" data-title="Filling orders v1">Filling orders v1</a>
                  </li>
                  <li>
                    <a href="#approve-order-fill" class="toc-h2 toc-link" data-title="Approve order fill">Approve order fill</a>
                  </li>
                  <li>
                    <a href="#filling-orders-v2" class="toc-h2 toc-link" data-title="Filling orders v2">Filling orders v2</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#unit-conversion" class="toc-h1 toc-link" data-title="Unit Conversion">Unit Conversion</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#tokens" class="toc-h2 toc-link" data-title="Tokens">Tokens</a>
                  </li>
                  <li>
                    <a href="#odds" class="toc-h2 toc-link" data-title="Odds">Odds</a>
                  </li>
                  <li>
                    <a href="#bookmaker-odds" class="toc-h2 toc-link" data-title="Bookmaker odds">Bookmaker odds</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#eip712-signing" class="toc-h1 toc-link" data-title="EIP712 Signing">EIP712 Signing</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#private-key-signing-example" class="toc-h2 toc-link" data-title="Private key signing example">Private key signing example</a>
                  </li>
                  <li>
                    <a href="#injected-provider-signing-example" class="toc-h2 toc-link" data-title="Injected provider signing example">Injected provider signing example</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#fees" class="toc-h1 toc-link" data-title="Fees">Fees</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#trading" class="toc-h2 toc-link" data-title="Trading">Trading</a>
                  </li>
              </ul>
          </li>
      </ul>
        <ul class="toc-footer">
            <li><a href='https://sx.bet'>Visit sx.bet</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='introduction'>Introduction</h1>
<p>Be your own bookmaker or fill orders programmatically with the SX.bet API!</p>

<p>Technical questions or need support? <a href="https://discord.gg/Ry8yjAD5YG">Join our discord</a>. </p>

<p><strong>All documentation is provided in JavaScript.</strong></p>

<aside class="notice">
All ETH addresses used in this API are in check-summed format. If you pass in lowercase-only addresses, you won't get results.
</aside>
<h1 id='order-book-v2-upgrades'>Order Book V2 Upgrades</h1><h2 id='how-we-currently-fill-orders'>How we currently fill orders</h2>
<p>Our current endpoint used for taker order filling (see <a href="#filling-orders-v1">Filling orders v1</a>) requires orderHashes and takerAmounts to be precomputed by upstream logic prior to calling the endpoint. Since this derivation of the orders and amounts are done prior to the built-in betting delay, users may have observed ODDS_STALE errors by the time the delay passed since those orders might no longer be active. This is particularly problematic during live games where the betting delay can be 8-12s long.</p>
<h2 id='what-39-s-changing'>What&#39;s changing</h2>
<p>After reviewing a lot of community feedback, we&#39;ve decided to implement a significant improvement in the way orders and order amounts are derived for a taker fill. Now, takers can specify their desired odds and a tolerance level associated with those odds (similar to how web3 users might select a slippage when swapping within a DEX). Orders will then be matched based on the best odds available after the betting delay. See <a href="#filling-orders-v2">Filling orders v2</a> for more information on how to sign and call this new endpoint.</p>

<p>In addition to the new way to fill orders, we&#39;ve also bundled in several other changes:</p>

<ul>
<li>Additional query params for <a href="#get-active-orders">Get orders</a></li>
<li>New <a href="#approve-order-fill">Approve order fill</a> endpoint which separates the token approval logic from the <a href="#filling-orders-v2">Filling orders v2</a> flow.</li>
<li>New <a href="#get-best-odds">Get best odds</a> endpoint to view best available odds for a particular market or token</li>
<li>New orderbook-related channels which are now sent as JSON and now include pendingFillAmounts (see <a href="#active-order-updates-v2">Active order updates v2</a> and <a href="#order-book-updates-v2">Order book updates v2</a>)</li>
</ul>
<h2 id='breaking-changes'>Breaking changes</h2>
<p>To reduce impact as much as possible, we plan to continue to serve the fill v1 endpoint, <a href="#filling-orders-v1">Filling orders v1</a> for the foreseeable future however you can find the tentative deprecation dates for breaking changes below which will also be announced on our Discord well ahead of time. </p>

<table><thead>
<tr>
<th>Change(s)</th>
<th>Date</th>
</tr>
</thead><tbody>
<tr>
<td>Deprecate <code>/orders/cancel</code> endpoint as all makers have now been using <code>/orders/cancel/v2</code> for some time now</td>
<td>July 1, 2025</td>
</tr>
<tr>
<td>Deprecate <code>active_orders</code> and <code>order_book</code> realtime channels as users will now be using <code>active_orders_v2</code> and <code>order_book_v2</code></td>
<td>September 1, 2025</td>
</tr>
</tbody></table>
<h1 id='references'>References</h1><h2 id='mainnet'>Mainnet</h2>
<table><thead>
<tr>
<th>Reference Type</th>
<th>Data</th>
</tr>
</thead><tbody>
<tr>
<td>Chain ID</td>
<td><code>4162</code></td>
</tr>
<tr>
<td>USDC Token Address</td>
<td><code>0x6629Ce1Cf35Cc1329ebB4F63202F3f197b3F050B</code></td>
</tr>
<tr>
<td>WSX Token Address</td>
<td><code>0x3E96B0a25d51e3Cc89C557f152797c33B839968f</code></td>
</tr>
<tr>
<td>SX Application</td>
<td><code>https://sx.bet</code></td>
</tr>
<tr>
<td>SX API URL</td>
<td><code>https://api.sx.bet</code></td>
</tr>
<tr>
<td>RPC URL</td>
<td><code>https://rpc.sx-rollup.gelato.digital</code></td>
</tr>
<tr>
<td>Explorer Page</td>
<td><code>https://explorerl2.sx.technology</code> (this will be replaced by the current explorer domain once migration is fully complete)</td>
</tr>
<tr>
<td>METADATA</td>
<td><code>https://api.sx.bet/metadata</code></td>
</tr>
</tbody></table>
<h2 id='testnet'>Testnet</h2>
<table><thead>
<tr>
<th>Reference Type</th>
<th>Data</th>
</tr>
</thead><tbody>
<tr>
<td>Chain ID</td>
<td><code>79479957</code></td>
</tr>
<tr>
<td>USDC Token Address</td>
<td><code>0x1BC6326EA6aF2aB8E4b6Bc83418044B1923b2956</code></td>
</tr>
<tr>
<td>WSX Token Address</td>
<td><code>0x5c02932f8422D943647682E95c87ea0333191e08</code></td>
</tr>
<tr>
<td>SX Application</td>
<td><code>https://toronto.sx.bet</code></td>
</tr>
<tr>
<td>SX API URL</td>
<td><code>https://api.toronto.sx.bet</code></td>
</tr>
<tr>
<td>RPC URL</td>
<td><code>https://rpc.sx-rollup-testnet.t.raas.gelato.cloud</code></td>
</tr>
<tr>
<td>Explorer Page</td>
<td><code>https://explorerl2.toronto.sx.technology</code> (this will be replaced by the current explorer domain once migration is fully complete)</td>
</tr>
<tr>
<td>METADATA</td>
<td><code>https://api.toronto.sx.bet/metadata</code></td>
</tr>
</tbody></table>
<h2 id='versions-of-dependencies'>Versions of dependencies</h2>
<p>These are the latest versions of js dependencies that are referenced in documentation:</p>

<ul>
<li><code>@metamask/eth-sig-util</code>: 7.0.3</li>
<li><code>ethers</code>: 5.7.2</li>
</ul>
<h1 id='testnet'>Testnet</h1>
<p>We have deployed a testnet chain and application (https://toronto.sx.bet).</p>

<p>See configuration for testnet <a href="#references">here</a>.</p>

<p>Contact the team on our <a href="https://discord.gg/Ry8yjAD5YG">discord</a> to receive testnet funds.</p>
<h1 id='metadata'>Metadata</h1><h2 id='get-metadata'>Get metadata</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--location</span> <span class="nt">--request</span> GET <span class="s1">'https://api.sx.bet/metadata'</span>
</code></pre></div>
<blockquote>
<p>The above command returns JSON structured like this (this just a sample, visit the link for upto date info)</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"executorAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x52adf738AAD93c31f798a30b2C74D658e1E9a562"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"oracleFees"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"0xA173954Cc4b1810C0dBdb007522ADbC182DaB380"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2600000000000000000"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"0xe2aa35C2039Bd0Ff196A6Ef99523CC0D3972ae3e"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2600000000000000000"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"0xaa99bE3356a11eE92c3f099BD7a038399633566f"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2600000000000000000"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"sportXAffiliate"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0xa21ac1436f7fcD43008c9473A78433339E222FcA"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1400000000000000000"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"makerOrderMinimums"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"0xA173954Cc4b1810C0dBdb007522ADbC182DaB380"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5000000000000000"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"0xe2aa35C2039Bd0Ff196A6Ef99523CC0D3972ae3e"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10000000"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"0xaa99bE3356a11eE92c3f099BD7a038399633566f"</span><span class="p">:</span><span class="w"> </span><span class="s2">"30000000000000000000"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"takerMinimums"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"0xA173954Cc4b1810C0dBdb007522ADbC182DaB380"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2500000000000000"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"0xe2aa35C2039Bd0Ff196A6Ef99523CC0D3972ae3e"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5000000"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"0xaa99bE3356a11eE92c3f099BD7a038399633566f"</span><span class="p">:</span><span class="w"> </span><span class="s2">"30000000000000000000"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"addresses"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"416"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"WETH"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0xA173954Cc4b1810C0dBdb007522ADbC182DaB380"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0xe2aa35C2039Bd0Ff196A6Ef99523CC0D3972ae3e"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"WSX"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0xaa99bE3356a11eE92c3f099BD7a038399633566f"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"totalVolume"</span><span class="p">:</span><span class="w"> </span><span class="mf">214120305.80276245</span><span class="p">,</span><span class="w">
    </span><span class="nl">"domainVersion"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5.0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"EIP712FillHasher"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x3E96B0a25d51e3Cc89C557f152797c33B839968f"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"TokenTransferProxy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0xCc4fBba7D0E0F2A03113F42f5D3aE80d9B2aD55d"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"bridgeFee"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"oddsLadderStepSize"</span><span class="p">:</span><span class="w"> </span><span class="mi">25</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>This endpoint retrieves metadata on the exchange itself and useful parameters to interact with the exchange.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>GET https://api.sx.bet/metadata</code></p>
<h3 id='response-format'>Response format</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>string</td>
<td><code>success</code> or <code>failure</code> if the request succeeded or not</td>
</tr>
<tr>
<td>data</td>
<td>any</td>
<td>The metadata for the exchange</td>
</tr>
<tr>
<td>executorAddress</td>
<td>string</td>
<td>The executor address for the sx.bet exchange. Use this address for setting the <code>executor</code> when posting new orders as a market maker</td>
</tr>
<tr>
<td>oracleFees</td>
<td>any</td>
<td>A mapping from token address to a percentage indicating the fees paid on profit for each token. To convert to a readable number, divide by 10^20</td>
</tr>
<tr>
<td>sportXAffiliate</td>
<td>any</td>
<td>The default sx.bet affiliate. Currently set to 0 and unused</td>
</tr>
<tr>
<td>makerOrderMinimums</td>
<td>any</td>
<td>A mapping from token address to a real token amount indicating the minimum maker order size. To convert into a readable amount, see <a href="#tokens">the token conversion section</a></td>
</tr>
<tr>
<td>takerMinimums</td>
<td>any</td>
<td>A mapping from token address to a real token amount indicating the minimum taker order size. To convert into a readable amount, see <a href="#tokens">the token conversion section</a></td>
</tr>
<tr>
<td>addresses</td>
<td>any</td>
<td>A mapping from network id -&gt; canonical token name -&gt; token address of assets supported by the exchange</td>
</tr>
<tr>
<td>totalVolume</td>
<td>number</td>
<td>All time total volume on the exchange</td>
</tr>
<tr>
<td>domainVersion</td>
<td>string</td>
<td>Used in EIP712 signing</td>
</tr>
<tr>
<td>EIP712FillHasher</td>
<td>string</td>
<td>Address used in EIP712 signing for filling orders</td>
</tr>
<tr>
<td>TokenTransferProxy</td>
<td>string</td>
<td>Address used in EIP712 signing for enabling betting</td>
</tr>
<tr>
<td>oddsLadderStepSize</td>
<td>number</td>
<td>Odds ladder step size. See <a href="#post-a-new-order">the post a new order section</a></td>
</tr>
</tbody></table>
<h1 id='websocket-api'>Websocket API</h1>
<p>You must have a valid API key to subscribe to realtime channels via the API. See <strong><a href="#api-key">API Key</a></strong> for more info.</p>

<p>You can connect to the websocket API and listen for realtime changes on several resources such as the order book, markets, scores, and line updates.</p>
<h2 id='initialization'>Initialization</h2><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="k">import</span> <span class="o">*</span> <span class="k">as</span> <span class="nx">ably</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">ably</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">axios</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">axios</span><span class="dl">"</span><span class="p">;</span>

<span class="k">async</span> <span class="kd">function</span> <span class="nx">createTokenRequest</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">response</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">axios</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="dl">"</span><span class="s2">https://api.sx.bet/user/token</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
    <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
      <span class="dl">"</span><span class="s2">X-Api-Key</span><span class="dl">"</span><span class="p">:</span> <span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">SX_BET_API_KEY</span><span class="p">,</span>
    <span class="p">},</span>
  <span class="p">});</span>
  <span class="k">return</span> <span class="nx">response</span><span class="p">.</span><span class="nx">data</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">async</span> <span class="kd">function</span> <span class="nx">initialize</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">realtime</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">ably</span><span class="p">.</span><span class="nx">Realtime</span><span class="p">.</span><span class="nb">Promise</span><span class="p">({</span>
    <span class="na">authCallback</span><span class="p">:</span> <span class="k">async</span> <span class="p">(</span><span class="nx">tokenParams</span><span class="p">,</span> <span class="nx">callback</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="k">try</span> <span class="p">{</span>
        <span class="kd">const</span> <span class="nx">tokenRequest</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">createTokenRequest</span><span class="p">();</span>
        <span class="c1">// Make a network request to GET /user/token passing in</span>
        <span class="c1">// `X-Api-Key: [YOUR_API_KEY]` as a header</span>
        <span class="nx">callback</span><span class="p">(</span><span class="kc">null</span><span class="p">,</span> <span class="nx">tokenRequest</span><span class="p">);</span>
      <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">callback</span><span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="kc">null</span><span class="p">);</span>
      <span class="p">}</span>
    <span class="p">},</span>
  <span class="p">});</span>
  <span class="k">await</span> <span class="nx">ablyClient</span><span class="p">.</span><span class="nx">connection</span><span class="p">.</span><span class="nx">once</span><span class="p">(</span><span class="dl">"</span><span class="s2">connected</span><span class="dl">"</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<p>We use the Ably SDK to allow users to connect to our API. It supports pretty much every major language but all of the examples on this page will be in JavaScript. The API is relatively identical across languages though. See <a href="https://ably.com/documentation/quick-start-guide">this link</a> for a basic overview of the API in other languages.</p>

<aside class="warning">
You only need one instance of the <code>ably</code> object to connect to the API. Connections to multiple channels are multiplexed though the single network connection. If you create too many individual connections, you will be forcefully unsubscribed from all channels and disconnected.
</aside>

<p>All the examples following assume you have a <code>realtime</code> object in scope following the initialization code to the right.</p>
<h2 id='market-updates'>Market updates</h2><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="nx">channel</span> <span class="o">=</span> <span class="nx">realtime</span><span class="p">.</span><span class="nx">channels</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="s2">`markets`</span><span class="p">);</span>
<span class="nx">channel</span><span class="p">.</span><span class="nx">subscribe</span><span class="p">((</span><span class="nx">message</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">message</span><span class="p">.</span><span class="nx">data</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"gameTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1625674200</span><span class="p">,</span><span class="w">
    </span><span class="nl">"group1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MLB"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"leagueId"</span><span class="p">:</span><span class="w"> </span><span class="mi">171</span><span class="p">,</span><span class="w">
    </span><span class="nl">"leagueLabel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MLB"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"line"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
    </span><span class="nl">"liveEnabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"marketHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x384c6d8e17c9b5522a17f7bb049ede7d3dd9dd1311232fe854e7f9f4708dfc4c"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"outcomeOneName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Over 7.0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"outcomeTwoName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Under 7.0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"outcomeVoidName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NO_GAME_OR_EVEN"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"sportId"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
    </span><span class="nl">"sportLabel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Baseball"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"sportXEventId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"L7186379"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ACTIVE"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"teamOneName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tampa Bay Rays"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"teamTwoName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Cleveland Indians"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<p>Subscribe to all changes in markets on sx.bet. You will get updates when</p>

<ul>
<li>A new market is added</li>
<li>A market is removed (set to <code>INACTIVE</code>)</li>
<li>A market&#39;s fields have changed (for example, game time has changed or the market has settled)</li>
</ul>
<h3 id='channel-name-format'>Channel name format</h3>
<p><code>markets</code></p>
<h3 id='message-payload-format'>Message payload format</h3>
<p>See <a href="#get-specific-markets">the markets section</a> for the format of the message</p>
<h2 id='parlay-market-requests'>Parlay Market requests</h2><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="nx">channel</span> <span class="o">=</span> <span class="nx">realtime</span><span class="p">.</span><span class="nx">channels</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="s2">`markets:parlay`</span><span class="p">);</span>
<span class="nx">channel</span><span class="p">.</span><span class="nx">subscribe</span><span class="p">((</span><span class="nx">message</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">message</span><span class="p">.</span><span class="nx">data</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"marketHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x38cceead7bda65c18574a34994ebd8af154725d08aa735dcbf26247a7dcc67bd"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"baseToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x8f3Cf7ad23Cd3CaDbD9735AFf958023239c6A063"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"requestSize"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100000000"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"legs"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"marketHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x0d64c52e8781acdada86920a2d1e5acd6f29dcfe285cf9cae367b671dff05f7d"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"bettingOutcomeOne"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"marketHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0xe609a49d083cd41214a0db276c1ba323c4a947eefd2e4260386fec7b5d258188"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"bettingOutcomeOne"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>When a bettor requests a Parlay Market, a message is sent via the <code>markets:parlay</code> channel. In order to offer orders on Parlay Markets, you will need to subscribe to this channel. The payload will contain the <code>marketHash</code> that is associated with the Parlay Market.</p>

<p>You can post orders to this market as you would for any other market, using this <code>marketHash</code>. The payload also contains the token and size that the bettor is requesting. The <code>legs</code> in the payload contain the underlying legs that make up the parlay market. You can query for market data on each leg&#39;s <code>marketHash</code> to determine current orders for that individual market.</p>
<h3 id='parlaymarket-payload-format'><code>ParlayMarket</code> payload format</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>marketHash</td>
<td>string</td>
<td>The parlay market associated with this request</td>
</tr>
<tr>
<td>baseToken</td>
<td>string</td>
<td>The token this request is denominated in</td>
</tr>
<tr>
<td>requestSize</td>
<td>number</td>
<td>The size in baseTokens that the bettor is requesting. See <a href="#tokens">the token section</a> of how to convert this into nominal amounts</td>
</tr>
<tr>
<td>legs</td>
<td>ParlayMarketLeg[]</td>
<td>An array of legs that make up the parlay</td>
</tr>
</tbody></table>
<h3 id='parlaymarketleg-payload-format'><code>ParlayMarketLeg</code> payload format</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>marketHash</td>
<td>string</td>
<td>The market for an individual leg within the parlay</td>
</tr>
<tr>
<td>bettingOutcomeOne</td>
<td>boolean</td>
<td>The side the bettor is betting for an individual leg within the parlay</td>
</tr>
</tbody></table>

<aside class="notice">
Note that the `requestSize` is only indicating what the user is requesting, but does not limit market makers in how much they want to offer. You are allowed to offer any size.
</aside>
<h2 id='line-changes'>Line changes</h2><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="nx">channel</span> <span class="o">=</span> <span class="nx">realtime</span><span class="p">.</span><span class="nx">channels</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="s2">`main_line`</span><span class="p">);</span>
<span class="nx">channel</span><span class="p">.</span><span class="nx">subscribe</span><span class="p">((</span><span class="nx">message</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">message</span><span class="p">.</span><span class="nx">data</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"marketHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x38cceead7bda65c18574a34994ebd8af154725d08aa735dcbf26247a7dcc67bd"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"marketType"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
  </span><span class="nl">"sportXEventId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"L7178624"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Subscribe to all line changes. Messages are sent for particular combinations of event IDs and market types. Note that only market types with lines will have updates sent. See <a href="#get-active-markets">the active markets section</a> for details on which types have lines.</p>
<h3 id='channel-name-format-2'>Channel name format</h3>
<p><code>main_line</code></p>
<h3 id='message-payload-format-2'>Message payload format</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>marketHash</td>
<td>string</td>
<td>The market which is now the main line for this event ID</td>
</tr>
<tr>
<td>marketType</td>
<td>number</td>
<td>The type of market this update refers to.</td>
</tr>
<tr>
<td>sportXEventId</td>
<td>string</td>
<td>The event ID for this update</td>
</tr>
</tbody></table>

<p>To get the actual line, you&#39;ll have to fetch the market using the <code>marketHash</code></p>
<h2 id='live-score-updates'>Live score updates</h2><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="nx">sportXEventId</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">L7178624</span><span class="dl">"</span><span class="p">;</span>
<span class="kd">const</span> <span class="nx">channel</span> <span class="o">=</span> <span class="nx">realtime</span><span class="p">.</span><span class="nx">channels</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="s2">`live_scores:</span><span class="p">${</span><span class="nx">sportXEventId</span><span class="p">}</span><span class="s2">`</span><span class="p">);</span>
<span class="nx">channel</span><span class="p">.</span><span class="nx">subscribe</span><span class="p">((</span><span class="nx">message</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">message</span><span class="p">.</span><span class="nx">data</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"teamOneScore"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
  </span><span class="nl">"teamTwoScore"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"sportXEventId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"L7178624"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"currentPeriod"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4th Set"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"periodTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-1"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"sportId"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
  </span><span class="nl">"leagueId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1263</span><span class="p">,</span><span class="w">
  </span><span class="nl">"periods"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1st Set"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"isFinished"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"teamOneScore"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"teamTwoScore"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2nd Set"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"isFinished"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"teamOneScore"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"teamTwoScore"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3rd Set"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"isFinished"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"teamOneScore"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"teamTwoScore"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4th Set"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"isFinished"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"teamOneScore"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"teamTwoScore"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Game"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"isFinished"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"teamOneScore"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"teamTwoScore"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"extra"</span><span class="p">:</span><span class="w"> </span><span class="s2">"[{</span><span class="se">\"</span><span class="s2">Name</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Turn</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">Value</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">1</span><span class="se">\"</span><span class="s2">},{</span><span class="se">\"</span><span class="s2">Name</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">DoubleFaults</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">Value</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">{</span><span class="se">\\\"</span><span class="s2">3/6</span><span class="se">\\\"</span><span class="s2">:</span><span class="se">\\\"</span><span class="s2">0,0,0,0,0,0</span><span class="se">\\\"</span><span class="s2">,</span><span class="se">\\\"</span><span class="s2">3/7</span><span class="se">\\\"</span><span class="s2">:</span><span class="se">\\\"</span><span class="s2">0,2,0,0,0,0</span><span class="se">\\\"</span><span class="s2">,</span><span class="se">\\\"</span><span class="s2">3/4</span><span class="se">\\\"</span><span class="s2">:</span><span class="se">\\\"</span><span class="s2">0,0,0,0,0</span><span class="se">\\\"</span><span class="s2">,</span><span class="se">\\\"</span><span class="s2">3/5</span><span class="se">\\\"</span><span class="s2">:</span><span class="se">\\\"</span><span class="s2">0,0,0,0</span><span class="se">\\\"</span><span class="s2">,</span><span class="se">\\\"</span><span class="s2">1/4</span><span class="se">\\\"</span><span class="s2">:</span><span class="se">\\\"</span><span class="s2">0,0,0,0</span><span class="se">\\\"</span><span class="s2">,</span><span class="se">\\\"</span><span class="s2">3/2</span><span class="se">\\\"</span><span class="s2">:</span><span class="se">\\\"</span><span class="s2">0,0,0,0,0,0</span><span class="se">\\\"</span><span class="s2">,</span><span class="se">\\\"</span><span class="s2">1/5</span><span class="se">\\\"</span><span class="s2">:</span><span class="se">\\\"</span><span class="s2">0,0,0,0,0</span><span class="se">\\\"</span><span class="s2">,</span><span class="se">\\\"</span><span class="s2">3/3</span><span class="se">\\\"</span><span class="s2">:</span><span class="se">\\\"</span><span class="s2">0,0,0,0,0</span><span class="se">\\\"</span><span class="s2">,</span><span class="se">\\\"</span><span class="s2">1/6</span><span class="se">\\\"</span><span class="s2">:</span><span class="se">\\\"</span><span class="s2">2,2,0,0,0,0,2,0,0,0</span><span class="se">\\\"</span><span class="s2">,</span><span class="se">\\\"</span><span class="s2">1/7</span><span class="se">\\\"</span><span class="s2">:</span><span class="se">\\\"</span><span class="s2">0,0,0,0,0,0</span><span class="se">\\\"</span><span class="s2">,</span><span class="se">\\\"</span><span class="s2">3/12</span><span class="se">\\\"</span><span class="s2">:</span><span class="se">\\\"</span><span class="s2">0,0,0,0,0,0,0</span><span class="se">\\\"</span><span class="s2">,</span><span class="se">\\\"</span><span class="s2">3/1</span><span class="se">\\\"</span><span class="s2">:</span><span class="se">\\\"</span><span class="s2">0,0,0,0,0</span><span class="se">\\\"</span><span class="s2">,</span><span class="se">\\\"</span><span class="s2">1/1</span><span class="se">\\\"</span><span class="s2">:</span><span class="se">\\\"</span><span class="s2">0,0,0,0,0</span><span class="se">\\\"</span><span class="s2">,</span><span class="se">\\\"</span><span class="s2">1/2</span><span class="se">\\\"</span><span class="s2">:</span><span class="se">\\\"</span><span class="s2">0,0,0,0,0</span><span class="se">\\\"</span><span class="s2">,</span><span class="se">\\\"</span><span class="s2">3/11</span><span class="se">\\\"</span><span class="s2">:</span><span class="se">\\\"</span><span class="s2">0,0,0,0,0,0,2,0</span><span class="se">\\\"</span><span class="s2">,</span><span class="se">\\\"</span><span class="s2">1/3</span><span class="se">\\\"</span><span class="s2">:</span><span class="se">\\\"</span><span class="s2">0,0,0,0,0</span><span class="se">\\\"</span><span class="s2">,</span><span class="se">\\\"</span><span class="s2">3/8</span><span class="se">\\\"</span><span class="s2">:</span><span class="se">\\\"</span><span class="s2">0,0,1,0,0,0,0,0,0,0</span><span class="se">\\\"</span><span class="s2">,</span><span class="se">\\\"</span><span class="s2">1/8</span><span class="se">\\\"</span><span class="s2">:</span><span class="se">\\\"</span><span class="s2">0,0,0,0,0</span><span class="se">\\\"</span><span class="s2">,</span><span class="se">\\\"</span><span class="s2">3/9</span><span class="se">\\\"</span><span class="s2">:</span><span class="se">\\\"</span><span class="s2">0,0,0,0,0</span><span class="se">\\\"</span><span class="s2">,</span><span class="se">\\\"</span><span class="s2">1/9</span><span class="se">\\\"</span><span class="s2">:</span><span class="se">\\\"</span><span class="s2">0,0,0,0,0,0,0,0</span><span class="se">\\\"</span><span class="s2">,</span><span class="se">\\\"</span><span class="s2">2/7</span><span class="se">\\\"</span><span class="s2">:</span><span class="se">\\\"</span><span class="s2">0,0,0,0,0,0</span><span class="se">\\\"</span><span class="s2">,</span><span class="se">\\\"</span><span class="s2">2/6</span><span class="se">\\\"</span><span class="s2">:</span><span class="se">\\\"</span><span class="s2">0,0,0,0,0</span><span class="se">\\\"</span><span class="s2">,</span><span class="se">\\\"</span><span class="s2">2/5</span><span class="se">\\\"</span><span class="s2">:</span><span class="se">\\\"</span><span class="s2">0,0,0,0,0,0,0,0,0,0</span><span class="se">\\\"</span><span class="s2">,</span><span class="se">\\\"</span><span class="s2">2/4</span><span class="se">\\\"</span><span class="s2">:</span><span class="se">\\\"</span><span class="s2">0,0,0,0,0,0,0,0</span><span class="se">\\\"</span><span class="s2">,</span><span class="se">\\\"</span><span class="s2">2/3</span><span class="se">\\\"</span><span class="s2">:</span><span class="se">\\\"</span><span class="s2">0,0,0,0</span><span class="se">\\\"</span><span class="s2">,</span><span class="se">\\\"</span><span class="s2">2/2</span><span class="se">\\\"</span><span class="s2">:</span><span class="se">\\\"</span><span class="s2">0,0,0,0,0,0,0,0</span><span class="se">\\\"</span><span class="s2">,</span><span class="se">\\\"</span><span class="s2">2/1</span><span class="se">\\\"</span><span class="s2">:</span><span class="se">\\\"</span><span class="s2">0,0,0,0,0</span><span class="se">\\\"</span><span class="s2">,</span><span class="se">\\\"</span><span class="s2">4/1</span><span class="se">\\\"</span><span class="s2">:</span><span class="se">\\\"</span><span class="s2">0,0,2,0,2,0</span><span class="se">\\\"</span><span class="s2">,</span><span class="se">\\\"</span><span class="s2">4/3</span><span class="se">\\\"</span><span class="s2">:</span><span class="se">\\\"</span><span class="s2">0,0,0,0,0</span><span class="se">\\\"</span><span class="s2">,</span><span class="se">\\\"</span><span class="s2">4/2</span><span class="se">\\\"</span><span class="s2">:</span><span class="se">\\\"</span><span class="s2">0,0,0,0,0,0,0,0</span><span class="se">\\\"</span><span class="s2">,</span><span class="se">\\\"</span><span class="s2">3/10</span><span class="se">\\\"</span><span class="s2">:</span><span class="se">\\\"</span><span class="s2">0,0,0,0,0,0</span><span class="se">\\\"</span><span class="s2">,</span><span class="se">\\\"</span><span class="s2">2/9</span><span class="se">\\\"</span><span class="s2">:</span><span class="se">\\\"</span><span class="s2">0,0,0,0,0</span><span class="se">\\\"</span><span class="s2">,</span><span class="se">\\\"</span><span class="s2">1/10</span><span class="se">\\\"</span><span class="s2">:</span><span class="se">\\\"</span><span class="s2">0,0,0,0</span><span class="se">\\\"</span><span class="s2">,</span><span class="se">\\\"</span><span class="s2">2/8</span><span class="se">\\\"</span><span class="s2">:</span><span class="se">\\\"</span><span class="s2">0,0,0,0</span><span class="se">\\\"</span><span class="s2">}</span><span class="se">\"</span><span class="s2">},{</span><span class="se">\"</span><span class="s2">Name</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">CourtSurfaceType</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">Value</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Grass</span><span class="se">\"</span><span class="s2">},{</span><span class="se">\"</span><span class="s2">Name</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Aces</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">Value</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">{</span><span class="se">\\\"</span><span class="s2">3/6</span><span class="se">\\\"</span><span class="s2">:</span><span class="se">\\\"</span><span class="s2">0,0,0,0,0,0</span><span class="se">\\\"</span><span class="s2">,</span><span class="se">\\\"</span><span class="s2">3/7</span><span class="se">\\\"</span><span class="s2">:</span><span class="se">\\\"</span><span class="s2">0,0,0,0,0,0</span><span class="se">\\\"</span><span class="s2">,</span><span class="se">\\\"</span><span class="s2">3/4</span><span class="se">\\\"</span><span class="s2">:</span><span class="se">\\\"</span><span class="s2">0,0,0,0,0</span><span class="se">\\\"</span><span class="s2">,</span><span class="se">\\\"</span><span class="s2">3/5</span><span class="se">\\\"</span><span class="s2">:</span><span class="se">\\\"</span><span class="s2">0,2,0,0</span><span class="se">\\\"</span><span class="s2">,</span><span class="se">\\\"</span><span class="s2">1/4</span><span class="se">\\\"</span><span class="s2">:</span><span class="se">\\\"</span><span class="s2">2,2,0,0</span><span class="se">\\\"</span><span class="s2">,</span><span class="se">\\\"</span><span class="s2">3/2</span><span class="se">\\\"</span><span class="s2">:</span><span class="se">\\\"</span><span class="s2">0,0,0,0,0,0</span><span class="se">\\\"</span><span class="s2">,</span><span class="se">\\\"</span><span class="s2">1/5</span><span class="se">\\\"</span><span class="s2">:</span><span class="se">\\\"</span><span class="s2">0,0,0,0,0</span><span class="se">\\\"</span><span class="s2">,</span><span class="se">\\\"</span><span class="s2">3/3</span><span class="se">\\\"</span><span class="s2">:</span><span class="se">\\\"</span><span class="s2">0,0,0,0,2</span><span class="se">\\\"</span><span class="s2">,</span><span class="se">\\\"</span><span class="s2">1/6</span><span class="se">\\\"</span><span class="s2">:</span><span class="se">\\\"</span><span class="s2">0,0,0,0,0,0,0,0,0,0</span><span class="se">\\\"</span><span class="s2">,</span><span class="se">\\\"</span><span class="s2">1/7</span><span class="se">\\\"</span><span class="s2">:</span><span class="se">\\\"</span><span class="s2">0,0,0,0,0,0</span><span class="se">\\\"</span><span class="s2">,</span><span class="se">\\\"</span><span class="s2">3/12</span><span class="se">\\\"</span><span class="s2">:</span><span class="se">\\\"</span><span class="s2">1,0,0,0,0,0,0</span><span class="se">\\\"</span><span class="s2">,</span><span class="se">\\\"</span><span class="s2">3/1</span><span class="se">\\\"</span><span class="s2">:</span><span class="se">\\\"</span><span class="s2">0,0,0,2,0</span><span class="se">\\\"</span><span class="s2">,</span><span class="se">\\\"</span><span class="s2">1/1</span><span class="se">\\\"</span><span class="s2">:</span><span class="se">\\\"</span><span class="s2">0,0,0,0,0</span><span class="se">\\\"</span><span class="s2">,</span><span class="se">\\\"</span><span class="s2">1/2</span><span class="se">\\\"</span><span class="s2">:</span><span class="se">\\\"</span><span class="s2">0,2,0,0,0</span><span class="se">\\\"</span><span class="s2">,</span><span class="se">\\\"</span><span class="s2">3/11</span><span class="se">\\\"</span><span class="s2">:</span><span class="se">\\\"</span><span class="s2">0,0,0,0,0,0,0,0</span><span class="se">\\\"</span><span class="s2">,</span><span class="se">\\\"</span><span class="s2">1/3</span><span class="se">\\\"</span><span class="s2">:</span><span class="se">\\\"</span><span class="s2">0,0,0,0,0</span><span class="se">\\\"</span><span class="s2">,</span><span class="se">\\\"</span><span class="s2">3/8</span><span class="se">\\\"</span><span class="s2">:</span><span class="se">\\\"</span><span class="s2">0,0,0,0,0,0,0,0,0,0</span><span class="se">\\\"</span><span class="s2">,</span><span class="se">\\\"</span><span class="s2">1/8</span><span class="se">\\\"</span><span class="s2">:</span><span class="se">\\\"</span><span class="s2">0,0,0,0,0</span><span class="se">\\\"</span><span class="s2">,</span><span class="se">\\\"</span><span class="s2">3/9</span><span class="se">\\\"</span><span class="s2">:</span><span class="se">\\\"</span><span class="s2">0,0,0,0,0</span><span class="se">\\\"</span><span class="s2">,</span><span class="se">\\\"</span><span class="s2">1/9</span><span class="se">\\\"</span><span class="s2">:</span><span class="se">\\\"</span><span class="s2">0,0,0,0,0,0,0,0</span><span class="se">\\\"</span><span class="s2">,</span><span class="se">\\\"</span><span class="s2">2/7</span><span class="se">\\\"</span><span class="s2">:</span><span class="se">\\\"</span><span class="s2">0,0,0,0,0,0</span><span class="se">\\\"</span><span class="s2">,</span><span class="se">\\\"</span><span class="s2">2/6</span><span class="se">\\\"</span><span class="s2">:</span><span class="se">\\\"</span><span class="s2">0,0,0,0,0</span><span class="se">\\\"</span><span class="s2">,</span><span class="se">\\\"</span><span class="s2">2/5</span><span class="se">\\\"</span><span class="s2">:</span><span class="se">\\\"</span><span class="s2">0,0,0,0,0,0,0,0,0,0</span><span class="se">\\\"</span><span class="s2">,</span><span class="se">\\\"</span><span class="s2">2/4</span><span class="se">\\\"</span><span class="s2">:</span><span class="se">\\\"</span><span class="s2">0,0,0,0,0,0,0,0</span><span class="se">\\\"</span><span class="s2">,</span><span class="se">\\\"</span><span class="s2">2/3</span><span class="se">\\\"</span><span class="s2">:</span><span class="se">\\\"</span><span class="s2">0,0,0,0</span><span class="se">\\\"</span><span class="s2">,</span><span class="se">\\\"</span><span class="s2">2/2</span><span class="se">\\\"</span><span class="s2">:</span><span class="se">\\\"</span><span class="s2">0,0,0,0,0,0,0,0</span><span class="se">\\\"</span><span class="s2">,</span><span class="se">\\\"</span><span class="s2">2/1</span><span class="se">\\\"</span><span class="s2">:</span><span class="se">\\\"</span><span class="s2">0,0,0,0,0</span><span class="se">\\\"</span><span class="s2">,</span><span class="se">\\\"</span><span class="s2">4/1</span><span class="se">\\\"</span><span class="s2">:</span><span class="se">\\\"</span><span class="s2">0,0,0,0,0,0</span><span class="se">\\\"</span><span class="s2">,</span><span class="se">\\\"</span><span class="s2">4/3</span><span class="se">\\\"</span><span class="s2">:</span><span class="se">\\\"</span><span class="s2">0,0,0,0,0</span><span class="se">\\\"</span><span class="s2">,</span><span class="se">\\\"</span><span class="s2">4/2</span><span class="se">\\\"</span><span class="s2">:</span><span class="se">\\\"</span><span class="s2">2,0,0,0,0,0,0,0</span><span class="se">\\\"</span><span class="s2">,</span><span class="se">\\\"</span><span class="s2">3/10</span><span class="se">\\\"</span><span class="s2">:</span><span class="se">\\\"</span><span class="s2">0,0,0,0,0,0</span><span class="se">\\\"</span><span class="s2">,</span><span class="se">\\\"</span><span class="s2">2/9</span><span class="se">\\\"</span><span class="s2">:</span><span class="se">\\\"</span><span class="s2">0,0,0,0,0</span><span class="se">\\\"</span><span class="s2">,</span><span class="se">\\\"</span><span class="s2">1/10</span><span class="se">\\\"</span><span class="s2">:</span><span class="se">\\\"</span><span class="s2">0,0,2,0</span><span class="se">\\\"</span><span class="s2">,</span><span class="se">\\\"</span><span class="s2">2/8</span><span class="se">\\\"</span><span class="s2">:</span><span class="se">\\\"</span><span class="s2">2,0,0,0</span><span class="se">\\\"</span><span class="s2">}</span><span class="se">\"</span><span class="s2">}]"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Subscribe to live score changes for a particular event.</p>
<h3 id='channel-name-format-3'>Channel name format</h3>
<p><code>live_scores:{sportXEventId}</code></p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>sportXEventId</td>
<td>string</td>
<td>The event ID you wish to subscribe to</td>
</tr>
</tbody></table>
<h3 id='message-payload-format-3'>Message payload format</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>teamOneScore</td>
<td>number</td>
<td>The current score for team one. Referring to <code>teamOneName</code> in the <code>Market</code> object itself</td>
</tr>
<tr>
<td>teamTwoScore</td>
<td>number</td>
<td>The current score for team two. Referring to <code>teamTwoName</code> in the <code>Market</code> object itself</td>
</tr>
<tr>
<td>sportXEventId</td>
<td>string</td>
<td>The event ID for this update</td>
</tr>
<tr>
<td>currentPeriod</td>
<td>string</td>
<td>An identifier for the current period</td>
</tr>
<tr>
<td>periodTime</td>
<td>string</td>
<td>The current time for the period. &quot;-1&quot; if not applicable (for example, in tennis)</td>
</tr>
<tr>
<td>sportId</td>
<td>number</td>
<td>The sport ID for this market</td>
</tr>
<tr>
<td>leagueId</td>
<td>number</td>
<td>The league ID for this market</td>
</tr>
<tr>
<td>periods</td>
<td><code>Period</code></td>
<td>Individual period information</td>
</tr>
<tr>
<td>extra</td>
<td>string</td>
<td>JSON encoded extra data for this live score update</td>
</tr>
</tbody></table>

<p>where a <code>Period</code> object looks like</p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>label</td>
<td>string</td>
<td>The period name</td>
</tr>
<tr>
<td>isFinished</td>
<td>boolean</td>
<td><code>true</code> if the period is over</td>
</tr>
<tr>
<td>teamOneScore</td>
<td>string</td>
<td>The score of team one. Referring to <code>teamOneName</code> in the <code>Market</code> object itself</td>
</tr>
<tr>
<td>teamTwoScore</td>
<td>string</td>
<td>The score of team two. Referring to <code>teamTwoName</code> in the <code>Market</code> object itself</td>
</tr>
</tbody></table>

<p>To get the actual line, you&#39;ll have to fetch the market using the <code>marketHash</code></p>
<h2 id='trade-updates'>Trade updates</h2><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="nx">channel</span> <span class="o">=</span> <span class="nx">realtime</span><span class="p">.</span><span class="nx">channels</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="s2">`recent_trades`</span><span class="p">);</span>
<span class="nx">channel</span><span class="p">.</span><span class="nx">subscribe</span><span class="p">((</span><span class="nx">message</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">message</span><span class="p">.</span><span class="nx">data</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div>
<blockquote>
<p>The above command returns JSON structured like this</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"baseToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x8f3Cf7ad23Cd3CaDbD9735AFf958023239c6A063"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"bettor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x814d79A9940CbC5Af4C19cAa118EC065a77CD31f"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"stake"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9999999999999999999"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"odds"</span><span class="p">:</span><span class="w"> </span><span class="s2">"48442571331686290000"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"orderHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0xf7321de419b8887eafe5756d25db37ed2796dfc2495a49e286f13c8533fddb67"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"marketHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x32d6c7d300dc44c795e2bdb0c735d9ad74fd2bbece890129d4a5ea0ec6b566f1"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"maker"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"betTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1625668455</span><span class="p">,</span><span class="w">
  </span><span class="nl">"settled"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"bettingOutcomeOne"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"fillHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x027f3237d9dc9dfa6068b60d852c3e9727768683a8c43b2e1a436029f0de924e"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SUCCESS"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"tradeStatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SUCCESS"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Subscribe to all trade updates on the exchange. You will receive updates when a trade is settled or a new trade is placed.</p>
<h3 id='channel-name-format-4'>Channel name format</h3>
<p><code>recent_trades</code></p>
<h3 id='message-payload-format-4'>Message payload format</h3>
<p>See <a href="#get-active-trades">the trades section</a> for the format of the message</p>
<h2 id='consolidated-trade-updates'>Consolidated Trade updates</h2><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="nx">channel</span> <span class="o">=</span> <span class="nx">realtime</span><span class="p">.</span><span class="nx">channels</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="s2">`recent_trades_consolidated`</span><span class="p">);</span>
<span class="nx">channel</span><span class="p">.</span><span class="nx">subscribe</span><span class="p">((</span><span class="nx">message</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">message</span><span class="p">.</span><span class="nx">data</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div>
<blockquote>
<p>The above command returns JSON structured like this</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"baseToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x5147891461a7C81075950f8eE6384e019e39ab98"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"tradeStatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PENDING"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"bettor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x1562258769E6c0527bd83502E9dfc803929fa446"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"totalStake"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10.0"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"weightedAverageOdds"</span><span class="p">:</span><span class="w"> </span><span class="s2">"70750000000000000000"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"marketHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x5bea2dc8ad1be455547d1ed043cea34457c049a4f6aad0d4ddcb19107e9057f3"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"maker"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"settled"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"fillHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0xd81d39b80f1336affc84c6f03944ad5bc6d6ee1cd7a6ba8318595812d8ad11c7"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"gameLabel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Andrey Rublev vs Fabian Marozsan"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"sportXeventId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"L13351999"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"gameTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2024-07-25T16:00:00.000Z"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"leagueLabel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ATP Umag"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"bettingOutcomeLabel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Andrey Rublev"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"bettingOutcome"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"chainVersion"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SXN"</span><span class="p">,</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Subscribe to all consolidated trade updates on the exchange. You will receive updates when a consolidated trade is settled or a new consolidated trade available.</p>
<h3 id='channel-name-format-5'>Channel name format</h3>
<p><code>recent_trades_consolidated</code></p>
<h3 id='message-payload-format-5'>Message payload format</h3>
<p>See <a href="#get-consolidated-trades">the trades section</a> for the format of the message</p>
<h2 id='active-order-updates-v1'>Active order updates v1</h2>
<aside class="notice">
Deprecating soon! See <a href="#active-order-updates-v2">Active order updates v2</a> for improved channel.
</aside>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="nx">user</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">0x082605F78dD83A8423113ecbEB794Fb3FFE470a2</span><span class="dl">"</span><span class="p">;</span>
<span class="kd">const</span> <span class="nx">token</span> <span class="o">=</span> <span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">USDC_TOKEN_ADDRESS</span><span class="p">;</span> <span class="c1">// get from https://api.sx.bet/metadata</span>
<span class="kd">const</span> <span class="nx">channel</span> <span class="o">=</span> <span class="nx">realtime</span><span class="p">.</span><span class="nx">channels</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="s2">`active_orders:</span><span class="p">${</span><span class="nx">token</span><span class="p">}</span><span class="s2">:</span><span class="p">${</span><span class="nx">user</span><span class="p">}</span><span class="s2">`</span><span class="p">);</span>
<span class="nx">channel</span><span class="p">.</span><span class="nx">subscribe</span><span class="p">((</span><span class="nx">message</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">message</span><span class="p">.</span><span class="nx">data</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div>
<blockquote>
<p>The above command returns JSON structured like this</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">[</span><span class="w">
    </span><span class="s2">"0x7bd766486f589f3e272d48294d8881fe68aae7704f7b2ef0a50bf6128be44271"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"0xde53cf70e510eb5aa63a4bd6582579769980e0c1749b64caa7e6773c0c308188"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"INACTIVE"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"1000000000"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"1000000000"</span><span class="w">
    </span><span class="s2">"20306024864520233000"</span><span class="p">,</span><span class="w">
    </span><span class="mi">2209006800</span><span class="p">,</span><span class="w">
    </span><span class="mi">1625691600</span><span class="p">,</span><span class="w">
    </span><span class="s2">"1271418014917937117393617219009886912225128221921196717331617268846160092273"</span><span class="p">,</span><span class="w">
    </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"0xbf099ab02255d5e2a9e063dc43a7afe96e65f5e8fc2ed3d2ba60b0a3fcadb3441bf32271293e85b7a795c9d86a2304035a0da3285113e746547e236bc58885e01c"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"6982204685293715457"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"SXR"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"L13772588"</span><span class="p">,</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<p>Subscribe to changes in a particular user&#39;s orders. You will receive updates when orders are filled, cancelled, or posted. Note that for performance reasons, updates are delayed by at most 100ms.</p>
<h3 id='channel-name-format-6'>Channel name format</h3>
<p><code>active_orders:{token}:{user}</code></p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>token</td>
<td>string</td>
<td>Restrict updates to only orders denominated in this token</td>
</tr>
<tr>
<td>user</td>
<td>string</td>
<td>The user to subscribe to</td>
</tr>
</tbody></table>
<h3 id='message-payload-format-6'>Message payload format</h3>
<p>The order is packed into an array and the fields are sent in the below order, with the 0th index as the first row. Note that these are the same fields as mentioned in the <a href="#get-active-orders">the orders section</a>, with an additional <code>status</code> and <code>updateTime</code> field.</p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>orderHash</td>
<td>string</td>
<td>A unique identifier for this order</td>
</tr>
<tr>
<td>marketHash</td>
<td>string</td>
<td>The market for this order</td>
</tr>
<tr>
<td>status</td>
<td>string</td>
<td>&quot;ACTIVE&quot; if this order is still valid, &quot;INACTIVE&quot; otherwise</td>
</tr>
<tr>
<td>fillAmount</td>
<td>string</td>
<td>How much this order has been filled in Ethereum units up to a max of <code>totalBetSize</code>. See <a href="#tokens">the token section</a> of how to convert this into nominal amounts</td>
</tr>
<tr>
<td>totalBetSize</td>
<td>string</td>
<td>The total size of this order in Ethereum units. See the <a href="#tokens">the token section</a> section for how to convert this into nominal amounts.</td>
</tr>
<tr>
<td>percentageOdds</td>
<td>string</td>
<td>The odds that the <code>maker</code> receives in the sportx protocol format. To convert to an implied odds divide by 10^20. To convert to the odds that the taker would receive if this order would be filled in implied format, use the formula <code>takerOdds=1-percentageOdds/10^20</code>. See the <a href="#bookmaker-odds">unit conversion section</a> for more details.</td>
</tr>
<tr>
<td>expiry</td>
<td>number</td>
<td>Depcreated field: the time in unix seconds after which this order is no longer valid. Always 2209006800</td>
</tr>
<tr>
<td>apiExpiry</td>
<td>number</td>
<td>The time in unix seconds after which this order is no longer valid</td>
</tr>
<tr>
<td>salt</td>
<td>string</td>
<td>A random number to differentiate identical orders</td>
</tr>
<tr>
<td>isMakerBettingOutcomeOne</td>
<td>boolean</td>
<td><code>true</code> if the maker is betting outcome one (and hence taker is betting outcome two if filled)</td>
</tr>
<tr>
<td>signature</td>
<td>string</td>
<td>Signature of the maker on this order</td>
</tr>
<tr>
<td>updateTime</td>
<td>string</td>
<td>Server-side clock time for the last modification of this order.</td>
</tr>
<tr>
<td>chainVersion</td>
<td>string</td>
<td><code>SXN</code> or <code>SXR</code></td>
</tr>
<tr>
<td>sportXeventId</td>
<td>string</td>
<td>The event related to this order</td>
</tr>
</tbody></table>

<p>Note that the messages are sent in batches in an array. If you receive two updates for the same <code>orderHash</code> within an update, you can order them by <code>updateTime</code> after converting the <code>updateTime</code> to a BigInt or BigNumber.</p>
<h2 id='active-order-updates-v2'>Active order updates v2</h2>
<aside class="notice">
Coming soon! This channel will be available for use soon, please follow our Discord #api-changes channel to stay up to date.
</aside>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="nx">user</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">0x082605F78dD83A8423113ecbEB794Fb3FFE470a2</span><span class="dl">"</span><span class="p">;</span>
<span class="kd">const</span> <span class="nx">token</span> <span class="o">=</span> <span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">USDC_TOKEN_ADDRESS</span><span class="p">;</span> <span class="c1">// get from https://api.sx.bet/metadata</span>
<span class="kd">const</span> <span class="nx">channel</span> <span class="o">=</span> <span class="nx">realtime</span><span class="p">.</span><span class="nx">channels</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="s2">`active_orders_v2:</span><span class="p">${</span><span class="nx">token</span><span class="p">}</span><span class="s2">:</span><span class="p">${</span><span class="nx">user</span><span class="p">}</span><span class="s2">`</span><span class="p">);</span>
<span class="nx">channel</span><span class="p">.</span><span class="nx">subscribe</span><span class="p">((</span><span class="nx">message</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">message</span><span class="p">.</span><span class="nx">data</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div>
<blockquote>
<p>The above command returns JSON structured like this</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"orderHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0xabcdef1234567890abcdef1234567890abcdef1234567890abcdef1234567890"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"marketHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x1234567890abcdef1234567890abcdef1234567890abcdef1234567890abcd"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"INACTIVE"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"fillAmount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1000000000000000000"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"pendingFillAmount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"500000000000000000"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"totalBetSize"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2000000000000000000"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"percentageOdds"</span><span class="p">:</span><span class="w"> </span><span class="s2">"75000000000000000000"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"expiry"</span><span class="p">:</span><span class="w"> </span><span class="mi">1747500000000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"apiExpiry"</span><span class="p">:</span><span class="w"> </span><span class="mi">1747500300000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"salt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234567890123456789012345678901234567890"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"isMakerBettingOutcomeOne"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"signature"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0xbf099ab02255d5e2a9e063dc43a7afe96e65f5e8fc2ed3d2ba60b0a3fcadb3441bf32271293e85b7a795c9d86a2304035a0da3285113e746547e236bc58885e0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"updateTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1747490000000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"sportXeventId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"L13772588"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<p>Subscribe to changes in a particular user&#39;s orders. You will receive updates when orders are filled, cancelled, or posted. Note that for performance reasons, updates are delayed by at most 100ms.</p>
<h3 id='channel-name-format-7'>Channel name format</h3>
<p><code>active_orders_v2:{token}:{user}</code></p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>token</td>
<td>string</td>
<td>Restrict updates to only orders denominated in this token</td>
</tr>
<tr>
<td>user</td>
<td>string</td>
<td>The user to subscribe to</td>
</tr>
</tbody></table>
<h3 id='message-payload-format-7'>Message payload format</h3>
<p>The message payload is an array of JSON objects representing each object with the fields below. Note that these are the same fields as mentioned in the <a href="#get-active-orders">the orders section</a>, with an additional <code>status</code> and <code>updateTime</code> field.</p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>orderHash</td>
<td>string</td>
<td>A unique identifier for this order</td>
</tr>
<tr>
<td>marketHash</td>
<td>string</td>
<td>The market for this order</td>
</tr>
<tr>
<td>status</td>
<td>string</td>
<td>&quot;ACTIVE&quot; if this order is still valid, &quot;INACTIVE&quot; otherwise</td>
</tr>
<tr>
<td>fillAmount</td>
<td>string</td>
<td>How much this order has been filled in Ethereum units up to a max of <code>totalBetSize</code>. See <a href="#tokens">the token section</a> of how to convert this into nominal amounts</td>
</tr>
<tr>
<td>pendingFillAmount</td>
<td>string</td>
<td>What amount is pending fill in Ethereum units up to a max of <code>totalBetSize</code>. See <a href="#tokens">the token section</a> of how to convert this into nominal amounts</td>
</tr>
<tr>
<td>totalBetSize</td>
<td>string</td>
<td>The total size of this order in Ethereum units. See the <a href="#tokens">the token section</a> section for how to convert this into nominal amounts.</td>
</tr>
<tr>
<td>percentageOdds</td>
<td>string</td>
<td>The odds that the <code>maker</code> receives in the sportx protocol format. To convert to an implied odds divide by 10^20. To convert to the odds that the taker would receive if this order would be filled in implied format, use the formula <code>takerOdds=1-percentageOdds/10^20</code>. See the <a href="#bookmaker-odds">unit conversion section</a> for more details.</td>
</tr>
<tr>
<td>expiry</td>
<td>number</td>
<td>Depcreated field: the time in unix seconds after which this order is no longer valid. Always 2209006800</td>
</tr>
<tr>
<td>apiExpiry</td>
<td>number</td>
<td>The time in unix seconds after which this order is no longer valid</td>
</tr>
<tr>
<td>salt</td>
<td>string</td>
<td>A random number to differentiate identical orders</td>
</tr>
<tr>
<td>isMakerBettingOutcomeOne</td>
<td>boolean</td>
<td><code>true</code> if the maker is betting outcome one (and hence taker is betting outcome two if filled)</td>
</tr>
<tr>
<td>signature</td>
<td>string</td>
<td>Signature of the maker on this order</td>
</tr>
<tr>
<td>updateTime</td>
<td>string</td>
<td>Server-side clock time for the last modification of this order.</td>
</tr>
<tr>
<td>sportXeventId</td>
<td>string</td>
<td>The event related to this order</td>
</tr>
</tbody></table>

<p>Note that the messages are sent in batches in an array. If you receive two updates for the same <code>orderHash</code> within an update, you can order them by <code>updateTime</code> after converting the <code>updateTime</code> to a BigInt or BigNumber.</p>
<h2 id='order-book-updates-v1'>Order book updates v1</h2>
<aside class="notice">
Deprecating soon! See <a href="#order-book-updates-v2">Order book updates v2</a> for improved channel.
</aside>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="nx">marketHash</span> <span class="o">=</span>
  <span class="dl">"</span><span class="s2">0x04b9af76dfb92e71500975db77b1de0bb32a0b2413f1b3facbb25278987519a7</span><span class="dl">"</span><span class="p">;</span>
<span class="kd">const</span> <span class="nx">token</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">0xa25dA0331Cd053FD17C47c8c34BCCBAaF516C438</span><span class="dl">"</span><span class="p">;</span>
<span class="kd">const</span> <span class="nx">channel</span> <span class="o">=</span> <span class="nx">realtime</span><span class="p">.</span><span class="nx">channels</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="s2">`order_book:</span><span class="p">${</span><span class="nx">token</span><span class="p">}</span><span class="s2">:</span><span class="p">${</span><span class="nx">marketHash</span><span class="p">}</span><span class="s2">`</span><span class="p">);</span>
<span class="nx">channel</span><span class="p">.</span><span class="nx">subscribe</span><span class="p">((</span><span class="nx">message</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">message</span><span class="p">.</span><span class="nx">data</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div>
<blockquote>
<p>The above command returns JSON structured like this</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">[</span><span class="w">
    </span><span class="s2">"0x7bd766486f589f3e272d48294d8881fe68aae7704f7b2ef0a50bf6128be44271"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"INACTIVE"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"1000000000"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"0x9883D5e7dC023A441A01Ef95aF406C69926a0AB6"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"1000000000"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"20306024864520233000"</span><span class="p">,</span><span class="w">
    </span><span class="mi">2209006800</span><span class="p">,</span><span class="w">
    </span><span class="mi">1625691600</span><span class="p">,</span><span class="w">
    </span><span class="s2">"1271418014917937117393617219009886912225128221921196717331617268846160092273"</span><span class="p">,</span><span class="w">
    </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"0xbf099ab02255d5e2a9e063dc43a7afe96e65f5e8fc2ed3d2ba60b0a3fcadb3441bf32271293e85b7a795c9d86a2304035a0da3285113e746547e236bc58885e01c"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"6982204685293715457"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"SXR"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"L13772588"</span><span class="p">,</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<p>Subscribe to changes in a particular order book. You will receive updates when orders are filled, cancelled, or posted. Note that for performance reasons, updates are delayed by at most 100ms. Updates are packed into arrays to reduce total bandwidth.</p>
<h3 id='channel-name-format-8'>Channel name format</h3>
<p><code>order_book:{token}:{marketHash}</code></p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>token</td>
<td>string</td>
<td>Restrict updates to only orders denominated in this token</td>
</tr>
<tr>
<td>marketHash</td>
<td>string</td>
<td>The market to subscribe to</td>
</tr>
</tbody></table>
<h3 id='message-payload-format-8'>Message payload format</h3>
<p>The order is packed into an array and the fields are sent in the below order, with the 0th index as the first row. Note that these are the same fields as mentioned in the <a href="#get-active-orders">the orders section</a>, with an additional <code>status</code> and <code>updateTime</code> field.</p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>orderHash</td>
<td>string</td>
<td>A unique identifier for this order</td>
</tr>
<tr>
<td>status</td>
<td>string</td>
<td>&quot;ACTIVE&quot; if this order is still valid, &quot;INACTIVE&quot; otherwise</td>
</tr>
<tr>
<td>fillAmount</td>
<td>string</td>
<td>How much this order has been filled in Ethereum units up to a max of <code>totalBetSize</code>. See <a href="#tokens">the token section</a> of how to convert this into nominal amounts</td>
</tr>
<tr>
<td>maker</td>
<td>string</td>
<td>The market maker for this order</td>
</tr>
<tr>
<td>totalBetSize</td>
<td>string</td>
<td>The total size of this order in Ethereum units. See the <a href="#tokens">the token section</a> section for how to convert this into nominal amounts.</td>
</tr>
<tr>
<td>percentageOdds</td>
<td>string</td>
<td>The odds that the <code>maker</code> receives in the sportx protocol format. To convert to an implied odds divide by 10^20. To convert to the odds that the taker would receive if this order would be filled in implied format, use the formula <code>takerOdds=1-percentageOdds/10^20</code>. See the <a href="#bookmaker-odds">unit conversion section</a> for more details.</td>
</tr>
<tr>
<td>expiry</td>
<td>number</td>
<td>Depcreated field: the time in unix seconds after which this order is no longer valid. Always 2209006800</td>
</tr>
<tr>
<td>apiExpiry</td>
<td>number</td>
<td>The time in unix seconds after which this order is no longer valid</td>
</tr>
<tr>
<td>salt</td>
<td>string</td>
<td>A random number to differentiate identical orders</td>
</tr>
<tr>
<td>isMakerBettingOutcomeOne</td>
<td>boolean</td>
<td><code>true</code> if the maker is betting outcome one (and hence taker is betting outcome two if filled)</td>
</tr>
<tr>
<td>signature</td>
<td>string</td>
<td>Signature of the maker on this order</td>
</tr>
<tr>
<td>updateTime</td>
<td>string</td>
<td>Server-side clock time for the last modification of this order.</td>
</tr>
<tr>
<td>chainVersion</td>
<td>string</td>
<td><code>SXN</code> or <code>SXR</code></td>
</tr>
<tr>
<td>sportXeventId</td>
<td>string</td>
<td>The event related to this order</td>
</tr>
</tbody></table>

<p>Note that the messages are sent in batches in an array. If you receive two updates for the same <code>orderHash</code> within an update, you can order them by <code>updateTime</code> after converting the <code>updateTime</code> to a BigInt or BigNumber.</p>
<h2 id='order-book-updates-v2'>Order book updates v2</h2>
<aside class="notice">
Coming soon! This channel will be available for use soon, please follow our Discord #api-changes channel to stay up to date.
</aside>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="nx">marketHash</span> <span class="o">=</span>
  <span class="dl">"</span><span class="s2">0x04b9af76dfb92e71500975db77b1de0bb32a0b2413f1b3facbb25278987519a7</span><span class="dl">"</span><span class="p">;</span>
<span class="kd">const</span> <span class="nx">token</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">0xa25dA0331Cd053FD17C47c8c34BCCBAaF516C438</span><span class="dl">"</span><span class="p">;</span>
<span class="kd">const</span> <span class="nx">channel</span> <span class="o">=</span> <span class="nx">realtime</span><span class="p">.</span><span class="nx">channels</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="s2">`order_book_v2:</span><span class="p">${</span><span class="nx">token</span><span class="p">}</span><span class="s2">:</span><span class="p">${</span><span class="nx">marketHash</span><span class="p">}</span><span class="s2">`</span><span class="p">);</span>
<span class="nx">channel</span><span class="p">.</span><span class="nx">subscribe</span><span class="p">((</span><span class="nx">message</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">message</span><span class="p">.</span><span class="nx">data</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div>
<blockquote>
<p>The above command returns JSON structured like this</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"orderHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x7bd766486f589f3e272d48294d8881fe68aae7704f7b2ef0a50bf6128be44271"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"INACTIVE"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"fillAmount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2000000000"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"pendingFillAmount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1000000000"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"maker"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x9883D5e7dC023A441A01Ef95aF406C69926a0AB6"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"totalBetSize"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5000000000"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"percentageOdds"</span><span class="p">:</span><span class="w"> </span><span class="s2">"75000000000000000000"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"expiry"</span><span class="p">:</span><span class="w"> </span><span class="mi">1747500000000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"apiExpiry"</span><span class="p">:</span><span class="w"> </span><span class="mi">1747500000000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"salt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456789012345678901234567890"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"isMakerBettingOutcomeOne"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"signature"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0xbf099ab02255d5e2a9e063dc43a7afe96e65f5e8fc2ed3d2ba60b0a3fcadb3441bf32271293e85b7a795c9d86a2304035a0da3285113e746547e236bc58885e01"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"updateTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1747490000000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"sportXeventId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"L13772588"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<p>Subscribe to changes in a particular order book. You will receive updates when orders are filled, cancelled, or posted. Note that for performance reasons, updates are delayed by at most 100ms.</p>
<h3 id='channel-name-format-9'>Channel name format</h3>
<p><code>order_book_v2:{token}:{marketHash}</code></p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>token</td>
<td>string</td>
<td>Restrict updates to only orders denominated in this token</td>
</tr>
<tr>
<td>marketHash</td>
<td>string</td>
<td>The market to subscribe to</td>
</tr>
</tbody></table>
<h3 id='message-payload-format-9'>Message payload format</h3>
<p>The message payload is an array of JSON objects representing each object with the fields below. Note that these are the same fields as mentioned in the <a href="#get-active-orders">the orders section</a>, with an additional <code>status</code> and <code>updateTime</code> field.</p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>orderHash</td>
<td>string</td>
<td>A unique identifier for this order</td>
</tr>
<tr>
<td>status</td>
<td>string</td>
<td>&quot;ACTIVE&quot; if this order is still valid, &quot;INACTIVE&quot; if cancelled, &quot;FILLED&quot; if completely filled</td>
</tr>
<tr>
<td>fillAmount</td>
<td>string</td>
<td>How much this order has been filled in Ethereum units up to a max of <code>totalBetSize</code>. See <a href="#tokens">the token section</a> of how to convert this into nominal amounts</td>
</tr>
<tr>
<td>pendingFillAmount</td>
<td>string</td>
<td>What amount is pending fill in Ethereum units up to a max of <code>totalBetSize</code>. See <a href="#tokens">the token section</a> of how to convert this into nominal amounts</td>
</tr>
<tr>
<td>maker</td>
<td>string</td>
<td>The market maker for this order</td>
</tr>
<tr>
<td>totalBetSize</td>
<td>string</td>
<td>The total size of this order in Ethereum units. See the <a href="#tokens">the token section</a> section for how to convert this into nominal amounts.</td>
</tr>
<tr>
<td>percentageOdds</td>
<td>string</td>
<td>The odds that the <code>maker</code> receives in the sportx protocol format. To convert to an implied odds divide by 10^20. To convert to the odds that the taker would receive if this order would be filled in implied format, use the formula <code>takerOdds=1-percentageOdds/10^20</code>. See the <a href="#bookmaker-odds">unit conversion section</a> for more details.</td>
</tr>
<tr>
<td>expiry</td>
<td>number</td>
<td>Depcreated field: the time in unix seconds after which this order is no longer valid. Always 2209006800</td>
</tr>
<tr>
<td>apiExpiry</td>
<td>number</td>
<td>The time in unix seconds after which this order is no longer valid</td>
</tr>
<tr>
<td>salt</td>
<td>string</td>
<td>A random number to differentiate identical orders</td>
</tr>
<tr>
<td>isMakerBettingOutcomeOne</td>
<td>boolean</td>
<td><code>true</code> if the maker is betting outcome one (and hence taker is betting outcome two if filled)</td>
</tr>
<tr>
<td>signature</td>
<td>string</td>
<td>Signature of the maker on this order</td>
</tr>
<tr>
<td>updateTime</td>
<td>string</td>
<td>Server-side clock time for the last modification of this order.</td>
</tr>
<tr>
<td>sportXeventId</td>
<td>string</td>
<td>The event related to this order</td>
</tr>
</tbody></table>

<p>Note that the messages are sent in batches in an array. If you receive two updates for the same <code>orderHash</code> within an update, you can order them by <code>updateTime</code> after converting the <code>updateTime</code> to a BigInt or BigNumber.</p>
<h2 id='best-odds'>Best odds</h2>
<aside class="notice">
Coming soon! This channel will be available for use soon, please follow our Discord #api-changes channel to stay up to date.
</aside>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="nx">marketHash</span> <span class="o">=</span>
  <span class="dl">"</span><span class="s2">0x04b9af76dfb92e71500975db77b1de0bb32a0b2413f1b3facbb25278987519a7</span><span class="dl">"</span><span class="p">;</span>
<span class="kd">const</span> <span class="nx">token</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">0xa25dA0331Cd053FD17C47c8c34BCCBAaF516C438</span><span class="dl">"</span><span class="p">;</span>
<span class="kd">const</span> <span class="nx">channel</span> <span class="o">=</span> <span class="nx">realtime</span><span class="p">.</span><span class="nx">channels</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="s2">`best-odds:</span><span class="p">${</span><span class="nx">token</span><span class="p">}</span><span class="s2">:</span><span class="p">${</span><span class="nx">marketHash</span><span class="p">}</span><span class="s2">`</span><span class="p">);</span>
<span class="nx">channel</span><span class="p">.</span><span class="nx">subscribe</span><span class="p">((</span><span class="nx">message</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">message</span><span class="p">.</span><span class="nx">data</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div>
<blockquote>
<p>The above command returns JSON structured like this</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"baseToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x1BC6326EA6aF2aB8E4b6Bc83418044B1923b2956"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"marketHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0xddaf2ef56d0db2317cf9a1e1dde3de2f2158e28bee55fe35a684389f4dce0cf6"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"isMakerBettingOutcomeOne"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"percentageOdds"</span><span class="p">:</span><span class="w"> </span><span class="s2">"75000000000000000000"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"updatedAt"</span><span class="p">:</span><span class="w"> </span><span class="mi">1747500000000</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<p>Subscribe to best odds changes in a particular order book for the given base token. You will receive updates when orders are filled, cancelled, or posted. Note that for performance reasons, updates are delayed by at most 100ms.</p>
<h3 id='channel-name-format-10'>Channel name format</h3>
<p><code>best_odds:{baseToken}</code></p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>baseToken</td>
<td>string</td>
<td>Restrict updates to only orders denominated in this token</td>
</tr>
</tbody></table>
<h3 id='message-payload-format-10'>Message payload format</h3>
<p>The message payload is an array of JSON objects representing each object with the fields below.</p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>baseToken</td>
<td>string</td>
<td>The token for the best odds result order</td>
</tr>
<tr>
<td>marketHash</td>
<td>string</td>
<td>The market for the best odds result</td>
</tr>
<tr>
<td>isMakerBettingOutcomeOne</td>
<td>boolean</td>
<td>Whether or not the maker is betting outcome one. If false, maker is betting outcome two.</td>
</tr>
<tr>
<td>percentageOdds</td>
<td>string</td>
<td>The odds that the <code>maker</code> receives in the sportx protocol format. To convert to an implied odds divide by 10^20. To convert to the odds that the taker would receive if this order would be filled in implied format, use the formula <code>takerOdds=1-percentageOdds/10^20</code>. See the <a href="#bookmaker-odds">unit conversion section</a> for more details.</td>
</tr>
<tr>
<td>updatedAt</td>
<td>number</td>
<td>The timestamp in milliseconds for when the odds became the best</td>
</tr>
</tbody></table>

<p>Note that the messages are sent in batches in an array. If you receive two updates for the same <code>orderHash</code> within an update, you can order them by <code>updateTime</code> after converting the <code>updateTime</code> to a BigInt or BigNumber.</p>
<h2 id='best-practices'>Best Practices</h2><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="nx">Ably</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">ably</span><span class="dl">"</span><span class="p">);</span>
<span class="k">import</span> <span class="nx">axios</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">axios</span><span class="dl">"</span><span class="p">;</span>

<span class="k">async</span> <span class="kd">function</span> <span class="nx">getOrders</span><span class="p">(</span><span class="nx">marketHash</span><span class="p">,</span> <span class="nx">token</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">response</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">axios</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span>
    <span class="s2">`https://api.sx.bet/orders?marketHashes=</span><span class="p">${</span><span class="nx">marketHash</span><span class="p">}</span><span class="s2">&amp;baseToken=</span><span class="p">${</span><span class="nx">token</span><span class="p">}</span><span class="s2">`</span><span class="p">,</span>
    <span class="p">{</span>
      <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
        <span class="dl">"</span><span class="s2">Content-Type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">application/json</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">X-Api-Key</span><span class="dl">"</span><span class="p">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">apiKey</span><span class="p">,</span>
      <span class="p">},</span>
    <span class="p">}</span>
  <span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">data</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">async</span> <span class="kd">function</span> <span class="nx">orderStream</span><span class="p">(</span><span class="nx">realtime</span><span class="p">,</span> <span class="nx">marketHash</span><span class="p">,</span> <span class="nx">token</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">channel</span> <span class="o">=</span> <span class="nx">realtime</span><span class="p">.</span><span class="nx">channels</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="s2">`order_book:</span><span class="p">${</span><span class="nx">token</span><span class="p">}</span><span class="s2">:</span><span class="p">${</span><span class="nx">marketHash</span><span class="p">}</span><span class="s2">`</span><span class="p">,</span> <span class="p">{</span>
    <span class="na">params</span><span class="p">:</span> <span class="p">{</span> <span class="na">rewind</span><span class="p">:</span> <span class="dl">"</span><span class="s2">10s</span><span class="dl">"</span> <span class="p">},</span>
  <span class="p">});</span>
  <span class="nx">channel</span><span class="p">.</span><span class="nx">subscribe</span><span class="p">((</span><span class="nx">message</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">message</span><span class="p">.</span><span class="nx">data</span><span class="p">);</span>
  <span class="p">});</span>
<span class="p">}</span>

<span class="k">async</span> <span class="kd">function</span> <span class="nx">createTokenRequest</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">createTokenRequest</span><span class="dl">"</span><span class="p">);</span>
  <span class="kd">const</span> <span class="nx">response</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">axios</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="dl">"</span><span class="s2">https://api.sx.bet/user/token</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
    <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
      <span class="dl">"</span><span class="s2">X-Api-Key</span><span class="dl">"</span><span class="p">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">apiKey</span><span class="p">,</span>
      <span class="dl">"</span><span class="s2">Content-Type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">application/json</span><span class="dl">"</span><span class="p">,</span>
    <span class="p">},</span>
  <span class="p">});</span>
  <span class="k">return</span> <span class="nx">response</span><span class="p">.</span><span class="nx">data</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">async</span> <span class="kd">function</span> <span class="nx">initialize</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">ablyClient</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Ably</span><span class="p">.</span><span class="nx">Realtime</span><span class="p">.</span><span class="nb">Promise</span><span class="p">({</span>
    <span class="na">authUrl</span><span class="p">:</span> <span class="dl">"</span><span class="s2">https://ably.com/ably-auth/token/docs</span><span class="dl">"</span><span class="p">,</span>
  <span class="p">});</span>
  <span class="kd">const</span> <span class="nx">realtime</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Ably</span><span class="p">.</span><span class="nx">Realtime</span><span class="p">.</span><span class="nb">Promise</span><span class="p">({</span>
    <span class="na">authCallback</span><span class="p">:</span> <span class="k">async</span> <span class="p">(</span><span class="nx">tokenParams</span><span class="p">,</span> <span class="nx">callback</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="k">try</span> <span class="p">{</span>
        <span class="kd">const</span> <span class="nx">tokenRequest</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">createTokenRequest</span><span class="p">();</span>
        <span class="nx">callback</span><span class="p">(</span><span class="kc">null</span><span class="p">,</span> <span class="nx">tokenRequest</span><span class="p">);</span>
      <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">callback</span><span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="kc">null</span><span class="p">);</span>
      <span class="p">}</span>
    <span class="p">},</span>
  <span class="p">});</span>
  <span class="k">await</span> <span class="nx">ablyClient</span><span class="p">.</span><span class="nx">connection</span><span class="p">.</span><span class="nx">once</span><span class="p">(</span><span class="dl">"</span><span class="s2">connected</span><span class="dl">"</span><span class="p">);</span>
  <span class="k">return</span> <span class="nx">realtime</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">async</span> <span class="kd">function</span> <span class="nx">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">realtime</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">initialize</span><span class="p">();</span>
  <span class="k">await</span> <span class="nx">getOrders</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">marketHash</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">token</span><span class="p">);</span>
  <span class="k">await</span> <span class="nx">orderStream</span><span class="p">(</span><span class="nx">realtime</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">marketHash</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">token</span><span class="p">);</span>
<span class="p">}</span>

<span class="nx">main</span><span class="p">();</span>
</code></pre></div>
<p>For optimal state updates, we recommend a combination of HTTP requests and channel subscriptions, utilizing the rewind parameter. HTTP requests provide the current state, while channel subscriptions keep the state updated. The rewind parameter ensures playback of past events, preventing any missed events between the HTTP call and subscription.
See <a href="https://ably.com/docs/channels/options/rewind?lang=nodejs">this link</a> for an overview of the rewind parameter and more.</p>
<h1 id='api-key'>API Key</h1>
<p>This key is currently required to access the WebSocket through Ably, for realtime updates. Otherwise, in order to use the SX.Bet API, you do NOT need an API Key. The standard API user can perform all the requests provided in this document. There is a baseline rate limiter applied to all requests, regardless of API key.</p>

<p>The API Key will </p>

<aside class="notice">
You must obtain an API Key in order to connect to the WebSocket via Ably.
</aside>
<h2 id='generating-api-key'>Generating API Key</h2>
<ol>
<li>Visit <a href='https://sx.bet'>sx.bet</a> and register/login to your account. You can connect your MetaMask wallet, or login using your Fortmatic email address.</li>
<li>If using MetaMask, <code>sign</code> the Signature Request.</li>
<li>Click the <code>Account</code> tab on the top navigation bar.</li>
<li>Click the <code>Overview</code> tab on the account navigation bar.</li>
<li>You will see an <code>API Credentials</code> card. Complete the <code>Enhanced Verification</code> if you have not yet done so by clicking the link in the card.</li>
<li>If you&#39;ve signed in and completed the enhanced verification, you can now click the button: <code>GENERATE API KEY NOW</code>. An API Key will be displayed.</li>
<li>The API Key generated will not be displayed again, so please <b>copy and save this key for future use</b>.</li>
</ol>

<aside class="notice">
If you lose your key, you can generate a new one by following the same steps. Any previous keys used will be unauthorized if you generate a new key.
</aside>
<h2 id='usage'>Usage</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--location</span> <span class="nt">--request</span> GET <span class="s1">'https://api.sx.bet/user/token'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'X-Api-Key: XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX'</span>
</code></pre></div>
<blockquote>
<p>You must fill your API Key in the header <code>X-Api-Key</code>. The above is a sample command to create an Ably Token Request.</p>
</blockquote>

<p>Once your API Key is generated (see above), you must add it as a HTTP Header with the name: <code>X-Api-Key</code>.</p>
<h1 id='heartbeat'>Heartbeat</h1>
<p>A user may register a <code>heartbeat</code> to SX Bet API using the Heartbeat service. An <a href="#api-key">API Key</a> is necessary for this service. Once you register a heartbeat with the desired timeout value, all your open orders will be automatically cancelled if another heartbeat request is not sent within that timeout period.</p>

<p>This will ensure that when loss of connectivity occurs between your service and SX Bet API, there will be no exposure left on the orderbook.</p>
<h2 id='register-heartbeat'>Register heartbeat</h2>
<p>To register and refresh your heartbeat with 0 &gt; <code>timeoutSeconds</code> &lt;= 3600. Ping this endpoint to maintain your heartbeat after initial registration.</p>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--location</span> <span class="nt">--request</span> POST <span class="s1">'https://api.sx.bet/heartbeat'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'X-Api-Key: &lt;YOUR-API-KEY&gt;'</span> <span class="se">\</span>
<span class="nt">--data-raw</span> <span class="s1">'{
    "requestor": "&lt;YOUR-ACCOUNT-ADDRESS&gt;",
    "timeoutSeconds": 10
}'</span>
</code></pre></div>
<blockquote>
<p>The above command returns JSON structured like this</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"requestor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;YOUR-ACCOUNT-ADDRESS&gt;"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"timeoutSeconds"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
        </span><span class="nl">"expiresAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2024-11-12T14:35:06.614Z"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h2 id='cancel-heartbeat'>Cancel heartbeat</h2>
<p>To cancel a registered heartbeat, you may use the same request to register a heartbeat but use <code>timeoutSeconds=0</code>. This will deactivate the heartbeat and <strong>orders will NOT be cancelled automatically</strong>.</p>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--location</span> <span class="nt">--request</span> POST <span class="s1">'https://api.sx.bet/heartbeat'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'X-Api-Key: &lt;YOUR-API-KEY&gt;'</span> <span class="se">\</span>
<span class="nt">--data-raw</span> <span class="s1">'{
    "requestor": "&lt;YOUR-ACCOUNT-ADDRESS&gt;",
    "timeoutSeconds": 0
}'</span>
</code></pre></div>
<blockquote>
<p>The above command returns JSON structured like this</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"requestor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;YOUR-ACCOUNT-ADDRESS&gt;"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"timeoutSeconds"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"expiresAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2024-11-12T14:35:06.614Z"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='http-request'>HTTP Request</h3>
<p><code>POST https://api.sx.bet/heartbeat</code></p>
<h3 id='request-payload-parameters'>Request payload parameters</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>requestor</td>
<td>true</td>
<td>string</td>
<td>The ethereum address associated with your account</td>
</tr>
<tr>
<td>timeoutSeconds</td>
<td>true</td>
<td>number</td>
<td>The number of seconds before heartbeat service times out and cancels your open orders</td>
</tr>
</tbody></table>

<aside class="notice">
The <code>timeoutSeconds</code> value can be betwteen 0 - 3600 seconds inclusive. 
</aside>
<h3 id='response-format'>Response format</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>string</td>
<td><code>success</code> or <code>failure</code> if the request succeeded or not</td>
</tr>
<tr>
<td>data</td>
<td>object</td>
<td>The response data</td>
</tr>
<tr>
<td>&gt; requestor</td>
<td>string</td>
<td>The ethereum address associated with your account</td>
</tr>
<tr>
<td>&gt; timeoutSeconds</td>
<td>number</td>
<td>The number of seconds before heartbeat service times out and cancels your open orders</td>
</tr>
<tr>
<td>&gt; expiresAt</td>
<td>Date</td>
<td>A JS Date object describing when the heartbeat will timeout/expire (UTC)</td>
</tr>
</tbody></table>
<h1 id='leagues'>Leagues</h1><h2 id='get-leagues'>Get leagues</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--location</span> <span class="nt">--request</span> GET <span class="s1">'https://api.sx.bet/leagues'</span>
</code></pre></div>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"leagueId"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w">
      </span><span class="nl">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The Memorial Tournament_Round 1"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"sportId"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
      </span><span class="nl">"active"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"leagueId"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
      </span><span class="nl">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The Masters_Round 1"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"sportId"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
      </span><span class="nl">"active"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"leagueId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NBA"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"sportId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"active"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"leagueId"</span><span class="p">:</span><span class="w"> </span><span class="mi">28</span><span class="p">,</span><span class="w">
      </span><span class="nl">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US Open_Round 4"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"sportId"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
      </span><span class="nl">"active"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"leagueId"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
      </span><span class="nl">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Wells Fargo Championship_Round 1"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"sportId"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
      </span><span class="nl">"active"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"leagueId"</span><span class="p">:</span><span class="w"> </span><span class="mi">37</span><span class="p">,</span><span class="w">
      </span><span class="nl">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RBC Heritage_Round 4"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"sportId"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
      </span><span class="nl">"active"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"leagueId"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
      </span><span class="nl">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NHL"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"sportId"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="nl">"active"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"leagueId"</span><span class="p">:</span><span class="w"> </span><span class="mi">34</span><span class="p">,</span><span class="w">
      </span><span class="nl">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"UFC"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"sportId"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
      </span><span class="nl">"active"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>This endpoint returns all the leagues supported by SX.bet</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>GET https://api.sx.bet/leagues</code></p>
<h3 id='query-parameters'>Query parameters</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>sportId</td>
<td>false</td>
<td>number</td>
<td>Only return leagues for this particular sport ID.</td>
</tr>
</tbody></table>
<h3 id='response-format'>Response format</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>string</td>
<td><code>success</code> or <code>failure</code> if the request succeeded or not</td>
</tr>
<tr>
<td>data</td>
<td>League[]</td>
<td>An array of league objects</td>
</tr>
</tbody></table>

<p>A <code>League</code> object looks like this</p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>leagueID</td>
<td>number</td>
<td>The ID for this league</td>
</tr>
<tr>
<td>label</td>
<td>string</td>
<td>The name of this league</td>
</tr>
<tr>
<td>sportID</td>
<td>number</td>
<td>The ID of the sport this league corresponds to</td>
</tr>
<tr>
<td>active</td>
<td>boolean</td>
<td>Whether or not the league is active on SX.bet currently</td>
</tr>
</tbody></table>
<h2 id='get-active-leagues'>Get active leagues</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--location</span> <span class="nt">--request</span> GET <span class="s1">'https://api.sx.bet/leagues/active'</span>
</code></pre></div>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"leagueId"</span><span class="p">:</span><span class="w"> </span><span class="mi">34</span><span class="p">,</span><span class="w">
      </span><span class="nl">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"UFC"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"sportId"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
</span><span class="p">,</span><span class="w">
      </span><span class="nl">"eventsByType"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"game-lines"</span><span class="p">:</span><span class="w"> </span><span class="mi">36</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"leagueId"</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span><span class="w">
      </span><span class="nl">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Champions League_UEFA"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"sportId"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
</span><span class="p">,</span><span class="w">
      </span><span class="nl">"eventsByType"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"outright-winner"</span><span class="p">:</span><span class="w"> </span><span class="mi">32</span><span class="p">,</span><span class="w">
        </span><span class="nl">"game-lines"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"leagueId"</span><span class="p">:</span><span class="w"> </span><span class="mi">29</span><span class="p">,</span><span class="w">
      </span><span class="nl">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"English Premier League"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"sportId"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
</span><span class="p">,</span><span class="w">
      </span><span class="nl">"eventsByType"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"outright-winner"</span><span class="p">:</span><span class="w"> </span><span class="mi">23</span><span class="p">,</span><span class="w">
        </span><span class="nl">"game-lines"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"leagueId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1197</span><span class="p">,</span><span class="w">
      </span><span class="nl">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"UEFA Nations League"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"sportId"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
</span><span class="p">,</span><span class="w">
      </span><span class="nl">"eventsByType"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"outright-winner"</span><span class="p">:</span><span class="w"> </span><span class="mi">19</span><span class="p">,</span><span class="w">
        </span><span class="nl">"game-lines"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"leagueId"</span><span class="p">:</span><span class="w"> </span><span class="mi">244</span><span class="p">,</span><span class="w">
      </span><span class="nl">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bundesliga"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"sportId"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
</span><span class="p">,</span><span class="w">
      </span><span class="nl">"eventsByType"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"game-lines"</span><span class="p">:</span><span class="w"> </span><span class="mi">9</span><span class="p">,</span><span class="w">
        </span><span class="nl">"outright-winner"</span><span class="p">:</span><span class="w"> </span><span class="mi">18</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"leagueId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1114</span><span class="p">,</span><span class="w">
      </span><span class="nl">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"La Liga"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"sportId"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
</span><span class="p">,</span><span class="w">
      </span><span class="nl">"eventsByType"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"game-lines"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
        </span><span class="nl">"outright-winner"</span><span class="p">:</span><span class="w"> </span><span class="mi">37</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"leagueId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1112</span><span class="p">,</span><span class="w">
      </span><span class="nl">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ligue 1"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"sportId"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
</span><span class="p">,</span><span class="w">
      </span><span class="nl">"eventsByType"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"game-lines"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w">
        </span><span class="nl">"outright-winner"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"leagueId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1113</span><span class="p">,</span><span class="w">
      </span><span class="nl">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Serie A"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"sportId"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
</span><span class="p">,</span><span class="w">
      </span><span class="nl">"eventsByType"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"outright-winner"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w">
        </span><span class="nl">"game-lines"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"leagueId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1236</span><span class="p">,</span><span class="w">
      </span><span class="nl">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Portugal Primeira Liga"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"sportId"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
</span><span class="p">,</span><span class="w">
      </span><span class="nl">"eventsByType"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"outright-winner"</span><span class="p">:</span><span class="w"> </span><span class="mi">17</span><span class="p">,</span><span class="w">
        </span><span class="nl">"game-lines"</span><span class="p">:</span><span class="w"> </span><span class="mi">9</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>This endpoint returns all the currently active leagues with markets in them.</p>

<aside class="notice">
Note that this endpoint is only updated every 10m.
</aside>
<h3 id='http-request-2'>HTTP Request</h3>
<p><code>GET https://api.sx.bet/leagues/active</code></p>
<h3 id='query-parameters-2'>Query parameters</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>sportId</td>
<td>true</td>
<td>number</td>
<td>Only return active leagues under this sport</td>
</tr>
</tbody></table>
<h3 id='response-format-2'>Response format</h3>
<p>See <a href="#get-leagues">get leagues section</a> for how the response object is formatted. There is an additional field <code>eventsByType</code> which maps the number of unique events within a particular bet group (for example, <code>game-lines</code> or <code>outright-winner</code>).</p>
<h2 id='get-league-teams'>Get league teams</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--location</span> <span class="nt">--request</span> GET <span class="s1">'https://api.sx.bet/leagues/teams/1'</span>
</code></pre></div>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"teams"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">725</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Juventus"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">724</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Inter"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1058</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Napoli"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">719</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Atalanta"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">726</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Lazio"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">728</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AC Milan"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">732</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AS Roma"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">723</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Fiorentina"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">134312</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sassuolo"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">720</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bologna"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">733</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Torino"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1049</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Cagliari"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1062</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sampdoria"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">736</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hellas Verona"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">729</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Parma"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1057</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Genoa"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">734</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Udinese"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1052</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Crotone"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">115743</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Spezia"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">134313</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Benevento"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>This endpoint returns all the teams under a particular league</p>
<h3 id='http-request-3'>HTTP Request</h3>
<p><code>GET https://api.sx.bet/leagues/teams/:id</code></p>
<h3 id='request-parameters'>Request parameters</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>true</td>
<td>number</td>
<td>Return the teams for this league ID</td>
</tr>
</tbody></table>
<h3 id='response-format-3'>Response format</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>string</td>
<td><code>success</code> or <code>failure</code> if the request succeeded or not</td>
</tr>
<tr>
<td>data</td>
<td>object</td>
<td>The response data</td>
</tr>
<tr>
<td>teams</td>
<td>Team[]</td>
<td>An array of teams</td>
</tr>
</tbody></table>

<p>A <code>Team</code> object looks like this</p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>number</td>
<td>The ID for this team</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>The name of this team</td>
</tr>
</tbody></table>
<h1 id='sports'>Sports</h1><h2 id='get-sports'>Get sports</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--location</span> <span class="nt">--request</span> GET <span class="s1">'https://api.sx.bet/sports'</span>
</code></pre></div>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"sportId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Basketball"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"sportId"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="nl">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hockey"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"sportId"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
      </span><span class="nl">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Baseball"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"sportId"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
      </span><span class="nl">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Golf"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"sportId"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
      </span><span class="nl">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Soccer"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"sportId"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
      </span><span class="nl">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tennis"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"sportId"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
      </span><span class="nl">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mixed Martial Arts"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"sportId"</span><span class="p">:</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w">
      </span><span class="nl">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Football"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"sportId"</span><span class="p">:</span><span class="w"> </span><span class="mi">9</span><span class="p">,</span><span class="w">
      </span><span class="nl">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"E Sports"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"sportId"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
      </span><span class="nl">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Custom"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"sportId"</span><span class="p">:</span><span class="w"> </span><span class="mi">11</span><span class="p">,</span><span class="w">
      </span><span class="nl">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rugby Union"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"sportId"</span><span class="p">:</span><span class="w"> </span><span class="mi">12</span><span class="p">,</span><span class="w">
      </span><span class="nl">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Racing"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"sportId"</span><span class="p">:</span><span class="w"> </span><span class="mi">13</span><span class="p">,</span><span class="w">
      </span><span class="nl">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Boxing"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"sportId"</span><span class="p">:</span><span class="w"> </span><span class="mi">14</span><span class="p">,</span><span class="w">
      </span><span class="nl">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Crypto"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"sportId"</span><span class="p">:</span><span class="w"> </span><span class="mi">15</span><span class="p">,</span><span class="w">
      </span><span class="nl">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Cricket"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"sportId"</span><span class="p">:</span><span class="w"> </span><span class="mi">16</span><span class="p">,</span><span class="w">
      </span><span class="nl">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Economics"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"sportId"</span><span class="p">:</span><span class="w"> </span><span class="mi">17</span><span class="p">,</span><span class="w">
      </span><span class="nl">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Politics"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"sportId"</span><span class="p">:</span><span class="w"> </span><span class="mi">18</span><span class="p">,</span><span class="w">
      </span><span class="nl">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Entertainment"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"sportId"</span><span class="p">:</span><span class="w"> </span><span class="mi">19</span><span class="p">,</span><span class="w">
      </span><span class="nl">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Medicinal"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"sportId"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w">
      </span><span class="nl">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rugby League"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>This endpoint retrieves all sports available on the exchange</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>GET https://api.sx.bet/sports</code></p>
<h3 id='response-format'>Response format</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>string</td>
<td><code>success</code> or <code>failure</code> if the request succeeded or not</td>
</tr>
<tr>
<td>data</td>
<td>Sport[]</td>
<td>Sports available on the exchange</td>
</tr>
</tbody></table>

<p>A <code>Sport</code> object looks like</p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>sportId</td>
<td>number</td>
<td>The ID of the sport</td>
</tr>
<tr>
<td>label</td>
<td>string</td>
<td>The sport name</td>
</tr>
</tbody></table>
<h1 id='fixtures'>Fixtures</h1><h2 id='get-fixtures'>Get fixtures</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--location</span> <span class="nt">--request</span> GET <span class="s1">'https://api.sx.bet/fixture/active?leagueId=2'</span>
</code></pre></div>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"participantOneName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Nevada Wolf Pack"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"participantTwoName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"North Dakota State"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"startDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-11-25T20:00:00.000Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"leagueId"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="nl">"leagueLabel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NCAA"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"sportId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"eventId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"L6206070"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"participantOneName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"UMass Lowell River Hawks"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"participantTwoName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"San Francisco Dons"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"startDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-11-25T20:00:00.000Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"leagueId"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="nl">"leagueLabel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NCAA"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"sportId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"eventId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"L6208648"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"participantOneName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"William Jewell"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"participantTwoName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Indianapolis"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"startDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-11-28T03:45:00.000Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"leagueId"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="nl">"leagueLabel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NCAA"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"sportId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"eventId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"L6217784"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>This endpoint returns current active fixtures for a particular league. A fixture can also be thought of as an event and multiple markets are under a particular event. Note that this endpoint only returns fixtures that have a status of either <code>1</code>, <code>2</code>, <code>6</code>, <code>7</code>, <code>8</code>, or <code>9</code>. See <a href="#get-fixture-status">the status table in this section</a> for more details.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>GET https://api.sx.bet/fixture/active</code></p>
<h3 id='query-parameters'>Query parameters</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>leagueId</td>
<td>true</td>
<td>number</td>
<td>The ID of the league</td>
</tr>
</tbody></table>
<h3 id='response-format'>Response format</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>string</td>
<td><code>success</code> or <code>failure</code> if the request succeeded or not</td>
</tr>
<tr>
<td>data</td>
<td>Fixture[]</td>
<td>The active fixtures for this particular league</td>
</tr>
</tbody></table>

<p>A <code>Fixture</code> object looks like this</p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>participantOneName</td>
<td>string?</td>
<td>The first participant in the fixture. Present if it&#39;s a two-participant event.</td>
</tr>
<tr>
<td>participantTwoName</td>
<td>string?</td>
<td>The second participant in the fixture. Present if it&#39;s a two-participant event.</td>
</tr>
<tr>
<td>participants</td>
<td>string[]?</td>
<td>All the participants in the fixture. Present if it&#39;s an n-participant event.</td>
</tr>
<tr>
<td>startDate</td>
<td>string</td>
<td>The start date of the event in UTC time</td>
</tr>
<tr>
<td>status</td>
<td>number</td>
<td>The status of the fixture. See <a href="#get-fixture-status">the status table in this section</a> for more details.</td>
</tr>
<tr>
<td>leagueId</td>
<td>number</td>
<td>The ID of the league this fixture belongs to</td>
</tr>
<tr>
<td>leagueLabel</td>
<td>string</td>
<td>The name of the league this fixture belongs to</td>
</tr>
<tr>
<td>sportId</td>
<td>number</td>
<td>The ID of the sport this fixture belongs to</td>
</tr>
<tr>
<td>eventId</td>
<td>string</td>
<td>The ID of this fixture</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h2 id='get-fixture-status'>Get fixture status</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--location</span> <span class="nt">--request</span> GET <span class="s1">'https://api.sx.bet/fixture/status'</span>
</code></pre></div>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"L6217784"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>This endpoint returns the status of the passed event IDs.</p>
<h3 id='http-request-2'>HTTP Request</h3>
<p><code>GET https://api.sx.bet/fixture/status</code></p>
<h3 id='query-parameters-2'>Query parameters</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>sportXEventIds</td>
<td>true</td>
<td>string[]</td>
<td>An array of event IDs (comma separated)</td>
</tr>
</tbody></table>
<h3 id='response-format-2'>Response format</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>string</td>
<td><code>success</code> or <code>failure</code> if the request succeeded or not</td>
</tr>
<tr>
<td>data</td>
<td>obj</td>
<td>Mapping from event Id to a status flag for each event&#39;s status.</td>
</tr>
</tbody></table>

<p>The possible statuses for a fixture are the following</p>

<table><thead>
<tr>
<th>ID</th>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>1</td>
<td>Not started yet</td>
<td>The event has not started yet</td>
</tr>
<tr>
<td>2</td>
<td>In progress</td>
<td>The event is live</td>
</tr>
<tr>
<td>3</td>
<td>Finished</td>
<td>The event is finished</td>
</tr>
<tr>
<td>4</td>
<td>Cancelled</td>
<td>The event has been cancelled</td>
</tr>
<tr>
<td>5</td>
<td>Postponed</td>
<td>The event has been postponed. Postponed is sent for events which are postponed and will be played at a later time. In case no new start date/time is available within 48 hours, the event will be cancelled. In case a new start time is available within 48 hours, we will update it to &quot;Not started yet&quot; with the new start time.</td>
</tr>
<tr>
<td>6</td>
<td>Interrupted</td>
<td>The event has been interrupted. Interrupted is sent for interrupted events (for example - rain delay). We will continue the coverage once the event is renewed, under the same event ID.</td>
</tr>
<tr>
<td>7</td>
<td>Abandoned</td>
<td>The event has been abandoned. Abandoned is a final status sent for abandoned events (player injury in Tennis for example), these matches will not resume.</td>
</tr>
<tr>
<td>8</td>
<td>Coverage lost</td>
<td>The coverage for this event has been lost</td>
</tr>
<tr>
<td>9</td>
<td>About to start</td>
<td>The event has not started but is about to. Note: this status will be shown up to 30 minutes before the event has started.</td>
</tr>
</tbody></table>
<h1 id='live-scores'>Live scores</h1><h2 id='get-live-scores'>Get live scores</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--location</span> <span class="nt">--request</span> GET <span class="s1">'https://api.sx.bet/live-scores'</span>
</code></pre></div>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-07-08T17:57:38.057Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"currentPeriod"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8th Inning"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"extra"</span><span class="p">:</span><span class="w"> </span><span class="s2">"[{</span><span class="se">\"</span><span class="s2">Name</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Strikes</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">Value</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">0</span><span class="se">\"</span><span class="s2">},{</span><span class="se">\"</span><span class="s2">Name</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Turn</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">Value</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">2</span><span class="se">\"</span><span class="s2">},{</span><span class="se">\"</span><span class="s2">Name</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Balls</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">Value</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">1</span><span class="se">\"</span><span class="s2">},{</span><span class="se">\"</span><span class="s2">Name</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Outs</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">Value</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">2</span><span class="se">\"</span><span class="s2">},{</span><span class="se">\"</span><span class="s2">Name</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Bases</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">Value</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">0/0/0</span><span class="se">\"</span><span class="s2">}]"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"leagueId"</span><span class="p">:</span><span class="w"> </span><span class="mi">171</span><span class="p">,</span><span class="w">
      </span><span class="nl">"periodTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-1"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"periods"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1st Inning"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"isFinished"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
          </span><span class="nl">"teamOneScore"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"teamTwoScore"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2nd Inning"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"isFinished"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
          </span><span class="nl">"teamOneScore"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"teamTwoScore"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3rd Inning"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"isFinished"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
          </span><span class="nl">"teamOneScore"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"teamTwoScore"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4th Inning"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"isFinished"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
          </span><span class="nl">"teamOneScore"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"teamTwoScore"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5th Inning"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"isFinished"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
          </span><span class="nl">"teamOneScore"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"teamTwoScore"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6th Inning"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"isFinished"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
          </span><span class="nl">"teamOneScore"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"teamTwoScore"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7th Inning"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"isFinished"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
          </span><span class="nl">"teamOneScore"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"teamTwoScore"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8th Inning"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"isFinished"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
          </span><span class="nl">"teamOneScore"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"teamTwoScore"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"sportId"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
      </span><span class="nl">"teamOneScore"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"teamTwoScore"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="nl">"updatedAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-07-08T20:35:21.607Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"sportXEventId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"L7187811"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>This endpoint retrieves live scores for a particular event ID.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>GET https://api.sx.bet/live-scores</code></p>
<h3 id='query-parameters'>Query parameters</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>sportXEventIds</td>
<td>true</td>
<td>string[]</td>
<td>An array of event IDs</td>
</tr>
</tbody></table>

<aside class="notice">
Up to 50 event IDs can be supplied at a time. 
</aside>
<h3 id='response-format'>Response format</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>string</td>
<td><code>success</code> or <code>failure</code> if the request succeeded or not</td>
</tr>
<tr>
<td>data</td>
<td>Score[]</td>
<td>The resulting scores for the fixtures passed in</td>
</tr>
</tbody></table>

<p>A <code>Score</code> object has the following format</p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>currentPeriod</td>
<td>string</td>
<td>The current period label</td>
</tr>
<tr>
<td>extra</td>
<td>string</td>
<td>Extra data for this match</td>
</tr>
<tr>
<td>leagueId</td>
<td>number</td>
<td>The league ID for this match</td>
</tr>
<tr>
<td>periodTime</td>
<td>number</td>
<td>The time in the period. If it&#39;s -1, it is not available or the game is finished</td>
</tr>
<tr>
<td>periods</td>
<td>Period[]</td>
<td>All of the periods in the match</td>
</tr>
<tr>
<td>sportId</td>
<td>number</td>
<td>The ID of the sport for this match</td>
</tr>
<tr>
<td>teamOneScore</td>
<td>number</td>
<td>The current score for team one</td>
</tr>
<tr>
<td>teamTwoScore</td>
<td>number</td>
<td>The current score for team two</td>
</tr>
<tr>
<td>sportXEventId</td>
<td>string</td>
<td>The event ID for this match</td>
</tr>
</tbody></table>

<p>A <code>Period</code> object has the following format</p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>label</td>
<td>string</td>
<td>The current period name</td>
</tr>
<tr>
<td>isFinished</td>
<td>boolean</td>
<td><code>true</code> if the period is over</td>
</tr>
<tr>
<td>teamOneScore</td>
<td>string</td>
<td>The score of team one in this period</td>
</tr>
<tr>
<td>teamTwoScore</td>
<td>string</td>
<td>The score of team two in this period</td>
</tr>
</tbody></table>
<h1 id='markets'>Markets</h1><h2 id='get-active-markets'>Get active markets</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--location</span> <span class="nt">--request</span> GET <span class="s1">'https://api.sx.bet/markets/active?onlyMainLine=true'</span>
</code></pre></div>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"markets"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ACTIVE"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"marketHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x0d64c52e8781acdada86920a2d1e5acd6f29dcfe285cf9cae367b671dff05f7d"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"outcomeOneName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Nikoloz Basilashvili"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"outcomeTwoName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Carlos Alcaraz"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"outcomeVoidName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NO_CONTEST"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"teamOneName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Nikoloz Basilashvili"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"teamTwoName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Carlos Alcaraz"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">226</span><span class="p">,</span><span class="w">
        </span><span class="nl">"gameTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1622735700</span><span class="p">,</span><span class="w">
        </span><span class="nl">"sportXEventId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"L7032829"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"liveEnabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"sportLabel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tennis"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"sportId"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
        </span><span class="nl">"leagueId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1070</span><span class="p">,</span><span class="w">
  </span><span class="p">,</span><span class="w">
        </span><span class="nl">"leagueLabel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ATP French Open"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"group1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ATP French Open"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ACTIVE"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"marketHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0xe609a49d083cd41214a0db276c1ba323c4a947eefd2e4260386fec7b5d258188"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"outcomeOneName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Over 36.5"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"outcomeTwoName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Under 36.5"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"outcomeVoidName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NO_GAME_OR_EVEN"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"teamOneName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Nikoloz Basilashvili"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"teamTwoName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Carlos Alcaraz"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="nl">"gameTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1622735700</span><span class="p">,</span><span class="w">
        </span><span class="nl">"line"</span><span class="p">:</span><span class="w"> </span><span class="mf">36.5</span><span class="p">,</span><span class="w">
        </span><span class="nl">"sportXEventId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"L7032829"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"liveEnabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"sportLabel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tennis"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"sportId"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
        </span><span class="nl">"leagueId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1070</span><span class="p">,</span><span class="w">
  </span><span class="p">,</span><span class="w">
        </span><span class="nl">"leagueLabel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ATP French Open"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"mainLine"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"group1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ATP French Open"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ACTIVE"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"marketHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x85e588d72b4a2ec6386846a6f4706dba2124410e38bd8e8f7f37dee9728e0d84"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"outcomeOneName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Nikoloz Basilashvili +1.5"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"outcomeTwoName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Carlos Alcaraz -1.5"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"outcomeVoidName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NO_GAME_OR_EVEN"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"teamOneName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Nikoloz Basilashvili"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"teamTwoName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Carlos Alcaraz"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
        </span><span class="nl">"gameTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1622735700</span><span class="p">,</span><span class="w">
        </span><span class="nl">"line"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.5</span><span class="p">,</span><span class="w">
        </span><span class="nl">"sportXEventId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"L7032829"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"liveEnabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"sportLabel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tennis"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"sportId"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
        </span><span class="nl">"leagueId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1070</span><span class="p">,</span><span class="w">
  </span><span class="p">,</span><span class="w">
        </span><span class="nl">"leagueLabel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ATP French Open"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"mainLine"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"group1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ATP French Open"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"nextKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"60c7b8f54da0ad001aa3261c"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>This endpoint retrieves active markets on the exchange. It does not return markets that have been settled or reported. Note that to retrieve odds for a particular market, you must query the orders endpoint <a href="#get-active-orders">the orders endpoint</a> separately.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>GET https://api.sx.bet/markets/active</code></p>
<h3 id='query-parameters'>Query parameters</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>onlyMainLine</td>
<td>false</td>
<td>boolean</td>
<td>If set to true, the result will only include main lines on spread and over under markets</td>
</tr>
<tr>
<td>eventId</td>
<td>false</td>
<td>string</td>
<td>If set, it will only include markets for a particular sportXEventId</td>
</tr>
<tr>
<td>leagueId</td>
<td>false</td>
<td>number</td>
<td>If set, it will only include markets for a particular league ID</td>
</tr>
<tr>
<td>sportIds</td>
<td>false</td>
<td>number[]</td>
<td>If set, it will only include markets for particular sport IDs (comma separated)</td>
</tr>
<tr>
<td>liveOnly</td>
<td>false</td>
<td>boolean</td>
<td>If set, it will only include markets that are currently available for in-play betting</td>
</tr>
<tr>
<td>betGroup</td>
<td>false</td>
<td>string</td>
<td>If set, it will only include markets for a particular bet group</td>
</tr>
<tr>
<td>type</td>
<td>false</td>
<td>number[]</td>
<td>If set, it will only include markets for those particular market types. See below for the options</td>
</tr>
<tr>
<td>paginationKey</td>
<td>false</td>
<td>string</td>
<td>Used for pagination. Pass the <code>nextKey</code> returned from the previous request to retrieve the next set of records.</td>
</tr>
<tr>
<td>pageSize</td>
<td>false</td>
<td>number</td>
<td>Used for pagination. Requested page size. Each call will only return up to this amount of records. Maximum of 50</td>
</tr>
</tbody></table>

<aside class="notice">
Only one of <code>type</code> and <code>betGroup</code> can be present. Not both.
</aside>
<h3 id='response-format'>Response format</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>string</td>
<td><code>success</code> or <code>failure</code> if the request succeeded or not</td>
</tr>
<tr>
<td>data</td>
<td>object</td>
<td>The response data</td>
</tr>
<tr>
<td>&gt; markets</td>
<td>Market[]</td>
<td>The active markets</td>
</tr>
<tr>
<td>&gt; nextKey</td>
<td>string</td>
<td>Use this key as the <code>paginationKey</code> to retrieve the next set of records, if any</td>
</tr>
</tbody></table>

<p>A <code>market</code> object looks like this</p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>string</td>
<td><code>ACTIVE</code> or <code>INACTIVE</code></td>
</tr>
<tr>
<td>marketHash</td>
<td>string</td>
<td>The unique identifier for the market</td>
</tr>
<tr>
<td>outcomeOneName</td>
<td>string</td>
<td>Outcome one for this market</td>
</tr>
<tr>
<td>outcomeTwoName</td>
<td>string</td>
<td>Outcome two for this market</td>
</tr>
<tr>
<td>outcomeVoidName</td>
<td>string</td>
<td>Outcome void for this market</td>
</tr>
<tr>
<td>teamOneName</td>
<td>string</td>
<td>The name of the first team/player participating</td>
</tr>
<tr>
<td>teamTwoName</td>
<td>string</td>
<td>The name of the second team/player participating</td>
</tr>
<tr>
<td>type</td>
<td>MarketType</td>
<td>The type of the market</td>
</tr>
<tr>
<td>gameTime</td>
<td>number</td>
<td>The UNIX timestamp of the game</td>
</tr>
<tr>
<td>line</td>
<td>number?</td>
<td>The line of the market. Only applicable to markets with a line</td>
</tr>
<tr>
<td>sportXEventId</td>
<td>string</td>
<td>The unique event ID for this market</td>
</tr>
<tr>
<td>liveEnabled</td>
<td>boolean</td>
<td>Whether or not this match is available for live betting</td>
</tr>
<tr>
<td>sportLabel</td>
<td>string</td>
<td>The name of the sport for this market</td>
</tr>
<tr>
<td>sportId</td>
<td>number</td>
<td>The ID of the sport for this market</td>
</tr>
<tr>
<td>leagueId</td>
<td>number</td>
<td>The league ID for this market</td>
</tr>
<tr>
<td>leagueLabel</td>
<td>string</td>
<td>The name of the league for this market</td>
</tr>
<tr>
<td>mainLine</td>
<td>boolean?</td>
<td>If this market is currently the main line or not. If the market is not a market with multiple lines, this field will not be present</td>
</tr>
<tr>
<td>group1</td>
<td>string</td>
<td>Indicator to the client of how to display this market</td>
</tr>
<tr>
<td>group2</td>
<td>string?</td>
<td>Indicator to the client of how to display this market</td>
</tr>
<tr>
<td>teamOneMeta</td>
<td>string?</td>
<td>Extra metadata for team one</td>
</tr>
<tr>
<td>teamTwoMeta</td>
<td>string?</td>
<td>Extra metadata for team two</td>
</tr>
<tr>
<td>marketMeta</td>
<td>string?</td>
<td>Extra metadata for the market overall</td>
</tr>
<tr>
<td>legs</td>
<td>Market[]?</td>
<td>If this is a Parlay Market, this field will contain an array of the underlying Legs as a Market object</td>
</tr>
</tbody></table>

<p>A <code>MarketType</code> can currently be one of the following</p>

<table><thead>
<tr>
<th>ID</th>
<th>Name</th>
<th>Has Lines</th>
<th>Description</th>
<th>Bet Group</th>
</tr>
</thead><tbody>
<tr>
<td>1</td>
<td>1X2</td>
<td>false</td>
<td>Who will win the game (1X2)</td>
<td>1X2</td>
</tr>
<tr>
<td>52</td>
<td>12</td>
<td>false</td>
<td>Who will win the game</td>
<td>game-lines</td>
</tr>
<tr>
<td>88</td>
<td>To Qualify</td>
<td>false</td>
<td>Which team will qualify</td>
<td>game-lines</td>
</tr>
<tr>
<td>226</td>
<td>12 Including Overtime</td>
<td>false</td>
<td>Who will win the game including overtime (no draw)</td>
<td>game-lines</td>
</tr>
<tr>
<td>3</td>
<td>Asian Handicap</td>
<td>true</td>
<td>Who will win the game with handicap (no draw)</td>
<td>game-lines</td>
</tr>
<tr>
<td>201</td>
<td>Asian Handicap Games</td>
<td>true</td>
<td>Who will win more games with handicap (no draw)</td>
<td>game-lines</td>
</tr>
<tr>
<td>342</td>
<td>Asian Handicap Including Overtime</td>
<td>true</td>
<td>Who will win the game with handicap (no draw) including Overtime</td>
<td>game-lines</td>
</tr>
<tr>
<td>2</td>
<td>Under/Over</td>
<td>true</td>
<td>Will the score be under/over a specific line</td>
<td>game-lines</td>
</tr>
<tr>
<td>835</td>
<td>Asian Under/Over</td>
<td>true</td>
<td>Will the score be under/over specific asian line</td>
<td>game-lines</td>
</tr>
<tr>
<td>28</td>
<td>Under/Over Including Overtime</td>
<td>true</td>
<td>Will the score including overtime be over/under a specific line</td>
<td>game-lines</td>
</tr>
<tr>
<td>29</td>
<td>Under/Over Rounds</td>
<td>true</td>
<td>Will the number of rounds in the match will be under/over a specific line</td>
<td>game-lines</td>
</tr>
<tr>
<td>166</td>
<td>Under/Over Games</td>
<td>true</td>
<td>Number of games will be under/over a specific line</td>
<td>game-lines</td>
</tr>
<tr>
<td>1536</td>
<td>Under/Over Maps</td>
<td>true</td>
<td>Will the number of maps be under/over a specific line</td>
<td>game-lines</td>
</tr>
<tr>
<td>274</td>
<td>Outright Winner</td>
<td>false</td>
<td>Winner of a tournament, not a single match</td>
<td>outright-winner</td>
</tr>
<tr>
<td>202</td>
<td>First Period Winner</td>
<td>false</td>
<td>Who will win the 1st Period Home/Away</td>
<td>first-period-lines</td>
</tr>
<tr>
<td>203</td>
<td>Second Period Winner</td>
<td>false</td>
<td>Who will win the 2nd Period Home/Away</td>
<td>second-period-lines</td>
</tr>
<tr>
<td>204</td>
<td>Third Period Winner</td>
<td>false</td>
<td>Who will win the 3rd Period Home/Away</td>
<td>third-period-lines</td>
</tr>
<tr>
<td>205</td>
<td>Fourth Period Winner</td>
<td>false</td>
<td>Who will win the 4th Period Home/Away</td>
<td>fourth-period-lines</td>
</tr>
<tr>
<td>866</td>
<td>Set Spread</td>
<td>true</td>
<td>Which team/player will win more sets with handicap</td>
<td>set-betting</td>
</tr>
<tr>
<td>165</td>
<td>Set Total</td>
<td>true</td>
<td>Number of sets will be under/over a specific line</td>
<td>set-betting</td>
</tr>
<tr>
<td>53</td>
<td>Asian Handicap Halftime</td>
<td>true</td>
<td>Who will win the 1st half with handicap (no draw)</td>
<td>first-half-lines</td>
</tr>
<tr>
<td>64</td>
<td>Asian Handicap First Period</td>
<td>true</td>
<td>Who will win the 1st period with handicap (no draw)</td>
<td>first-period-lines</td>
</tr>
<tr>
<td>65</td>
<td>Asian Handicap Second Period</td>
<td>true</td>
<td>Who will win the 2nd period with handicap (no draw)</td>
<td>second-period-lines</td>
</tr>
<tr>
<td>66</td>
<td>Asian Handicap Third Period</td>
<td>true</td>
<td>Who will win the 3rd period with handicap (no draw)</td>
<td>third-period-lines</td>
</tr>
<tr>
<td>63</td>
<td>12 Halftime</td>
<td>false</td>
<td>Who will win the 1st half (no draw)</td>
<td>first-half-lines</td>
</tr>
<tr>
<td>77</td>
<td>Under/Over Halftime</td>
<td>true</td>
<td>Will the score in the 1st half be under/over a specific line</td>
<td>first-half-lines</td>
</tr>
<tr>
<td>21</td>
<td>Under/Over First Period</td>
<td>true</td>
<td>Will the score in the 1st period be under/over a specific line</td>
<td>first-period-lines</td>
</tr>
<tr>
<td>45</td>
<td>Under/Over Second Period</td>
<td>true</td>
<td>Will the score in the 2nd period be under/over a specific line</td>
<td>second-period-lines</td>
</tr>
<tr>
<td>46</td>
<td>Under/Over Third Period</td>
<td>true</td>
<td>Will the score in the 3rd period be under/over a specific line</td>
<td>third-period-lines</td>
</tr>
<tr>
<td>281</td>
<td>1st Five Innings Asian handicap</td>
<td>true</td>
<td>Who will win the 1st five innings with handicap (no draw)</td>
<td>first-five-innings</td>
</tr>
<tr>
<td>1618</td>
<td>1st 5 Innings Winner-12</td>
<td>false</td>
<td>Who will win in the 1st five innings</td>
<td>first-five-innings</td>
</tr>
<tr>
<td>236</td>
<td>1st 5 Innings Under/Over</td>
<td>true</td>
<td>Will the score in the 1st five innings be under/over a specific line</td>
<td>first-five-innings</td>
</tr>
</tbody></table>

<p>More types will be added continuously.</p>
<h2 id='get-specific-markets'>Get specific markets</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--location</span> <span class="nt">--request</span> GET <span class="s1">'https://api.sx.bet/markets/find'</span>
</code></pre></div>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ACTIVE"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"marketHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x3cba25f2253035b015b9bb555c1bf900f6737704d57425dd2a5b60e929c33b81"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"outcomeOneName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Over 2.5"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"outcomeTwoName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Under 2.5"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"outcomeVoidName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NO_GAME_OR_EVEN"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"teamOneName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Aston Villa"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"teamTwoName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Burnley"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="nl">"gameTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1608228000</span><span class="p">,</span><span class="w">
      </span><span class="nl">"line"</span><span class="p">:</span><span class="w"> </span><span class="mf">2.5</span><span class="p">,</span><span class="w">
      </span><span class="nl">"reportedDate"</span><span class="p">:</span><span class="w"> </span><span class="mi">1608234719</span><span class="p">,</span><span class="w">
      </span><span class="nl">"outcome"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="nl">"teamOneScore"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"teamTwoScore"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"sportXEventId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"L6247212"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"liveEnabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"sportLabel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Soccer"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"sportId"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
      </span><span class="nl">"leagueId"</span><span class="p">:</span><span class="w"> </span><span class="mi">29</span><span class="p">,</span><span class="w">
</span><span class="p">,</span><span class="w">
      </span><span class="nl">"leagueLabel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"English Premier League"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"group1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"English Premier League"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>This endpoint retrieves specific markets</p>
<h3 id='http-request-2'>HTTP Request</h3>
<p><code>GET https://api.sx.bet/markets/find</code></p>
<h3 id='query-parameters-2'>Query parameters</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>marketHashes</td>
<td>true</td>
<td>string[]</td>
<td>The market hashes of the markets to retrieve. Comma separated. <strong>Maximum 30.</strong></td>
</tr>
</tbody></table>
<h3 id='response-format-2'>Response format</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>string</td>
<td><code>success</code> or <code>failure</code> if the request succeeded or not</td>
</tr>
<tr>
<td>data</td>
<td>Market[]</td>
<td>The response data</td>
</tr>
</tbody></table>

<p>See <a href="#get-active-markets">active markets section</a> for how the <code>Market</code> object is formatted. Note that there are a few additional fields if you are querying a market that has been settled/reported:</p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>reportedDate</td>
<td>number</td>
<td>Time in unix seconds of when the market was reported</td>
</tr>
<tr>
<td>outcome</td>
<td>number</td>
<td>The outcome of the market. Can be one of 0 1 or 2. 0 means the market was voided and stakes were returned to bettors. 1 means the outcome labeled <code>outcomeOneName</code> was the outcome. 2 means the outcome labeled <code>outcomeTwoName</code> was the outcome.</td>
</tr>
<tr>
<td>teamOneScore</td>
<td>number</td>
<td>Final score of team one</td>
</tr>
<tr>
<td>teamTwoScore</td>
<td>number</td>
<td>Final score of team two</td>
</tr>
</tbody></table>
<h3 id='error-responses'>Error Responses</h3>
<table><thead>
<tr>
<th>Error Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>BAD_MARKET_HASHES</td>
<td>Invalid <code>marketHashes</code> or more than 30 <code>marketHashes</code> queried</td>
</tr>
</tbody></table>
<h2 id='popular-markets'>Popular markets</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--location</span> <span class="nt">--request</span> GET <span class="s1">'https://api.sx.bet/markets/popular'</span>
</code></pre></div>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ACTIVE"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"marketHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x66fc26c008c724d5dec2fb0bf8fb8797ecc49a4302a785cc8e5e7faf96249d8a"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"outcomeOneName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ismagulov D."</span><span class="p">,</span><span class="w">
      </span><span class="nl">"outcomeTwoName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rafael da Silva Alves"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"outcomeVoidName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NO_GAME"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"teamOneName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ismagulov D."</span><span class="p">,</span><span class="w">
      </span><span class="nl">"teamTwoName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rafael da Silva Alves"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">226</span><span class="p">,</span><span class="w">
      </span><span class="nl">"gameTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1621724400</span><span class="p">,</span><span class="w">
      </span><span class="nl">"sportXEventId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"L6896568"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"liveEnabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"sportLabel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mixed Martial Arts"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"sportId"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
      </span><span class="nl">"leagueId"</span><span class="p">:</span><span class="w"> </span><span class="mi">34</span><span class="p">,</span><span class="w">
</span><span class="p">,</span><span class="w">
      </span><span class="nl">"leagueLabel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"UFC"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"group1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"UFC"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ACTIVE"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"marketHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0xad3494f1bf10e826cd8e0faecd42e0f578f2bc9de748946fbe3d833a11764b89"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"outcomeOneName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"West Ham United -0.5"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"outcomeTwoName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Southampton +0.5"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"outcomeVoidName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NO_GAME_OR_EVEN"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"teamOneName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"West Ham United"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"teamTwoName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Southampton"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
      </span><span class="nl">"gameTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1621782000</span><span class="p">,</span><span class="w">
      </span><span class="nl">"line"</span><span class="p">:</span><span class="w"> </span><span class="mf">-0.5</span><span class="p">,</span><span class="w">
      </span><span class="nl">"sportXEventId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"L6973172"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"liveEnabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"sportLabel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Soccer"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"sportId"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
      </span><span class="nl">"leagueId"</span><span class="p">:</span><span class="w"> </span><span class="mi">29</span><span class="p">,</span><span class="w">
</span><span class="p">,</span><span class="w">
      </span><span class="nl">"leagueLabel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"English Premier League"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"mainLine"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"group1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"English Premier League"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>This endpoint retrieves the top 10 popular markets by volume.</p>
<h3 id='http-request-3'>HTTP Request</h3>
<p><code>GET https://api.sx.bet/markets/popular</code></p>
<h3 id='response-format-3'>Response format</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>string</td>
<td><code>success</code> or <code>failure</code> if the request succeeded or not</td>
</tr>
<tr>
<td>data</td>
<td>Market[]</td>
<td>The response data</td>
</tr>
</tbody></table>

<p>See <a href="#get-active-markets">active markets section</a> for how the <code>Market</code> object is formatted</p>
<h1 id='parlay-markets'>Parlay Markets</h1>
<p>Bettors can request a custom parlay on <a href="https://sx.bet">SX.Bet</a> by selecting multiple markets. When they submit a parlay request, a message is sent via Websocket (See <a href="#parlay-market-requests">this link</a> for more details on the request). Once this message is sent, makers will be able to submit orders to this market for upto three seconds.</p>

<p>Market makers can use the payload data from the Parlay Request to submit an <a href="#post-a-new-order">order</a>. Market makers have a three second window to post orders. After this point, bettors will be shown all available orders at the same time and no other orders will be viewable by the bettor.</p>

<p>Bettors can choose which order to take and will be able to fill orders like any other non-parlay order.</p>

<p>Market makers can <a href="#cancel-individual-orders">cancel</a> orders like any other non-parlay order.</p>

<aside class="notice">
The parlay order-book that is displayed to a bettor will automatically close after one minute. Your orders may still be active even though the order-book window has closed (the user will not be able to view your order after the window closes).
</aside>

<aside class="notice">
Parlay Orders will expire just as normal orders do, so please set the `apiExpiry` on your orders accordingly.
</aside>

<aside class="notice">
Parlay Markets act as regular markets, but with additional fields to indicate the underlying legs that make up the Parlay.
</aside>
<h1 id='trades'>Trades</h1><h2 id='get-active-trades'>Get active trades</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--location</span> <span class="nt">--request</span> GET <span class="s1">'https://api.sx.bet/trades'</span>
</code></pre></div>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"trades"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"baseToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x8f3Cf7ad23Cd3CaDbD9735AFf958023239c6A063"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"bettor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x63a4491dC73245E181c47BAe0ae9d6627E56dE55"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"stake"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10236134166947574099"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"odds"</span><span class="p">:</span><span class="w"> </span><span class="s2">"50583446830801460000"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"orderHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0xb47329db2a3f612748094f415f9bf478cbed2f196548ec68154bd1fc543a6f09"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"marketHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x3fd03af14bf11264f5274ed4c8cc283e4479d29d33e17409e8e7d9b26ca9f030"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"maker"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"betTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1607708054</span><span class="p">,</span><span class="w">
        </span><span class="nl">"settled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"settleValue"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"bettingOutcomeOne"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"fillHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0xbe846c92bec584c4d2215df76ac7d53ebab25f81a30cca5811fb93f35e8b5321"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"tradeStatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SUCCESS"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"valid"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"outcome"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"settleDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-12-11T20:17:45.990Z"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"baseToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x8f3Cf7ad23Cd3CaDbD9735AFf958023239c6A063"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"bettor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x683bcf3ecc5A6e2E99ff83f3300515a584108391"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"stake"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9999999999999999999"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"odds"</span><span class="p">:</span><span class="w"> </span><span class="s2">"49416553169198540000"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"orderHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0xb47329db2a3f612748094f415f9bf478cbed2f196548ec68154bd1fc543a6f09"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"marketHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x3fd03af14bf11264f5274ed4c8cc283e4479d29d33e17409e8e7d9b26ca9f030"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"maker"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"betTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1607708054</span><span class="p">,</span><span class="w">
        </span><span class="nl">"settled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"settleValue"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"bettingOutcomeOne"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"fillHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0xbe846c92bec584c4d2215df76ac7d53ebab25f81a30cca5811fb93f35e8b5321"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"tradeStatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SUCCESS"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"valid"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"outcome"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"settleDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-12-11T20:17:45.990Z"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"baseToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x8f3Cf7ad23Cd3CaDbD9735AFf958023239c6A063"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"bettor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0xE965292B97CD666e85FaB99e2732b1A71046cf3F"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"stake"</span><span class="p">:</span><span class="w"> </span><span class="s2">"17592800276256254757"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"odds"</span><span class="p">:</span><span class="w"> </span><span class="s2">"69184587813620070000"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"orderHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x1534133364d8b18d803a9419914bb89a651de5e9fa1845868d6844a6670c4762"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"marketHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0xcb8285aeef17d824b76cf4a00ba5f2bf256048114937c85609897e7b8967e9ca"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"maker"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"betTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1607719092</span><span class="p">,</span><span class="w">
        </span><span class="nl">"settled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"settleValue"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"bettingOutcomeOne"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"fillHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0xc0240cf27c111d843bc4cf2de0521ab097223de933125857343e7a6fba469172"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"tradeStatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SUCCESS"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"valid"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"outcome"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"settleDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-12-11T22:02:19.484Z"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"baseToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x8f3Cf7ad23Cd3CaDbD9735AFf958023239c6A063"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"bettor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x5aC843EecBf67669d4003aa49aE5e0136dc73365"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"stake"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7835984995472770999"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"odds"</span><span class="p">:</span><span class="w"> </span><span class="s2">"30815412186379930000"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"orderHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x1534133364d8b18d803a9419914bb89a651de5e9fa1845868d6844a6670c4762"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"marketHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0xcb8285aeef17d824b76cf4a00ba5f2bf256048114937c85609897e7b8967e9ca"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"maker"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"betTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1607719092</span><span class="p">,</span><span class="w">
        </span><span class="nl">"settled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"settleValue"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"bettingOutcomeOne"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"fillHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0xc0240cf27c111d843bc4cf2de0521ab097223de933125857343e7a6fba469172"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"tradeStatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SUCCESS"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"valid"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"outcome"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"settleDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-12-11T22:02:19.484Z"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"nextKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"60e4b70dc476a37a5b1b15ae"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"pageSize"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>This endpoint retrieves past trades on the exchange split up by order. This is a paginated endpoint. For example, if a trade fills more than one order at once, it will show up as two entries for the bettor.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>GET https://api.sx.bet/trades</code></p>
<h3 id='query-parameters'>Query parameters</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>startDate</td>
<td>false</td>
<td>number</td>
<td>Only get trades placed after this time in UNIX seconds</td>
</tr>
<tr>
<td>endDate</td>
<td>false</td>
<td>number</td>
<td>Only get trades placed before this time in UNIX seconds</td>
</tr>
<tr>
<td>bettor</td>
<td>false</td>
<td>string</td>
<td>Only get trades placed by this bettor (regardless if maker or taker)</td>
</tr>
<tr>
<td>settled</td>
<td>false</td>
<td>boolean</td>
<td>If <code>true</code>, only get settled trades</td>
</tr>
<tr>
<td>marketHashes</td>
<td>false</td>
<td>string[]</td>
<td>Only get trades for particular markets. Comma separated</td>
</tr>
<tr>
<td>baseToken</td>
<td>false</td>
<td>string</td>
<td>Only get trades placed for a particular token</td>
</tr>
<tr>
<td>maker</td>
<td>false</td>
<td>boolean</td>
<td>If <code>true</code>, only get trades where the bettor is the maker</td>
</tr>
<tr>
<td>affiliate</td>
<td>false</td>
<td>string</td>
<td>Only get trades under this affiliate</td>
</tr>
<tr>
<td>pageSize</td>
<td>false</td>
<td>number</td>
<td>Requested page size. Each call will only return up to this amount of records. Default is 100.</td>
</tr>
<tr>
<td>paginationKey</td>
<td>false</td>
<td>string</td>
<td>Used for pagination. Pass the <code>nextKey</code> returned from the previous request to retrieve the next set of records.</td>
</tr>
<tr>
<td>tradeStatus</td>
<td>false</td>
<td>string</td>
<td>Filter trades to see only those with <code>SUCCESS</code> or <code>FAILED</code> status&#39;</td>
</tr>
</tbody></table>
<h3 id='response-format'>Response format</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>string</td>
<td><code>success</code> or <code>failure</code> if the request succeeded or not</td>
</tr>
<tr>
<td>data</td>
<td>object</td>
<td>The response data</td>
</tr>
<tr>
<td>&gt; trades</td>
<td>Trade[]</td>
<td>The trades for the request</td>
</tr>
<tr>
<td>&gt; nextKey</td>
<td>string</td>
<td>Use this key as the <code>paginationKey</code> to retrieve the next set of records, if any</td>
</tr>
<tr>
<td>&gt; pageSize</td>
<td>number</td>
<td>Maximum amount of records on this page. Will be equal to the <code>pageSize</code> passed in</td>
</tr>
</tbody></table>

<p>A <code>Trade</code> object has the following format</p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>baseToken</td>
<td>string</td>
<td>The token in which this trade was placed</td>
</tr>
<tr>
<td>bettor</td>
<td>string</td>
<td>The address of the bettor who placed the trade</td>
</tr>
<tr>
<td>stake</td>
<td>string</td>
<td>Exact token amount that was staked for the bet. To convert into a readable token amount, see <a href="#tokens">the token conversion section</a></td>
</tr>
<tr>
<td>normalizedStake</td>
<td>string</td>
<td>The <code>stake</code> value in the correct decimal format for the <code>baseToken</code></td>
</tr>
<tr>
<td>odds</td>
<td>string</td>
<td>Implied odds that the bettor received for this bet. Divide by 10^20 to get the odds in decimal format.</td>
</tr>
<tr>
<td>orderHash</td>
<td>string</td>
<td>The unique identifier of the order that was filled for this trade</td>
</tr>
<tr>
<td>marketHash</td>
<td>string</td>
<td>The unique identifier of the market for which this trade was placed</td>
</tr>
<tr>
<td>maker</td>
<td>boolean</td>
<td><code>true</code> if the bettor is market maker in this trade</td>
</tr>
<tr>
<td>betTime</td>
<td>number</td>
<td>The time in UNIX seconds when the trade was placed</td>
</tr>
<tr>
<td>settled</td>
<td>boolean</td>
<td><code>true</code> if this bet is settled (this refers to if the bet was won lost or voided, not if the trade succeeded or not)</td>
</tr>
<tr>
<td>bettingOutcomeOne</td>
<td>boolean</td>
<td><code>true</code> if the bettor is betting outcome one in the market</td>
</tr>
<tr>
<td>fillHash</td>
<td>string</td>
<td>The unique identifier for this trade</td>
</tr>
<tr>
<td>tradeStatus</td>
<td>string</td>
<td><code>SUCCESS</code> or <code>FAILED</code> depending on if this trade succeeded or not</td>
</tr>
<tr>
<td>valid</td>
<td>boolean</td>
<td><code>true</code> if the trade counts toward competitions or tournaments</td>
</tr>
<tr>
<td>outcome</td>
<td>number</td>
<td>with <code>settled=true</code>, this will be 0, 1, or 2 depending on the final outcome of the market</td>
</tr>
<tr>
<td>settleDate</td>
<td>string</td>
<td>ISO formatted date string of when the trade was settled</td>
</tr>
<tr>
<td>chainVersion</td>
<td>string</td>
<td><code>SXN</code> or <code>SXR</code>. See <a href="#sx-rollup-migration-guide">migration docs</a>.</td>
</tr>
<tr>
<td>sportXeventId</td>
<td>string</td>
<td>The event related to this trade</td>
</tr>
<tr>
<td>netReturn</td>
<td>string</td>
<td>The net return amount in the <code>baseToken</code> value</td>
</tr>
<tr>
<td>settleNetReturnValue</td>
<td>string</td>
<td>The net return amount in USD (at the time of settlement)</td>
</tr>
</tbody></table>
<h2 id='get-trades-by-orderhash'>Get trades by orderHash</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--location</span> <span class="nt">--request</span> GET <span class="s1">'https://api.sx.bet/trades/orders'</span>
</code></pre></div>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"trades"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"baseToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x6629Ce1Cf35Cc1329ebB4F63202F3f197b3F050B"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"tradeStatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SUCCESS"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"bettor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x5B3498Cb20C3107B5B267fabd3601B6425BDeb42"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"stake"</span><span class="p">:</span><span class="w"> </span><span class="s2">"907458563"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"odds"</span><span class="p">:</span><span class="w"> </span><span class="s2">"54750000000000000000"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"orderHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0xb338c7d03b09d6cefdf2cd7e79f72ea601cfd0fa10c35b351c7a59d5c8125675"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"marketHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x526e24b9eca9bcbd51e4a19135a998e6a8d8fff06bd6668bfb8f35528837a1c2"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"maker"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"betTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2025-04-24T06:39:37.078Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"betType"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"betTimeValue"</span><span class="p">:</span><span class="w"> </span><span class="mf">907.458563</span><span class="p">,</span><span class="w">
        </span><span class="nl">"settled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"settleValue"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"bettingOutcomeOne"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"fillHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0xb6b15fe7d4d337ff0ae0e2a233203385e619c5e1edf23f04135efbf12128def8"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"affiliate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x0000000000000000000000000000000000000000"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"valid"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"providerEventId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"15468276"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"settleDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2025-04-24T17:38:24.885Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"outcome"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="nl">"contractsVersion"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6.0"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"settleTxHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x0b33bf455a90469bdbc30ebea3a9930fe1f1525c03895c45c8e4feb98d6ac365"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"fillOrderHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0xe6f4410a4fbd649e8fc72d764056fbd01c27d8b9d2749bd2cf78f2a161dde963"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"chainVersion"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SXR"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"sportXeventId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"L15468276"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"netReturn"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1657.458563"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"settleNetReturnValue"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1657.458563"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"normalizedStake"</span><span class="p">:</span><span class="w"> </span><span class="s2">"907.458563"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"baseToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x6629Ce1Cf35Cc1329ebB4F63202F3f197b3F050B"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"tradeStatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SUCCESS"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"bettor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0xA3C9202458BBE5EBa0b962835487d817f3955d01"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"stake"</span><span class="p">:</span><span class="w"> </span><span class="s2">"750000000"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"odds"</span><span class="p">:</span><span class="w"> </span><span class="s2">"45250000000000000000"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"orderHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0xb338c7d03b09d6cefdf2cd7e79f72ea601cfd0fa10c35b351c7a59d5c8125675"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"marketHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x526e24b9eca9bcbd51e4a19135a998e6a8d8fff06bd6668bfb8f35528837a1c2"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"maker"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"betTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2025-04-24T06:39:37.078Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"betType"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"betTimeValue"</span><span class="p">:</span><span class="w"> </span><span class="mi">750</span><span class="p">,</span><span class="w">
        </span><span class="nl">"settled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"settleValue"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"bettingOutcomeOne"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"fillHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0xb6b15fe7d4d337ff0ae0e2a233203385e619c5e1edf23f04135efbf12128def8"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"affiliate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x0000000000000000000000000000000000000000"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"valid"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"providerEventId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"15468276"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"settleDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2025-04-24T17:38:24.885Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"outcome"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="nl">"contractsVersion"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6.0"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"settleTxHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x0b33bf455a90469bdbc30ebea3a9930fe1f1525c03895c45c8e4feb98d6ac365"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"fillOrderHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0xe6f4410a4fbd649e8fc72d764056fbd01c27d8b9d2749bd2cf78f2a161dde963"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"chainVersion"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SXR"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"sportXeventId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"L15468276"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"netReturn"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1657.458564"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"settleNetReturnValue"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"normalizedStake"</span><span class="p">:</span><span class="w"> </span><span class="s2">"750.0"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>This endpoint retrieves trades on the exchange for the given orderHashes.</p>
<h3 id='http-request-2'>HTTP Request</h3>
<p><code>GET https://api.sx.bet/trades/orders</code></p>
<h3 id='query-parameters-2'>Query parameters</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>orderHashes</td>
<td>true</td>
<td>string[]</td>
<td>The unique identifiers of the orders being searched</td>
</tr>
</tbody></table>
<h3 id='response-format-2'>Response format</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>string</td>
<td><code>success</code> or <code>failure</code> if the request succeeded or not</td>
</tr>
<tr>
<td>data</td>
<td>object</td>
<td>The response data</td>
</tr>
<tr>
<td>&gt; trades</td>
<td>Trade[]</td>
<td>The trades for the request</td>
</tr>
</tbody></table>
<h2 id='get-consolidated-trades'>Get consolidated trades</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--location</span> <span class="nt">--request</span> GET <span class="s1">'https://api.sx.bet/trades/consolidated'</span>
</code></pre></div>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"trades"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"baseToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x8f3Cf7ad23Cd3CaDbD9735AFf958023239c6A063"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"tradeStatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SUCCESS"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"bettor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x025b9FD9F1ed818d688e19c5F43c500bf44cEA47"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"totalStake"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4.999999999999999999"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"weightedAverageOdds"</span><span class="p">:</span><span class="w"> </span><span class="s2">"67564738292011016000"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"marketHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x7b27d766b6e36b87e2b7924f792c4f84d9b459318735d69cbb7d695b0857f8d5"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"maker"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"settled"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"fillHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0xc44e72f94e70ede9742c6b8aeb77e743e0cbf753ff3eae8bd4f1ab98b9260f0e"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"gameLabel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Australia vs New Zealand"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"bettingOutcomeLabel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Australia"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"sportXEventId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"L6350002"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"bettingOutcome"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"gameTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-01-06T23:30:00.000Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"leagueLabel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"International Test"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"outcome"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"netReturn"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4.999999999999999999"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"baseToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x8f3Cf7ad23Cd3CaDbD9735AFf958023239c6A063"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"tradeStatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SUCCESS"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"bettor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x025b9FD9F1ed818d688e19c5F43c500bf44cEA47"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"totalStake"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4.999999999999999999"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"weightedAverageOdds"</span><span class="p">:</span><span class="w"> </span><span class="s2">"67564738292011016000"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"marketHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x7b27d766b6e36b87e2b7924f792c4f84d9b459318735d69cbb7d695b0857f8d5"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"maker"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"settled"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"fillHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0xc44e72f94e70ede9742c6b8aeb77e743e0cbf753ff3eae8bd4f1ab98b9260f0e"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"gameLabel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Australia vs New Zealand"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"bettingOutcomeLabel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Australia"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"sportXEventId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"L6350002"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"bettingOutcome"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"gameTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-01-06T23:30:00.000Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"leagueLabel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"International Test"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"outcome"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"netReturn"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4.999999999999999999"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>This endpoint retrieves past consolidated trades on the exchange via pagination. If a trade fills multiple orders, it will show up as one entry here per bettor.</p>
<h3 id='http-request-3'>HTTP Request</h3>
<p><code>GET https://api.sx.bet/trades/consolidated</code></p>
<h3 id='query-parameters-3'>Query parameters</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>bettor</td>
<td>false</td>
<td>string</td>
<td>Only get trades placed by this bettor</td>
</tr>
<tr>
<td>settled</td>
<td>true</td>
<td>boolean</td>
<td>If <code>true</code> only get settled trades</td>
</tr>
<tr>
<td>page</td>
<td>true</td>
<td>number</td>
<td>Page number for pagination</td>
</tr>
<tr>
<td>perPage</td>
<td>true</td>
<td>number</td>
<td>Amount of records to fetch per page</td>
</tr>
<tr>
<td>sortBy</td>
<td>true</td>
<td>string</td>
<td>Which field to sort by (see response for field names)</td>
</tr>
<tr>
<td>sortAsc</td>
<td>true</td>
<td>boolean</td>
<td>If <code>true</code>, sorts in ascending order</td>
</tr>
<tr>
<td>maker</td>
<td>false</td>
<td>boolean</td>
<td>If <code>true</code>, only gets trades where the bettor was a market maker</td>
</tr>
<tr>
<td>sportXEventId</td>
<td>false</td>
<td>string</td>
<td>Only gets trades for this event ID</td>
</tr>
<tr>
<td>tradeStatus</td>
<td>false</td>
<td>string</td>
<td>Filter trades to see only those with <code>SUCCESS</code> or <code>FAILED</code> status&#39;</td>
</tr>
</tbody></table>
<h3 id='response-format-3'>Response format</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>string</td>
<td><code>success</code> or <code>failure</code> if the request succeeded or not</td>
</tr>
<tr>
<td>data</td>
<td>any</td>
<td>The response data</td>
</tr>
<tr>
<td>&gt; trades</td>
<td>ConsolidatedTrade[]</td>
<td>The consolidated trades for this request</td>
</tr>
<tr>
<td>&gt; count</td>
<td>number</td>
<td>Total count of trades for this query</td>
</tr>
</tbody></table>

<p>A <code>ConsolidatedTrade</code> object has the following format</p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>baseToken</td>
<td>string</td>
<td>The token in which this trade was placed</td>
</tr>
<tr>
<td>tradeStatus</td>
<td>string</td>
<td><code>SUCCESS</code> or <code>FAILED</code> depending on if this trade succeeded or not</td>
</tr>
<tr>
<td>bettor</td>
<td>string</td>
<td>The address of the bettor who placed the trade</td>
</tr>
<tr>
<td>totalStake</td>
<td>string</td>
<td>Total nominal stake of the trade</td>
</tr>
<tr>
<td>weightedAverageOdds</td>
<td>string</td>
<td>Weighted average odds (based on stake) of the trade if the trade filled multiple orders. Divide by 10^20 to get the odds in decimal format.</td>
</tr>
<tr>
<td>marketHash</td>
<td>string</td>
<td>The unique identifier of the market for which this trade was placed</td>
</tr>
<tr>
<td>maker</td>
<td>boolean</td>
<td><code>true</code> if the bettor is market maker in this trade</td>
</tr>
<tr>
<td>settled</td>
<td>boolean</td>
<td><code>true</code> if this bet is settled (this refers to if the bet was won lost or voided, not if the trade succeeded or not)</td>
</tr>
<tr>
<td>fillHash</td>
<td>string</td>
<td>The unique identifier for this trade</td>
</tr>
<tr>
<td>gameLabel</td>
<td>string</td>
<td>A general label for the market</td>
</tr>
<tr>
<td>bettingOutcomeLabel</td>
<td>string</td>
<td>Which team/side the bettor bet</td>
</tr>
<tr>
<td>sportXEventId</td>
<td>string</td>
<td>The unique fixture ID for this trade</td>
</tr>
<tr>
<td>bettingOutcome</td>
<td>number</td>
<td><code>1</code> if the bettor is betting outcome one, <code>2</code> otherwise</td>
</tr>
<tr>
<td>gameTime</td>
<td>string</td>
<td>ISO formatted date string of when the game is suppossed to occur</td>
</tr>
<tr>
<td>leagueLabel</td>
<td>string</td>
<td>The name of this league</td>
</tr>
<tr>
<td>outcome</td>
<td>number</td>
<td>With <code>settled=true</code>, this will be 0, 1, or 2 depending on the final outcome of the market</td>
</tr>
<tr>
<td>chainVersion</td>
<td>string</td>
<td><code>SXN</code> or <code>SXR</code>. See <a href="#sx-rollup-migration-guide">migration docs</a>.</td>
</tr>
<tr>
<td>sportXeventId</td>
<td>string</td>
<td>The event related to this trade</td>
</tr>
</tbody></table>
<h1 id='orders'>Orders</h1><h2 id='get-active-orders'>Get active orders</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--location</span> <span class="nt">--request</span> GET <span class="s1">'https://api.sx.bet/orders'</span>
</code></pre></div>
<blockquote>
<p>The above command returns JSON structured like this</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"fillAmount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"orderHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0xb46e5fff6498f061e93c4f5ed501ee72d924180d6aa78cdfd4d188d3383c91d4"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"marketHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x0eeace4a9bbf6235bc59695258a419ed3a05a2c8e3b6a58fb71a0d9e6b031c2b"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"maker"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x63a4491dC73245E181c47BAe0ae9d6627E56dE55"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"totalBetSize"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10000000000000000000"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"percentageOdds"</span><span class="p">:</span><span class="w"> </span><span class="s2">"70455284072443640000"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"expiry"</span><span class="p">:</span><span class="w"> </span><span class="mi">2209006800</span><span class="p">,</span><span class="w">
      </span><span class="nl">"apiExpiry"</span><span class="p">:</span><span class="w"> </span><span class="mi">1631233201</span><span class="w">
      </span><span class="nl">"baseToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x8f3Cf7ad23Cd3CaDbD9735AFf958023239c6A063"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"executor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x3E91041b9e60C7275f8296b8B0a97141e6442d49"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"salt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"69415402816762328320330277846098411244657139277332120954321492419616371539163"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"isMakerBettingOutcomeOne"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"signature"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x2aaea5b7c86166c0fbf2745c66aff794a23d21ac71ee143d08706700adbb59aa4c9b862286cf736acae5a74b10847ced73b628f4396eaab0af13b0c637fe4d021b"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-06-04T17:42:07.257Z"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"fillAmount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"orderHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0xd055d177477bd19faa9bad5cb4f907d8ebe069b614bb708713de068293cb809d"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"marketHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x0eeace4a9bbf6235bc59695258a419ed3a05a2c8e3b6a58fb71a0d9e6b031c2b"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"maker"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x63a4491dC73245E181c47BAe0ae9d6627E56dE55"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"totalBetSize"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10000000000000000000"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"percentageOdds"</span><span class="p">:</span><span class="w"> </span><span class="s2">"29542732332840140000"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"expiry"</span><span class="p">:</span><span class="w"> </span><span class="mi">2209006800</span><span class="p">,</span><span class="w">
      </span><span class="nl">"apiExpiry"</span><span class="p">:</span><span class="w"> </span><span class="mi">1631233201</span><span class="p">,</span><span class="w">
      </span><span class="nl">"baseToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x8f3Cf7ad23Cd3CaDbD9735AFf958023239c6A063"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"executor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x3E91041b9e60C7275f8296b8B0a97141e6442d49"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"salt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"37069036490382455296196784649228360571791475783443923366499720348790829992442"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"isMakerBettingOutcomeOne"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"signature"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x68fb16ff440c65e0306cb16a9842da362480208a9a75597d45ca722769d93e6a13c9196a2654f764bfd5c0d4c83165c0a8ffa955ae9af8afd17544b0db29eaf71c"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-06-04T17:42:07.303Z"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"fillAmount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"orderHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0xa5a30ca2251ac1431adf3d88f5734a53b78a13b2c707211eb83996bf099e3973"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"marketHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x15c5cceb3d27518241355e9f148ef96b0a178f1bcdb366dea2d0e621a9cef1fb"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"maker"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x63a4491dC73245E181c47BAe0ae9d6627E56dE55"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"totalBetSize"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10000000000000000000"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"percentageOdds"</span><span class="p">:</span><span class="w"> </span><span class="s2">"50000000000000000000"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"expiry"</span><span class="p">:</span><span class="w"> </span><span class="mi">2209006800</span><span class="p">,</span><span class="w">
      </span><span class="nl">"apiExpiry"</span><span class="p">:</span><span class="w"> </span><span class="mi">1631233201</span><span class="p">,</span><span class="w">
      </span><span class="nl">"baseToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x8f3Cf7ad23Cd3CaDbD9735AFf958023239c6A063"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"executor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x3E91041b9e60C7275f8296b8B0a97141e6442d49"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"salt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"90344661128498016788545482097709376028896473001963632493180076229973632520043"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"isMakerBettingOutcomeOne"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"signature"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x9b6c1e1d0cae584a3078f20d7bafd2031467a1cbce905027c6c970c13edef4357eeac625afe869417ffbecfb67b6672b765177d42fbda777f6b1a00962da2cc61c"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-06-04T17:42:07.270Z"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>This endpoint returns active orders on the exchange based on a few parameters</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>GET https://api.sx.bet/orders</code></p>
<h3 id='query-parameters'>Query parameters</h3>
<aside class="notice">
Parameters marked with an '*' are coming soon in future release.
</aside>

<table><thead>
<tr>
<th>Name</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>marketHashes</td>
<td>false</td>
<td>string[]</td>
<td>Only get orders for these market hashes. Comma separated.</td>
</tr>
<tr>
<td>baseToken</td>
<td>false</td>
<td>string</td>
<td>Only get orders denominated in this base token</td>
</tr>
<tr>
<td>maker</td>
<td>false</td>
<td>string</td>
<td>Only get orders for this market maker</td>
</tr>
<tr>
<td>sportXeventId</td>
<td>false</td>
<td>string</td>
<td>Only get orders for this event ID</td>
</tr>
<tr>
<td>orderHashes*</td>
<td>false</td>
<td>string[]</td>
<td>Only get orders for these order hashes. Comma separated.</td>
</tr>
<tr>
<td>page*</td>
<td>false</td>
<td>integer</td>
<td>Which page to query for paginated queries, min 0</td>
</tr>
<tr>
<td>perPage*</td>
<td>false</td>
<td>integer</td>
<td>How many per page for paginated queries, max 1000</td>
</tr>
<tr>
<td>sortBy*</td>
<td>false</td>
<td>string</td>
<td>Which field to sort by, possible values: [&quot;fill_amount&quot;, &quot;total_bet_size&quot;, &quot;percentage_odds&quot;, &quot;api_expiry&quot;, &quot;created_at&quot;, &quot;updated_at&quot;], default: &quot;created_at&quot;</td>
</tr>
<tr>
<td>sortAsc*</td>
<td>false</td>
<td>boolean</td>
<td>Sort direction, default: true</td>
</tr>
</tbody></table>

<aside class="notice">
One of `marketHashes` or `maker` is required.
</aside>

<aside class="notice">
Only one of `marketHashes` and `sportXEventId` can be present.
</aside>
<h3 id='response-format'>Response format</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>fillAmount</td>
<td>string</td>
<td>How much this order has been filled in Ethereum units up to a max of <code>totalBetSize</code>. See <a href="#tokens">the token section</a> of how to convert this into nominal amounts</td>
</tr>
<tr>
<td>orderHash</td>
<td>string</td>
<td>A unique identifier for this order</td>
</tr>
<tr>
<td>marketHash</td>
<td>string</td>
<td>The market corresponding to this order</td>
</tr>
<tr>
<td>maker</td>
<td>string</td>
<td>The market maker for this order</td>
</tr>
<tr>
<td>totalBetSize</td>
<td>string</td>
<td>The total size of this order in Ethereum units. See the <a href="#tokens">the token section</a> section for how to convert this into nominal amounts.</td>
</tr>
<tr>
<td>percentageOdds</td>
<td>string</td>
<td>The odds that the <code>maker</code> receives in the sx.bet protocol format. To convert to an implied odds divide by 10^20. To convert to the odds that the taker would receive if this order would be filled in implied format, use the formula <code>takerOdds=1-percentageOdds/10^20</code>. See the <a href="#bookmaker-odds">unit conversion section</a> for more details.</td>
</tr>
<tr>
<td>expiry</td>
<td>number</td>
<td>Deprecated: the time in unix seconds after which this order is no longer valid. After deprecation, this field is always 2209006800 (2040)</td>
</tr>
<tr>
<td>apiExpiry</td>
<td>number</td>
<td>The time in unix seconds after which this order is no longer valid.</td>
</tr>
<tr>
<td>baseToken</td>
<td>string</td>
<td>The base token this order is denominated in</td>
</tr>
<tr>
<td>executor</td>
<td>string</td>
<td>The address permitted to execute on this order. This is set to the sx.bet exchange</td>
</tr>
<tr>
<td>salt</td>
<td>string</td>
<td>A random number to differentiate identical orders</td>
</tr>
<tr>
<td>isMakerBettingOutcomeOne</td>
<td>boolean</td>
<td><code>true</code> if the maker is betting outcome one (and hence taker is betting outcome two if filled)</td>
</tr>
<tr>
<td>signature</td>
<td>string</td>
<td>Signature of the maker on this order</td>
</tr>
<tr>
<td>sportXeventId</td>
<td>string</td>
<td>The event related to this order</td>
</tr>
</tbody></table>
<h3 id='error-responses'>Error Responses</h3>
<table><thead>
<tr>
<th>Error Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>RATE_LIMIT_ORDER_REQUEST_MARKET_COUNT</td>
<td>More than 1000 <code>marketHashes</code> queried</td>
</tr>
<tr>
<td>BOTH_SPORTXEVENTID_MARKETHASHES_PRESENT</td>
<td>Can only send one of <code>marketHashes</code> or <code>sportXEventId</code></td>
</tr>
</tbody></table>

<aside class="notice">
Note that <code>totalBetSize</code> and <code>fillAmount</code> are from *the perspective of the market maker*. <code>totalBetSize</code> can be thought of as the maximum amount of tokens the maker will be putting into the pot if the order was fully filled. <code>fillAmount</code> can be thought of as how many tokens the maker has already put into the pot. To compute how much space there is left from the taker's perspective, you can use the formula <code>remainingTakerSpace = (totalBetSize - fillAmount) * 10^20 / percentageOdds - (totalBetSize - fillAmount)</code>
</aside>
<h2 id='get-best-odds'>Get best odds</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--location</span> <span class="nt">--request</span> GET <span class="s1">'https://api.sx.bet/orders/odds/best'</span>
</code></pre></div>
<blockquote>
<p>The above command returns JSON structured like this</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"bestOdds"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"marketHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0xddaf2ef56d0db2317cf9a1e1dde3de2f2158e28bee55fe35a684389f4dce0cf6"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"baseToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x1BC6326EA6aF2aB8E4b6Bc83418044B1923b2956"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"outcomeOne"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"percentageOdds"</span><span class="p">:</span><span class="w"> </span><span class="s2">"57750000000000000000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"updatedAt"</span><span class="p">:</span><span class="w"> </span><span class="mi">1747408399544</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nl">"outcomeTwo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"percentageOdds"</span><span class="p">:</span><span class="w"> </span><span class="s2">"34000000000000000000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"updatedAt"</span><span class="p">:</span><span class="w"> </span><span class="mi">1747408399544</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"marketHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x7aa1477c99725a75f24d7e521bd02f247c4ca7319e0d4ad4a8350eb170b2eeae"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"baseToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x1BC6326EA6aF2aB8E4b6Bc83418044B1923b2956"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"outcomeOne"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"percentageOdds"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9250000000000000000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"updatedAt"</span><span class="p">:</span><span class="w"> </span><span class="mi">1747414402993</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nl">"outcomeTwo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"percentageOdds"</span><span class="p">:</span><span class="w"> </span><span class="s2">"82500000000000000000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"updatedAt"</span><span class="p">:</span><span class="w"> </span><span class="mi">1747414402993</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>This endpoint returns the best available odds for the specified baseToken and marketHashes or leagueIds.</p>
<h3 id='http-request-2'>HTTP Request</h3>
<p><code>GET https://api.sx.bet/orders/odds/best</code></p>
<h3 id='query-parameters-2'>Query parameters</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>marketHashes</td>
<td>true</td>
<td>string[]</td>
<td>Only get best odds for these market hashes. Comma separated.</td>
</tr>
<tr>
<td>leagueIds</td>
<td>true</td>
<td>string[]</td>
<td>Only get best odds for these league ids. Comma separated.</td>
</tr>
<tr>
<td>baseToken</td>
<td>true</td>
<td>string</td>
<td>Only get best odds denominated in this base token.</td>
</tr>
</tbody></table>

<aside class="notice">
One of `marketHashes` or `leagueIds` is required.
</aside>

<aside class="notice">
Only one of `marketHashes` and `leagueIds` can be present.
</aside>
<h3 id='response-format-2'>Response format</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>marketHash</td>
<td>string</td>
<td>The resulting market for the given best odds query</td>
</tr>
<tr>
<td>baseToken</td>
<td>string</td>
<td>The baseToken for the given best odds query</td>
</tr>
<tr>
<td>outcomeOne</td>
<td>object</td>
<td>An object representing outcome one, including the best available percentage odds as <code>percentageOdds</code> (string) and the last update time as <code>updatedAt</code> (numerical timestamp in milliseconds)</td>
</tr>
<tr>
<td>outcomeTwo</td>
<td>object</td>
<td>An object representing outcome two, including the best available percentage odds as <code>percentageOdds</code> (string) and the last update time as <code>updatedAt</code> (numerical timestamp in milliseconds)</td>
</tr>
</tbody></table>
<h2 id='enabling-betting'>Enabling betting</h2><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">MaxUint256</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">ethers/constants</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">Contract</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">ethers</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">JsonRpcProvider</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">ethers/providers</span><span class="dl">"</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">walletAddress</span> <span class="o">=</span> <span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">WALLET_ADDRESS</span><span class="p">;</span>
<span class="kd">const</span> <span class="nx">tokenAddress</span> <span class="o">=</span> <span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">TOKEN_ADDRESS</span><span class="p">;</span>
<span class="kd">const</span> <span class="nx">tokenTransferProxyAddress</span> <span class="o">=</span> <span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">TOKEN_TRANSFER_PROXY_ADDRESS</span><span class="p">;</span>
<span class="kd">const</span> <span class="nx">provider</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">providers</span><span class="p">.</span><span class="nx">JsonRpcProvider</span><span class="p">(</span><span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">RPC_URL</span><span class="p">);</span> <span class="c1">// find this under the 'references' section</span>
<span class="kd">const</span> <span class="nx">wallet</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Wallet</span><span class="p">(</span><span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">PRIVATE_KEY</span><span class="p">).</span><span class="nx">connect</span><span class="p">(</span><span class="nx">provider</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">tokenContract</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Contract</span><span class="p">(</span>
  <span class="nx">tokenAddress</span><span class="p">,</span>
  <span class="p">[</span>
    <span class="p">{</span>
      <span class="na">constant</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
      <span class="na">inputs</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span> <span class="na">internalType</span><span class="p">:</span> <span class="dl">"</span><span class="s2">address</span><span class="dl">"</span><span class="p">,</span> <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">usr</span><span class="dl">"</span><span class="p">,</span> <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">address</span><span class="dl">"</span> <span class="p">},</span>
        <span class="p">{</span> <span class="na">internalType</span><span class="p">:</span> <span class="dl">"</span><span class="s2">uint256</span><span class="dl">"</span><span class="p">,</span> <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">wad</span><span class="dl">"</span><span class="p">,</span> <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">uint256</span><span class="dl">"</span> <span class="p">},</span>
      <span class="p">],</span>
      <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">approve</span><span class="dl">"</span><span class="p">,</span>
      <span class="na">outputs</span><span class="p">:</span> <span class="p">[{</span> <span class="na">internalType</span><span class="p">:</span> <span class="dl">"</span><span class="s2">bool</span><span class="dl">"</span><span class="p">,</span> <span class="na">name</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span> <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">bool</span><span class="dl">"</span> <span class="p">}],</span>
      <span class="na">payable</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
      <span class="na">stateMutability</span><span class="p">:</span> <span class="dl">"</span><span class="s2">nonpayable</span><span class="dl">"</span><span class="p">,</span>
      <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">function</span><span class="dl">"</span><span class="p">,</span>
    <span class="p">},</span>
  <span class="p">],</span>
  <span class="nx">wallet</span>
<span class="p">);</span>
<span class="k">await</span> <span class="nx">tokenContract</span><span class="p">.</span><span class="nx">approve</span><span class="p">(</span><span class="nx">tokenTransferProxyAddress</span><span class="p">,</span> <span class="nx">MaxUInt256</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">gasLimit</span><span class="p">:</span> <span class="mi">100000</span><span class="p">,</span>
<span class="p">});</span>
</code></pre></div>
<p>To enable betting (filling or posting orders), you need to approve the <code>TokenTransferProxy</code> contract for each token for which you wish to trade. Otherwise, any endpoints that create/cancel or fill orders will fail. For example if you want to trade with both ETH and USDC, you&#39;ll need to approve the contract twice, once for each token. The address of the <code>TokenTransferProxy</code> is available at <code>https://api.sx.bet/metadata</code> and the address of each token is given in <a href="#tokens">the tokens section</a></p>

<p>If you don&#39;t wish to do this programmatically, you can simply go to <code>https://sx.bet</code>, make a test bet with the account and token you&#39;ll be using, and you will be good to go.</p>

<p>If you want to do it programmatically, see the code sample on the right. Note you will need a tiny bit of SX to make this transaction.</p>

<aside class="notice">
Your assets must be on SX Network to place or fill orders via the API.
</aside>
<h2 id='post-a-new-order'>Post a new order</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--location</span> <span class="nt">--request</span> POST <span class="s1">'https://api.sx.bet/orders/new'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
<span class="nt">--data-raw</span> <span class="s1">'{
    "orders": [
        {
            "marketHash": "0x0eeace4a9bbf6235bc59695258a419ed3a05a2c8e3b6a58fb71a0d9e6b031c2b",
            "maker": "0x6F75bA6c90E3da79b7ACAfc0fb9cf3968aa4ee39",
            "totalBetSize": "21600000000000000000",
            "percentageOdds": "47846889952153115000",
            "baseToken": "0x8f3Cf7ad23Cd3CaDbD9735AFf958023239c6A063",
            "apiExpiry": 1631359800,
            "expiry": 2209006800,
            "executor": "0x3E91041b9e60C7275f8296b8B0a97141e6442d49",
            "isMakerBettingOutcomeOne": true,
            "signature": "0x50b00e7994b0656f78701537296444bccba2a7e4d46a84ff26c8ca48cb66774c76faa893be293412959779900232065c8236e489158070777d7a3e1a37d911811b",
            "salt": "61882422358902283358380622686147595792242782952753619716150366288606659190035"
        }
    ]
}'</span>
</code></pre></div><div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">BigNumber</span><span class="p">,</span> <span class="nx">utils</span><span class="p">,</span> <span class="nx">providers</span><span class="p">,</span> <span class="nx">Wallet</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">ethers</span><span class="dl">"</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">order</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">marketHash</span><span class="p">:</span>
    <span class="dl">"</span><span class="s2">0x0eeace4a9bbf6235bc59695258a419ed3a05a2c8e3b6a58fb71a0d9e6b031c2b</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">maker</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0x6F75bA6c90E3da79b7ACAfc0fb9cf3968aa4ee39</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">totalBetSize</span><span class="p">:</span> <span class="nx">BigNumber</span><span class="p">.</span><span class="k">from</span><span class="p">(</span><span class="dl">"</span><span class="s2">21600000000000000000</span><span class="dl">"</span><span class="p">).</span><span class="nx">toString</span><span class="p">(),</span>
  <span class="na">percentageOdds</span><span class="p">:</span> <span class="nx">BigNumber</span><span class="p">.</span><span class="k">from</span><span class="p">(</span><span class="dl">"</span><span class="s2">47846889952153115000</span><span class="dl">"</span><span class="p">).</span><span class="nx">toString</span><span class="p">(),</span>
  <span class="na">baseToken</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0x8f3Cf7ad23Cd3CaDbD9735AFf958023239c6A063</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">apiExpiry</span><span class="p">:</span> <span class="mi">1631233201</span><span class="p">,</span>
  <span class="na">expiry</span><span class="p">:</span> <span class="mi">2209006800</span><span class="p">,</span>
  <span class="na">executor</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0x3E91041b9e60C7275f8296b8B0a97141e6442d49</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">isMakerBettingOutcomeOne</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="na">salt</span><span class="p">:</span> <span class="nx">BigNumber</span><span class="p">.</span><span class="k">from</span><span class="p">(</span><span class="nx">utils</span><span class="p">.</span><span class="nx">randomBytes</span><span class="p">(</span><span class="mi">32</span><span class="p">)).</span><span class="nx">toString</span><span class="p">(),</span>
<span class="p">};</span>

<span class="kd">const</span> <span class="nx">orderHash</span> <span class="o">=</span> <span class="nx">utils</span><span class="p">.</span><span class="nx">arrayify</span><span class="p">(</span>
  <span class="nx">utils</span><span class="p">.</span><span class="nx">solidityKeccak256</span><span class="p">(</span>
    <span class="p">[</span>
      <span class="dl">"</span><span class="s2">bytes32</span><span class="dl">"</span><span class="p">,</span>
      <span class="dl">"</span><span class="s2">address</span><span class="dl">"</span><span class="p">,</span>
      <span class="dl">"</span><span class="s2">uint256</span><span class="dl">"</span><span class="p">,</span>
      <span class="dl">"</span><span class="s2">uint256</span><span class="dl">"</span><span class="p">,</span>
      <span class="dl">"</span><span class="s2">uint256</span><span class="dl">"</span><span class="p">,</span>
      <span class="dl">"</span><span class="s2">uint256</span><span class="dl">"</span><span class="p">,</span>
      <span class="dl">"</span><span class="s2">address</span><span class="dl">"</span><span class="p">,</span>
      <span class="dl">"</span><span class="s2">address</span><span class="dl">"</span><span class="p">,</span>
      <span class="dl">"</span><span class="s2">bool</span><span class="dl">"</span><span class="p">,</span>
    <span class="p">],</span>
    <span class="p">[</span>
      <span class="nx">order</span><span class="p">.</span><span class="nx">marketHash</span><span class="p">,</span>
      <span class="nx">order</span><span class="p">.</span><span class="nx">baseToken</span><span class="p">,</span>
      <span class="nx">order</span><span class="p">.</span><span class="nx">totalBetSize</span><span class="p">,</span>
      <span class="nx">order</span><span class="p">.</span><span class="nx">percentageOdds</span><span class="p">,</span>
      <span class="nx">order</span><span class="p">.</span><span class="nx">expiry</span><span class="p">,</span>
      <span class="nx">order</span><span class="p">.</span><span class="nx">salt</span><span class="p">,</span>
      <span class="nx">order</span><span class="p">.</span><span class="nx">maker</span><span class="p">,</span>
      <span class="nx">order</span><span class="p">.</span><span class="nx">executor</span><span class="p">,</span>
      <span class="nx">order</span><span class="p">.</span><span class="nx">isMakerBettingOutcomeOne</span><span class="p">,</span>
    <span class="p">]</span>
  <span class="p">)</span>
<span class="p">);</span>

<span class="c1">// Example shown here with an ethers.js wallet if you're interacting with the exchange using a private key</span>
<span class="kd">const</span> <span class="nx">wallet</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Wallet</span><span class="p">(</span><span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">PRIVATE_KEY</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">signature</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">wallet</span><span class="p">.</span><span class="nx">signMessage</span><span class="p">(</span><span class="nx">orderHash</span><span class="p">);</span>

<span class="c1">// Example shown here if you're interacting with the exchange using an injected web3 provider such as metamask</span>
<span class="kd">const</span> <span class="nx">provider</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">providers</span><span class="p">.</span><span class="nx">Web3Provider</span><span class="p">(</span><span class="nb">window</span><span class="p">.</span><span class="nx">ethereum</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">signer</span> <span class="o">=</span> <span class="nx">provider</span><span class="p">.</span><span class="nx">getSigner</span><span class="p">();</span>
<span class="kd">const</span> <span class="nx">signature</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">signer</span><span class="p">.</span><span class="nx">signMessage</span><span class="p">(</span><span class="nx">orderHash</span><span class="p">);</span>

<span class="kd">const</span> <span class="nx">signedOrder</span> <span class="o">=</span> <span class="p">{</span> <span class="p">...</span><span class="nx">order</span><span class="p">,</span> <span class="nx">signature</span> <span class="p">};</span>

<span class="kd">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">fetch</span><span class="p">(</span><span class="dl">"</span><span class="s2">https://api.sx.bet/orders/new</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="dl">"</span><span class="s2">POST</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">body</span><span class="p">:</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span> <span class="na">orders</span><span class="p">:</span> <span class="p">[</span><span class="nx">signedOrder</span><span class="p">]</span> <span class="p">}),</span>
  <span class="na">headers</span><span class="p">:</span> <span class="p">{</span> <span class="dl">"</span><span class="s2">Content-Type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">application/json</span><span class="dl">"</span> <span class="p">},</span>
<span class="p">});</span>

<span class="c1">// Odds ladder testing</span>

<span class="k">import</span> <span class="p">{</span> <span class="nx">BigNumber</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">bignumber.js</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">BigNumber</span> <span class="k">as</span> <span class="nx">EthBigNumber</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">ethers</span><span class="dl">"</span><span class="p">;</span>

<span class="k">export</span> <span class="kd">const</span> <span class="nx">ODDS_LADDER_STEP_SIZE</span> <span class="o">=</span> <span class="mi">25</span><span class="p">;</span> <span class="c1">// (0.1% = 1, 0.5% = 5, etc)</span>

<span class="cm">/**
 * Check if the odds are valid, i.e., in one of the allowed steps
 * @param odds Odds to check
 */</span>
<span class="k">export</span> <span class="kd">function</span> <span class="nx">checkOddsLadderValid</span><span class="p">(</span>
  <span class="nx">odds</span><span class="p">:</span> <span class="nx">EthBigNumber</span><span class="p">,</span>
  <span class="nx">stepSizeOverride</span><span class="p">?:</span> <span class="kr">number</span>
<span class="p">)</span> <span class="p">{</span>
  <span class="c1">// Logic:</span>
  <span class="c1">// 100% = 10^20</span>
  <span class="c1">// 10% = 10^19</span>
  <span class="c1">// 1% = 10^18</span>
  <span class="c1">// 0.1% = 10^17</span>
  <span class="k">return</span> <span class="nx">odds</span>
    <span class="p">.</span><span class="nx">mod</span><span class="p">(</span><span class="nx">EthBigNumber</span><span class="p">.</span><span class="k">from</span><span class="p">(</span><span class="mi">10</span><span class="p">).</span><span class="nx">pow</span><span class="p">(</span><span class="mi">16</span><span class="p">).</span><span class="nx">mul</span><span class="p">(</span><span class="nx">ODDS_LADDER_STEP_SIZE</span><span class="p">))</span>
    <span class="p">.</span><span class="nx">eq</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
<span class="p">}</span>

<span class="cm">/**
 * Rounds odds to the nearest step.
 * @param odds Odds to round.
 */</span>
<span class="k">export</span> <span class="kd">function</span> <span class="nx">roundDownOddsToNearestStep</span><span class="p">(</span>
  <span class="nx">odds</span><span class="p">:</span> <span class="nx">EthBigNumber</span><span class="p">,</span>
  <span class="nx">stepSizeOverride</span><span class="p">?:</span> <span class="kr">number</span>
<span class="p">)</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">step</span> <span class="o">=</span> <span class="nx">EthBigNumber</span><span class="p">.</span><span class="k">from</span><span class="p">(</span><span class="mi">10</span><span class="p">).</span><span class="nx">pow</span><span class="p">(</span><span class="mi">16</span><span class="p">).</span><span class="nx">mul</span><span class="p">(</span><span class="nx">ODDS_LADDER_STEP_SIZE</span><span class="p">);</span>
  <span class="kd">const</span> <span class="nx">bnStep</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">BigNumber</span><span class="p">(</span><span class="nx">step</span><span class="p">.</span><span class="nx">toString</span><span class="p">());</span>
  <span class="kd">const</span> <span class="nx">bnOdds</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">BigNumber</span><span class="p">(</span><span class="nx">odds</span><span class="p">.</span><span class="nx">toString</span><span class="p">());</span>
  <span class="kd">const</span> <span class="nx">firstPassDivision</span> <span class="o">=</span> <span class="nx">bnOdds</span><span class="p">.</span><span class="nx">dividedBy</span><span class="p">(</span><span class="nx">bnStep</span><span class="p">).</span><span class="nx">toFixed</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">);</span>
  <span class="k">return</span> <span class="nx">EthBigNumber</span><span class="p">.</span><span class="k">from</span><span class="p">(</span><span class="nx">firstPassDivision</span><span class="p">).</span><span class="nx">mul</span><span class="p">(</span><span class="nx">step</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<blockquote>
<p>The above command returns JSON structured like this</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"orders"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"0x7a9d420551c4a635849013dd908f7894766e97aee25fe656d0c5ac857e166fac"</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>This endpoint offers new orders on the exchange (market making). Offering orders does not cost any fee.</p>

<p>Note you can offer as many orders as you wish, provided your total exposure for each token (as measured by <code>totalBetSize - fillAmount</code>) remains under your wallet balance. If your wallet balance dips under your total exposure, orders will be removed from the book until it reaches the minimum again.</p>

<aside class="notice">
Your assets must be on SX Network to place orders.
</aside>

<aside class="warning">
If the API finds that your balance is consistently below your total exposure requiring orders to be cancelled, your account may be temporarily restricted. 
</aside>

<p>To offer bets on sx.bet via the API, make sure you first enable betting by following the steps <a href="#enabling-betting">here</a>.</p>

<p>We enforce an odds ladder to prevent diming. Your offer, in implied odds, must fall on one of the steps on the ladder. Currently, that is set to intervals of 0.25%, meaning that your offer cannot fall between the steps. An offer of 50.25% would be valid, but an offer of 50.05% would not. You can check if your odds would fall on the ladder by taking the modulus of your odds and 2.5 * 10 ^ 17 and checking if it&#39;s equal to 0. See the bottom of the JavaScript tab for a sample on how to do this, and how to round your odds to the nearest step.</p>

<p>You can get the current interval from <code>GET /metadata</code>. It will spit out a number from 10 to 100, where 10 = 0.10%, and 25 = 0.25%</p>

<aside class="warning">
Odds not on the ladder will be rejected and your order(s) will not be posted. 
</aside>
<h3 id='http-request-3'>HTTP Request</h3>
<p><code>POST https://api.sx.bet/orders/new</code></p>
<h3 id='request-payload-parameters'>Request payload parameters</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>orders</td>
<td>true</td>
<td>SignedNewOrder[]</td>
<td>The new orders to post</td>
</tr>
</tbody></table>

<p>A <code>SignedNewOrder</code> object looks like this</p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>marketHash</td>
<td>string</td>
<td>The market you wish to place this order under</td>
</tr>
<tr>
<td>maker</td>
<td>string</td>
<td>The ethereum address offering the bet</td>
</tr>
<tr>
<td>baseToken</td>
<td>string</td>
<td>The token this order is denominated in</td>
</tr>
<tr>
<td>totalBetSize</td>
<td>string</td>
<td>The total bet size of the order in Ethereum units.</td>
</tr>
<tr>
<td>percentageOdds</td>
<td>string</td>
<td>The odds <em>the maker will be receiving</em> as this order gets filled. Must be on the odds ladder or will be rejected.</td>
</tr>
<tr>
<td>expiry</td>
<td>number</td>
<td>Deprecated. Time in UNIX seconds after which this order is no longer valid. Must always be 2209006800.</td>
</tr>
<tr>
<td>apiExpiry</td>
<td>number</td>
<td>Time in UNIX seconds after which this order is no longer valid.</td>
</tr>
<tr>
<td>executor</td>
<td>string</td>
<td>The sx.bet executor address. See the <a href="#get-metadata">metadata section</a> for where to get this address</td>
</tr>
<tr>
<td>salt</td>
<td>string</td>
<td>A random 32 byte string to differentiate between between orders with otherwise identical parameters</td>
</tr>
<tr>
<td>isMakerBettingOutcomeOne</td>
<td>boolean</td>
<td><code>true</code> if the maker is betting outcome one (and hence taker is betting outcome two if filled)</td>
</tr>
<tr>
<td>signature</td>
<td>string</td>
<td>The signature of the maker on this order payload</td>
</tr>
</tbody></table>

<aside class="notice">
The address in the <code>maker</code> field must match the account being used to create the signature!
</aside>
<h3 id='response-format-3'>Response format</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>string</td>
<td><code>success</code> or <code>failure</code> if the request succeeded or not</td>
</tr>
<tr>
<td>data</td>
<td>object</td>
<td>The response data</td>
</tr>
<tr>
<td>&gt; orders</td>
<td>string[]</td>
<td>The order hashes corresponding to the new orders</td>
</tr>
</tbody></table>

<aside class="notice">
Note that <code>totalBetSize</code> is from *the perspective of the market maker*. <code>totalBetSize</code> can be thought of as the maximum amount of tokens the maker (you) will be putting into the pot if the order was fully filled. This is the maximum amount you will risk.
</aside>
<h3 id='error-responses-2'>Error Responses</h3>
<table><thead>
<tr>
<th>Error Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>TOO_MANY_DIFFERENT_MARKETS</td>
<td>More than 3 different markets queried</td>
</tr>
<tr>
<td>ORDERS_MUST_HAVE_IDENTICAL_MARKET</td>
<td>All orders must be for the same network, either <code>SXN</code> or <code>SXR</code></td>
</tr>
<tr>
<td>BAD_BASE_TOKEN</td>
<td>All orders must be for the same base token, either <code>USDC</code> or <code>WSX</code></td>
</tr>
</tbody></table>
<h2 id='cancel-individual-orders'>Cancel individual orders</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--location</span> <span class="nt">--request</span> POST <span class="s1">'https://api.sx.bet/orders/cancel/v2'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
<span class="nt">--data-raw</span> <span class="s1">'{
    "orderHashes": [
        "0x335d3dbd0621f0f6da90d1a58269e71b2fb5e91193dca75a0b90396cccb63001"
    ],
    "signature": "0x1763cb98a069657cb778fdc295eac48741b957bfe58e54f7f9ad03c6c1ca3d053d9ca2e6957af794991217752b69cb9aa4ac9330395c92e24c8c25ec19220e5a1b",
    "salt": "0x6845028402f518a1c90770554a71017cd434ae9f2c09aa56c9560835c1929650",
    "maker": "0xe087299AE9Acd0133d6D1544A97Bb0EEe24a2671",
    "timestamp": 1643897553
}'</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">signTypedData</span><span class="p">,</span> <span class="nx">SignTypedDataVersion</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">@metamask/eth-sig-util</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">randomBytes</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">@ethersproject/random</span><span class="dl">"</span><span class="p">;</span>

<span class="c1">// Example is shown using a private key</span>

<span class="kd">const</span> <span class="nx">privateKey</span> <span class="o">=</span> <span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">PRIVATE_KEY</span><span class="p">;</span>
<span class="kd">const</span> <span class="nx">bufferPrivateKey</span> <span class="o">=</span> <span class="nx">Buffer</span><span class="p">.</span><span class="k">from</span><span class="p">(</span><span class="nx">privateKey</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span> <span class="dl">"</span><span class="s2">hex</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">orderHashes</span> <span class="o">=</span> <span class="p">[</span>
  <span class="dl">"</span><span class="s2">0x4ead6ef92741cd0b6e1ea32cb1d9586a85165e8bd780ab6f897992428c357bf1</span><span class="dl">"</span><span class="p">,</span>
<span class="p">];</span>
<span class="kd">const</span> <span class="nx">salt</span> <span class="o">=</span> <span class="s2">`0x</span><span class="p">${</span><span class="nx">Buffer</span><span class="p">.</span><span class="k">from</span><span class="p">(</span><span class="nx">randomBytes</span><span class="p">(</span><span class="mi">32</span><span class="p">)).</span><span class="nx">toString</span><span class="p">(</span><span class="dl">"</span><span class="s2">hex</span><span class="dl">"</span><span class="p">)}</span><span class="s2">`</span><span class="p">;</span>
<span class="kd">const</span> <span class="nx">timestamp</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="k">new</span> <span class="nb">Date</span><span class="p">().</span><span class="nx">getTime</span><span class="p">()</span> <span class="o">/</span> <span class="mi">1000</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">wallet</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Wallet</span><span class="p">(</span><span class="nx">privateKey</span><span class="p">);</span>

<span class="kd">function</span> <span class="nx">getCancelOrderEIP712Payload</span><span class="p">(</span><span class="nx">orderHashes</span><span class="p">,</span> <span class="nx">salt</span><span class="p">,</span> <span class="nx">timestamp</span><span class="p">,</span> <span class="nx">chainId</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">payload</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">types</span><span class="p">:</span> <span class="p">{</span>
      <span class="na">EIP712Domain</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span> <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">name</span><span class="dl">"</span><span class="p">,</span> <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">string</span><span class="dl">"</span> <span class="p">},</span>
        <span class="p">{</span> <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">version</span><span class="dl">"</span><span class="p">,</span> <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">string</span><span class="dl">"</span> <span class="p">},</span>
        <span class="p">{</span> <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">chainId</span><span class="dl">"</span><span class="p">,</span> <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">uint256</span><span class="dl">"</span> <span class="p">},</span>
        <span class="p">{</span> <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">salt</span><span class="dl">"</span><span class="p">,</span> <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">bytes32</span><span class="dl">"</span> <span class="p">},</span>
      <span class="p">],</span>
      <span class="na">Details</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span> <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">orderHashes</span><span class="dl">"</span><span class="p">,</span> <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">string[]</span><span class="dl">"</span> <span class="p">},</span>
        <span class="p">{</span> <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">timestamp</span><span class="dl">"</span><span class="p">,</span> <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">uint256</span><span class="dl">"</span> <span class="p">},</span>
      <span class="p">],</span>
    <span class="p">},</span>
    <span class="na">primaryType</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Details</span><span class="dl">"</span><span class="p">,</span>
    <span class="na">domain</span><span class="p">:</span> <span class="p">{</span>
      <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">CancelOrderV2SportX</span><span class="dl">"</span><span class="p">,</span>
      <span class="na">version</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1.0</span><span class="dl">"</span><span class="p">,</span>
      <span class="nx">chainId</span><span class="p">,</span>
      <span class="nx">salt</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="na">message</span><span class="p">:</span> <span class="p">{</span> <span class="nx">orderHashes</span><span class="p">,</span> <span class="nx">timestamp</span> <span class="p">},</span>
  <span class="p">};</span>
  <span class="k">return</span> <span class="nx">payload</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">const</span> <span class="nx">payload</span> <span class="o">=</span> <span class="nx">getCancelOrderEIP712Payload</span><span class="p">(</span><span class="nx">orderHashes</span><span class="p">,</span> <span class="nx">salt</span><span class="p">,</span> <span class="nx">timestamp</span><span class="p">,</span> <span class="nx">chainId</span><span class="p">);</span>

<span class="kd">const</span> <span class="nx">signature</span> <span class="o">=</span> <span class="nx">signTypedData</span><span class="p">({</span>
  <span class="na">privateKey</span><span class="p">:</span> <span class="nx">bufferPrivateKey</span><span class="p">,</span> 
  <span class="na">data</span><span class="p">:</span> <span class="nx">payload</span><span class="p">,</span>
  <span class="na">version</span><span class="p">:</span> <span class="nx">SignTypedDataVersion</span><span class="p">.</span><span class="nx">V4</span><span class="p">,</span>
<span class="p">});</span>

<span class="kd">const</span> <span class="nx">apiPayload</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">signature</span><span class="p">,</span>
  <span class="nx">orderHashes</span><span class="p">,</span>
  <span class="nx">salt</span><span class="p">,</span>
  <span class="na">maker</span><span class="p">:</span> <span class="nx">wallet</span><span class="p">.</span><span class="nx">address</span><span class="p">,</span>
  <span class="nx">timestamp</span><span class="p">,</span>
<span class="p">};</span>

<span class="kd">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">fetch</span><span class="p">(</span><span class="dl">"</span><span class="s2">https://api.sx.bet/orders/cancel/v2</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="dl">"</span><span class="s2">POST</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">body</span><span class="p">:</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">apiPayload</span><span class="p">),</span>
  <span class="na">headers</span><span class="p">:</span> <span class="p">{</span> <span class="dl">"</span><span class="s2">Content-Type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">application/json</span><span class="dl">"</span> <span class="p">},</span>
<span class="p">});</span>
</code></pre></div>
<blockquote>
<p>The above command returns json structured like this</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"cancelledCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"orders"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"orderHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0xc4fad4101eac3d72a7d4166df05534edd5479ec705307624498d6ec60336ef45"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"pendingFills"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
              </span><span class="nl">"fillHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0xf691c9dfb100d125503c0b4dad944f15d711eaf22108c6dacc5077a274b35821"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"pendingFillAmount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"106995918"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>This endpoint cancels existing orders on the exchange that you placed as a market maker. If passed orders that do not exist, they simply fail silently while the others will succeed.</p>
<h3 id='http-request-4'>HTTP Request</h3>
<p><code>POST https://api.sx.bet/orders/cancel/v2</code></p>
<h3 id='request-payload-parameters-2'>Request payload parameters</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>orderHashes</td>
<td>true</td>
<td>string[]</td>
<td>The order hashes to cancel</td>
</tr>
<tr>
<td>signature</td>
<td>true</td>
<td>string</td>
<td>The EIP712 signature on the cancel order payload. See the <a href="#eip712-signing">EIP712 signing section</a> for more details on how to compute this signature.</td>
</tr>
<tr>
<td>salt</td>
<td>required</td>
<td>string</td>
<td>A random 32 bytes hex string to protect against replay</td>
</tr>
<tr>
<td>maker</td>
<td>required</td>
<td>true</td>
<td>The account from which you are cancelling orders</td>
</tr>
<tr>
<td>timestamp</td>
<td>required</td>
<td>true</td>
<td>The current timestamp in UNIX seconds to protect against replay</td>
</tr>
</tbody></table>
<h3 id='response-format-4'>Response format</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>string</td>
<td><code>success</code> or <code>failure</code> if the request succeeded or not</td>
</tr>
<tr>
<td>data</td>
<td>object</td>
<td>The response data</td>
</tr>
<tr>
<td>&gt; cancelledCount</td>
<td>number</td>
<td>How many orders were cancelled, of the orders passed</td>
</tr>
<tr>
<td>&gt; orders?</td>
<td>CancelledOrder[]</td>
<td>An array of Cancelled Order objects. Omitted if cancel count is 0.</td>
</tr>
</tbody></table>

<p>A <code>CancelledOrder</code> object looks like this</p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>orderHash</td>
<td>string</td>
<td>Cancelled order hash</td>
</tr>
<tr>
<td>pendingFills</td>
<td>PendingFill[]</td>
<td>The pending fills awaiting confirmation on chain. Expected to succeed and fill order.</td>
</tr>
</tbody></table>

<p>A <code>PendingFill</code> object looks like this</p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>fillHash</td>
<td>string</td>
<td>The fill hash which is pending</td>
</tr>
<tr>
<td>pendingFillAmount</td>
<td>string</td>
<td>The amount of the order that this fill is attempting to fill.</td>
</tr>
</tbody></table>
<h3 id='error-responses-3'>Error Responses</h3>
<table><thead>
<tr>
<th>Error Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>CANCEL_REQUEST_ALREADY_PROCESSED</td>
<td>This cancellation is already processed</td>
</tr>
</tbody></table>
<h2 id='cancel-event-orders'>Cancel event orders</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--location</span> <span class="nt">--request</span> POST <span class="s1">'https://api.sx.bet/orders/cancel/event'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
<span class="nt">--data-raw</span> <span class="s1">'{
    "sportXEventId": "L1234123",
    "signature": "0x1763cb98a069657cb778fdc295eac48741b957bfe58e54f7f9ad03c6c1ca3d053d9ca2e6957af794991217752b69cb9aa4ac9330395c92e24c8c25ec19220e5a1b",
    "salt": "0x6845028402f518a1c90770554a71017cd434ae9f2c09aa56c9560835c1929650",
    "maker": "0xe087299AE9Acd0133d6D1544A97Bb0EEe24a2671",
    "timestamp": 1643898624
}'</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">signTypedData</span><span class="p">,</span> <span class="nx">SignTypedDataVersion</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">@metamask/eth-sig-util</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">randomBytes</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">@ethersproject/random</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">Wallet</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">@ethersproject/wallet</span><span class="dl">"</span><span class="p">;</span>

<span class="c1">// Example is shown using a private key</span>

<span class="kd">const</span> <span class="nx">privateKey</span> <span class="o">=</span> <span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">PRIVATE_KEY</span><span class="p">;</span>
<span class="kd">const</span> <span class="nx">bufferPrivateKey</span> <span class="o">=</span> <span class="nx">Buffer</span><span class="p">.</span><span class="k">from</span><span class="p">(</span><span class="nx">privateKey</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span> <span class="dl">"</span><span class="s2">hex</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">sportXeventId</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">L1231231</span><span class="dl">"</span><span class="p">;</span>
<span class="kd">const</span> <span class="nx">salt</span> <span class="o">=</span> <span class="s2">`0x</span><span class="p">${</span><span class="nx">Buffer</span><span class="p">.</span><span class="k">from</span><span class="p">(</span><span class="nx">randomBytes</span><span class="p">(</span><span class="mi">32</span><span class="p">)).</span><span class="nx">toString</span><span class="p">(</span><span class="dl">"</span><span class="s2">hex</span><span class="dl">"</span><span class="p">)}</span><span class="s2">`</span><span class="p">;</span>
<span class="kd">const</span> <span class="nx">timestamp</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="k">new</span> <span class="nb">Date</span><span class="p">().</span><span class="nx">getTime</span><span class="p">()</span> <span class="o">/</span> <span class="mi">1000</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">wallet</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Wallet</span><span class="p">(</span><span class="nx">privateKey</span><span class="p">);</span>

<span class="kd">function</span> <span class="nx">getCancelOrderEventsEIP712Payload</span><span class="p">(</span>
  <span class="nx">sportXEventId</span><span class="p">,</span>
  <span class="nx">salt</span><span class="p">,</span>
  <span class="nx">timestamp</span><span class="p">,</span>
  <span class="nx">chainId</span>
<span class="p">)</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">payload</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">types</span><span class="p">:</span> <span class="p">{</span>
      <span class="na">EIP712Domain</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span> <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">name</span><span class="dl">"</span><span class="p">,</span> <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">string</span><span class="dl">"</span> <span class="p">},</span>
        <span class="p">{</span> <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">version</span><span class="dl">"</span><span class="p">,</span> <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">string</span><span class="dl">"</span> <span class="p">},</span>
        <span class="p">{</span> <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">chainId</span><span class="dl">"</span><span class="p">,</span> <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">uint256</span><span class="dl">"</span> <span class="p">},</span>
        <span class="p">{</span> <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">salt</span><span class="dl">"</span><span class="p">,</span> <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">bytes32</span><span class="dl">"</span> <span class="p">},</span>
      <span class="p">],</span>
      <span class="na">Details</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span> <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">sportXeventId</span><span class="dl">"</span><span class="p">,</span> <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">string</span><span class="dl">"</span> <span class="p">},</span>
        <span class="p">{</span> <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">timestamp</span><span class="dl">"</span><span class="p">,</span> <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">uint256</span><span class="dl">"</span> <span class="p">},</span>
      <span class="p">],</span>
    <span class="p">},</span>
    <span class="na">primaryType</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Details</span><span class="dl">"</span><span class="p">,</span>
    <span class="na">domain</span><span class="p">:</span> <span class="p">{</span>
      <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">CancelOrderEventsSportX</span><span class="dl">"</span><span class="p">,</span>
      <span class="na">version</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1.0</span><span class="dl">"</span><span class="p">,</span>
      <span class="nx">chainId</span><span class="p">,</span>
      <span class="nx">salt</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="na">message</span><span class="p">:</span> <span class="p">{</span> <span class="nx">sportXEventId</span><span class="p">,</span> <span class="nx">timestamp</span> <span class="p">},</span>
  <span class="p">};</span>
  <span class="k">return</span> <span class="nx">payload</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">const</span> <span class="nx">payload</span> <span class="o">=</span> <span class="nx">getCancelOrderEventsEIP712Payload</span><span class="p">(</span>
  <span class="nx">sportXeventId</span><span class="p">,</span>
  <span class="nx">salt</span><span class="p">,</span>
  <span class="nx">timestamp</span><span class="p">,</span>
  <span class="nx">chainId</span>
<span class="p">);</span>

<span class="kd">const</span> <span class="nx">signature</span> <span class="o">=</span> <span class="nx">signTypedData</span><span class="p">({</span>
  <span class="na">privateKey</span><span class="p">:</span> <span class="nx">bufferPrivateKey</span><span class="p">,</span>
  <span class="na">data</span><span class="p">:</span> <span class="nx">payload</span><span class="p">,</span>
  <span class="na">version</span><span class="p">:</span> <span class="nx">SignTypedDataVersion</span><span class="p">.</span><span class="nx">V4</span><span class="p">,</span>
<span class="p">});</span>

<span class="kd">const</span> <span class="nx">apiPayload</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">signature</span><span class="p">,</span>
  <span class="nx">sportXeventId</span><span class="p">,</span>
  <span class="nx">salt</span><span class="p">,</span>
  <span class="na">maker</span><span class="p">:</span> <span class="nx">wallet</span><span class="p">.</span><span class="nx">address</span><span class="p">,</span>
  <span class="nx">timestamp</span><span class="p">,</span>
<span class="p">};</span>

<span class="kd">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">fetch</span><span class="p">(</span><span class="dl">"</span><span class="s2">https://api.sx.bet/orders/cancel/event</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="dl">"</span><span class="s2">POST</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">body</span><span class="p">:</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">apiPayload</span><span class="p">),</span>
  <span class="na">headers</span><span class="p">:</span> <span class="p">{</span> <span class="dl">"</span><span class="s2">Content-Type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">application/json</span><span class="dl">"</span> <span class="p">},</span>
<span class="p">});</span>
</code></pre></div>
<blockquote>
<p>The above command returns json structured like this</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"cancelledCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"orders"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"orderHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0xc4fad4101eac3d72a7d4166df05534edd5479ec705307624498d6ec60336ef45"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"pendingFills"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
              </span><span class="nl">"fillHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0xf691c9dfb100d125503c0b4dad944f15d711eaf22108c6dacc5077a274b35821"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"pendingFillAmount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"106995918"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>This endpoint cancels existing orders on the exchange for a particular event that you placed as a market maker.</p>
<h3 id='http-request-5'>HTTP Request</h3>
<p><code>POST https://api.sx.bet/orders/cancel/event</code></p>
<h3 id='request-payload-parameters-3'>Request payload parameters</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>sportXeventId</td>
<td>true</td>
<td>string</td>
<td>The event for which orders should be cancelled</td>
</tr>
<tr>
<td>signature</td>
<td>true</td>
<td>string</td>
<td>The EIP712 signature on the cancel order payload. See the <a href="#eip712-signing">EIP712 signing section</a> for more details on how to compute this signature.</td>
</tr>
<tr>
<td>salt</td>
<td>required</td>
<td>string</td>
<td>A random 32 bytes hex string to protect against replay</td>
</tr>
<tr>
<td>maker</td>
<td>required</td>
<td>true</td>
<td>The account from which you are cancelling orders</td>
</tr>
<tr>
<td>timestamp</td>
<td>required</td>
<td>true</td>
<td>The current timestamp in UNIX seconds to protect against replay</td>
</tr>
</tbody></table>
<h3 id='response-format-5'>Response format</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>string</td>
<td><code>success</code> or <code>failure</code> if the request succeeded or not</td>
</tr>
<tr>
<td>data</td>
<td>object</td>
<td>The response data</td>
</tr>
<tr>
<td>&gt; cancelledCount</td>
<td>number</td>
<td>How many orders were cancelled, of the orders passed</td>
</tr>
<tr>
<td>&gt; orders?</td>
<td>CancelledOrder[]</td>
<td>An array of Cancelled Order objects. Omitted if cancel count is 0.</td>
</tr>
</tbody></table>

<p>A <code>CancelledOrder</code> object looks like this</p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>orderHash</td>
<td>string</td>
<td>Cancelled order hash</td>
</tr>
<tr>
<td>pendingFills</td>
<td>PendingFill[]</td>
<td>The pending fills awaiting confirmation on chain. Expected to succeed and fill order.</td>
</tr>
</tbody></table>

<p>A <code>PendingFill</code> object looks like this</p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>fillHash</td>
<td>string</td>
<td>The fill hash which is pending</td>
</tr>
<tr>
<td>pendingFillAmount</td>
<td>string</td>
<td>The amount of the order that this fill is attempting to fill.</td>
</tr>
</tbody></table>
<h3 id='error-responses-4'>Error Responses</h3>
<table><thead>
<tr>
<th>Error Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>CANCEL_REQUEST_ALREADY_PROCESSED</td>
<td>This cancellation is already processed</td>
</tr>
</tbody></table>
<h2 id='cancel-all-orders'>Cancel all orders</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--location</span> <span class="nt">--request</span> POST <span class="s1">'https://api.sx.bet/orders/cancel/all'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
<span class="nt">--data-raw</span> <span class="s1">'{
    "signature": "0x1763cb98a069657cb778fdc295eac48741b957bfe58e54f7f9ad03c6c1ca3d053d9ca2e6957af794991217752b69cb9aa4ac9330395c92e24c8c25ec19220e5a1b",
    "salt": "0x6845028402f518a1c90770554a71017cd434ae9f2c09aa56c9560835c1929650",
    "maker": "0xe087299AE9Acd0133d6D1544A97Bb0EEe24a2671",
    "timestamp": 1643898624
}'</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">signTypedData</span><span class="p">,</span> <span class="nx">SignTypedDataVersion</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">@metamask/eth-sig-util</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">randomBytes</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">@ethersproject/random</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">Wallet</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">@ethersproject/wallet</span><span class="dl">"</span><span class="p">;</span>

<span class="c1">// Example is shown using a private key</span>

<span class="kd">const</span> <span class="nx">privateKey</span> <span class="o">=</span> <span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">PRIVATE_KEY</span><span class="p">;</span>
<span class="kd">const</span> <span class="nx">bufferPrivateKey</span> <span class="o">=</span> <span class="nx">Buffer</span><span class="p">.</span><span class="k">from</span><span class="p">(</span><span class="nx">privateKey</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span> <span class="dl">"</span><span class="s2">hex</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">salt</span> <span class="o">=</span> <span class="s2">`0x</span><span class="p">${</span><span class="nx">Buffer</span><span class="p">.</span><span class="k">from</span><span class="p">(</span><span class="nx">randomBytes</span><span class="p">(</span><span class="mi">32</span><span class="p">)).</span><span class="nx">toString</span><span class="p">(</span><span class="dl">"</span><span class="s2">hex</span><span class="dl">"</span><span class="p">)}</span><span class="s2">`</span><span class="p">;</span>
<span class="kd">const</span> <span class="nx">timestamp</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="k">new</span> <span class="nb">Date</span><span class="p">().</span><span class="nx">getTime</span><span class="p">()</span> <span class="o">/</span> <span class="mi">1000</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">wallet</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Wallet</span><span class="p">(</span><span class="nx">privateKey</span><span class="p">);</span>

<span class="kd">function</span> <span class="nx">getCancelAllOrdersEIP712Payload</span><span class="p">(</span><span class="nx">salt</span><span class="p">,</span> <span class="nx">timestamp</span><span class="p">,</span> <span class="nx">chainId</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">payload</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">types</span><span class="p">:</span> <span class="p">{</span>
      <span class="na">EIP712Domain</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span> <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">name</span><span class="dl">"</span><span class="p">,</span> <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">string</span><span class="dl">"</span> <span class="p">},</span>
        <span class="p">{</span> <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">version</span><span class="dl">"</span><span class="p">,</span> <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">string</span><span class="dl">"</span> <span class="p">},</span>
        <span class="p">{</span> <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">chainId</span><span class="dl">"</span><span class="p">,</span> <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">uint256</span><span class="dl">"</span> <span class="p">},</span>
        <span class="p">{</span> <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">salt</span><span class="dl">"</span><span class="p">,</span> <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">bytes32</span><span class="dl">"</span> <span class="p">},</span>
      <span class="p">],</span>
      <span class="na">Details</span><span class="p">:</span> <span class="p">[{</span> <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">timestamp</span><span class="dl">"</span><span class="p">,</span> <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">uint256</span><span class="dl">"</span> <span class="p">}],</span>
    <span class="p">},</span>
    <span class="na">primaryType</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Details</span><span class="dl">"</span><span class="p">,</span>
    <span class="na">domain</span><span class="p">:</span> <span class="p">{</span>
      <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">CancelAllOrdersSportX</span><span class="dl">"</span><span class="p">,</span>
      <span class="na">version</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1.0</span><span class="dl">"</span><span class="p">,</span>
      <span class="nx">chainId</span><span class="p">,</span>
      <span class="nx">salt</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="na">message</span><span class="p">:</span> <span class="p">{</span> <span class="nx">timestamp</span> <span class="p">},</span>
  <span class="p">};</span>
  <span class="k">return</span> <span class="nx">payload</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">const</span> <span class="nx">payload</span> <span class="o">=</span> <span class="nx">getCancelOrderEventsEIP712Payload</span><span class="p">(</span><span class="nx">salt</span><span class="p">,</span> <span class="nx">timestamp</span><span class="p">,</span> <span class="nx">chainId</span><span class="p">);</span>

<span class="kd">const</span> <span class="nx">signature</span> <span class="o">=</span> <span class="nx">signTypedData</span><span class="p">({</span>
  <span class="na">privateKey</span><span class="p">:</span> <span class="nx">bufferPrivateKey</span><span class="p">,</span>
  <span class="na">data</span><span class="p">:</span> <span class="nx">payload</span><span class="p">,</span>
  <span class="na">version</span><span class="p">:</span> <span class="nx">SignTypedDataVersion</span><span class="p">.</span><span class="nx">V4</span><span class="p">,</span>
<span class="p">});</span>

<span class="kd">const</span> <span class="nx">apiPayload</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">signature</span><span class="p">,</span>
  <span class="nx">salt</span><span class="p">,</span>
  <span class="na">maker</span><span class="p">:</span> <span class="nx">wallet</span><span class="p">.</span><span class="nx">address</span><span class="p">,</span>
  <span class="nx">timestamp</span><span class="p">,</span>
<span class="p">};</span>

<span class="kd">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">fetch</span><span class="p">(</span><span class="dl">"</span><span class="s2">https://api.sx.bet/orders/cancel/all</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="dl">"</span><span class="s2">POST</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">body</span><span class="p">:</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">apiPayload</span><span class="p">),</span>
  <span class="na">headers</span><span class="p">:</span> <span class="p">{</span> <span class="dl">"</span><span class="s2">Content-Type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">application/json</span><span class="dl">"</span> <span class="p">},</span>
<span class="p">});</span>
</code></pre></div>
<blockquote>
<p>The above command returns json structured like this</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"cancelledCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"orders"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"orderHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0xc4fad4101eac3d72a7d4166df05534edd5479ec705307624498d6ec60336ef45"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"pendingFills"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
              </span><span class="nl">"fillHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0xf691c9dfb100d125503c0b4dad944f15d711eaf22108c6dacc5077a274b35821"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"pendingFillAmount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"106995918"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>This endpoint cancels ALL existing orders on the exchange that you placed as a market maker.</p>
<h3 id='http-request-6'>HTTP Request</h3>
<p><code>POST https://api.sx.bet/orders/cancel/all</code></p>
<h3 id='request-payload-parameters-4'>Request payload parameters</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>signature</td>
<td>true</td>
<td>string</td>
<td>The EIP712 signature on the cancel order payload. See the <a href="#eip712-signing">EIP712 signing section</a> for more details on how to compute this signature.</td>
</tr>
<tr>
<td>salt</td>
<td>required</td>
<td>string</td>
<td>A random 32 bytes hex string to protect against replay</td>
</tr>
<tr>
<td>maker</td>
<td>required</td>
<td>true</td>
<td>The account from which you are cancelling orders</td>
</tr>
<tr>
<td>timestamp</td>
<td>required</td>
<td>true</td>
<td>The current timestamp in UNIX seconds to protect against replay.</td>
</tr>
</tbody></table>
<h3 id='response-format-6'>Response format</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>string</td>
<td><code>success</code> or <code>failure</code> if the request succeeded or not</td>
</tr>
<tr>
<td>data</td>
<td>object</td>
<td>The response data</td>
</tr>
<tr>
<td>&gt; cancelledCount</td>
<td>number</td>
<td>How many orders were cancelled, of the orders passed</td>
</tr>
<tr>
<td>&gt; orders?</td>
<td>CancelledOrder[]</td>
<td>An array of Cancelled Order objects. Omitted if cancel count is 0.</td>
</tr>
</tbody></table>

<p>A <code>CancelledOrder</code> object looks like this</p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>orderHash</td>
<td>string</td>
<td>Cancelled order hash</td>
</tr>
<tr>
<td>pendingFills</td>
<td>PendingFill[]</td>
<td>The pending fills awaiting confirmation on chain. Expected to succeed and fill order.</td>
</tr>
</tbody></table>

<p>A <code>PendingFill</code> object looks like this</p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>fillHash</td>
<td>string</td>
<td>The fill hash which is pending</td>
</tr>
<tr>
<td>pendingFillAmount</td>
<td>string</td>
<td>The amount of the order that this fill is attempting to fill.</td>
</tr>
</tbody></table>
<h3 id='error-responses-5'>Error Responses</h3>
<table><thead>
<tr>
<th>Error Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>CANCEL_REQUEST_ALREADY_PROCESSED</td>
<td>This cancellation is already processed</td>
</tr>
</tbody></table>
<h2 id='filling-orders-v1'>Filling orders v1</h2>
<aside class="notice">
Deprecating soon! See <a href="#filling-orders-v2">Filling orders v2</a> for improved fill endpoint.
</aside>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--location</span> <span class="nt">--request</span> POST <span class="s1">'https://api.sx.bet/orders/fill'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
<span class="nt">--data-raw</span> <span class="s1">'{"orderHashes":["0x863a2288a640e1bb722da2ee7a6f323ea28caee8ac681d320534d0e7f2e849de","0x001f676d68baf85310145f85bc5aeba64108b234607b4fae25c704069ca8464a"],"takerAmounts":["10000000000000000000","10000000000000000000"],"taker":"0xa3bBFaB3645B2Dd4296cADc451d74574CD47Ba1a","takerSig":"0x09d2603a8c8646221d6972b04a5cdd8b13d6326a267329825567a25a5e63606b07b97c84640bfb3ee4a5053083ce178d9e0c9cbdf1b1dfd519fda0594fae30dc1c","fillSalt":"69231297238279245345865414293427982207908612843136003245427437324972455931243","action":"N/A","market":"N/A","betting":"N/A","stake":"N/A","odds":"N/A","returning":"N/A"}'</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">signTypedData</span><span class="p">,</span> <span class="nx">SignTypedDataVersion</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">@metamask/eth-sig-util</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span>
  <span class="nx">BigNumber</span><span class="p">,</span>
  <span class="nx">constants</span><span class="p">,</span>
  <span class="nx">Contract</span><span class="p">,</span>
  <span class="nx">providers</span><span class="p">,</span>
  <span class="nx">utils</span><span class="p">,</span>
  <span class="nx">Wallet</span><span class="p">,</span>
<span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">ethers</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">randomBytes</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">ethers/lib/utils</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">dayjs</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">dayjs</span><span class="dl">"</span><span class="p">;</span>

<span class="k">async</span> <span class="kd">function</span> <span class="nx">fillOrder</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">privateKey</span> <span class="o">=</span> <span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">PRIVATE_KEY</span><span class="p">;</span>
  <span class="kd">const</span> <span class="nx">takerAddress</span> <span class="o">=</span> <span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">TAKER_ADDRESS</span><span class="p">;</span>
  <span class="kd">const</span> <span class="nx">tokenAddress</span> <span class="o">=</span> <span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">TOKEN_ADDRESS</span><span class="p">;</span>

  <span class="c1">// get the following from https://api.sx.bet/metadata</span>
  <span class="kd">const</span> <span class="nx">tokenTransferProxyAddress</span> <span class="o">=</span> <span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">TOKEN_TRANSFER_PROXY_ADDRESS</span><span class="p">;</span>
  <span class="kd">const</span> <span class="nx">EIP712FillHasherAddress</span> <span class="o">=</span> <span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">EIP712_FILL_HASHER_ADDRESS</span><span class="p">;</span>
  <span class="kd">const</span> <span class="nx">chainId</span> <span class="o">=</span> <span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">CHAIN_ID</span><span class="p">;</span> <span class="c1">// 4162 in production</span>
  <span class="kd">const</span> <span class="nx">domainVersion</span> <span class="o">=</span> <span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">DOMAIN_VERSION</span><span class="p">;</span>

  <span class="kd">const</span> <span class="nx">bufferPrivateKey</span> <span class="o">=</span> <span class="nx">Buffer</span><span class="p">.</span><span class="k">from</span><span class="p">(</span><span class="nx">privateKey</span><span class="o">!</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span> <span class="dl">"</span><span class="s2">hex</span><span class="dl">"</span><span class="p">);</span>
  <span class="kd">const</span> <span class="nx">wallet</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Wallet</span><span class="p">(</span><span class="nx">privateKey</span><span class="p">).</span><span class="nx">connect</span><span class="p">(</span>
    <span class="k">new</span> <span class="nx">providers</span><span class="p">.</span><span class="nx">JsonRpcProvider</span><span class="p">(</span><span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">RPC_URL</span><span class="p">)</span> <span class="c1">// find this under the 'references' section</span>
  <span class="p">);</span>
  <span class="kd">const</span> <span class="nx">takerAmounts</span> <span class="o">=</span> <span class="p">[</span><span class="dl">"</span><span class="s2">10000000000000000000</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">10000000000000000000</span><span class="dl">"</span><span class="p">];</span>
  <span class="kd">const</span> <span class="nx">fillSalt</span> <span class="o">=</span> <span class="nx">BigNumber</span><span class="p">.</span><span class="k">from</span><span class="p">(</span><span class="nx">randomBytes</span><span class="p">(</span><span class="mi">32</span><span class="p">)).</span><span class="nx">toString</span><span class="p">();</span>
  <span class="kd">const</span> <span class="nx">approvalAmount</span> <span class="o">=</span> <span class="nx">constants</span><span class="p">.</span><span class="nx">MaxUint256</span><span class="p">;</span>
  <span class="kd">const</span> <span class="nx">tokenContract</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Contract</span><span class="p">(</span>
    <span class="nx">tokenAddress</span><span class="p">,</span>
    <span class="p">[</span>
      <span class="p">{</span>
        <span class="na">constant</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
        <span class="na">inputs</span><span class="p">:</span> <span class="p">[</span>
          <span class="p">{</span> <span class="na">internalType</span><span class="p">:</span> <span class="dl">"</span><span class="s2">address</span><span class="dl">"</span><span class="p">,</span> <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">usr</span><span class="dl">"</span><span class="p">,</span> <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">address</span><span class="dl">"</span> <span class="p">},</span>
          <span class="p">{</span> <span class="na">internalType</span><span class="p">:</span> <span class="dl">"</span><span class="s2">uint256</span><span class="dl">"</span><span class="p">,</span> <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">wad</span><span class="dl">"</span><span class="p">,</span> <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">uint256</span><span class="dl">"</span> <span class="p">},</span>
        <span class="p">],</span>
        <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">approve</span><span class="dl">"</span><span class="p">,</span>
        <span class="na">outputs</span><span class="p">:</span> <span class="p">[{</span> <span class="na">internalType</span><span class="p">:</span> <span class="dl">"</span><span class="s2">bool</span><span class="dl">"</span><span class="p">,</span> <span class="na">name</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span> <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">bool</span><span class="dl">"</span> <span class="p">}],</span>
        <span class="na">payable</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
        <span class="na">stateMutability</span><span class="p">:</span> <span class="dl">"</span><span class="s2">nonpayable</span><span class="dl">"</span><span class="p">,</span>
        <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">function</span><span class="dl">"</span><span class="p">,</span>
      <span class="p">},</span>
      <span class="p">{</span>
        <span class="na">inputs</span><span class="p">:</span> <span class="p">[</span>
          <span class="p">{</span>
            <span class="na">internalType</span><span class="p">:</span> <span class="dl">"</span><span class="s2">address</span><span class="dl">"</span><span class="p">,</span>
            <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">owner</span><span class="dl">"</span><span class="p">,</span>
            <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">address</span><span class="dl">"</span><span class="p">,</span>
          <span class="p">},</span>
        <span class="p">],</span>
        <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">nonces</span><span class="dl">"</span><span class="p">,</span>
        <span class="na">outputs</span><span class="p">:</span> <span class="p">[</span>
          <span class="p">{</span>
            <span class="na">internalType</span><span class="p">:</span> <span class="dl">"</span><span class="s2">uint256</span><span class="dl">"</span><span class="p">,</span>
            <span class="na">name</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
            <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">uint256</span><span class="dl">"</span><span class="p">,</span>
          <span class="p">},</span>
        <span class="p">],</span>
        <span class="na">stateMutability</span><span class="p">:</span> <span class="dl">"</span><span class="s2">view</span><span class="dl">"</span><span class="p">,</span>
        <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">function</span><span class="dl">"</span><span class="p">,</span>
        <span class="na">constant</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
      <span class="p">},</span>
      <span class="p">{</span>
        <span class="na">inputs</span><span class="p">:</span> <span class="p">[],</span>
        <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">name</span><span class="dl">"</span><span class="p">,</span>
        <span class="na">outputs</span><span class="p">:</span> <span class="p">[</span>
          <span class="p">{</span>
            <span class="na">internalType</span><span class="p">:</span> <span class="dl">"</span><span class="s2">string</span><span class="dl">"</span><span class="p">,</span>
            <span class="na">name</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
            <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">string</span><span class="dl">"</span>
          <span class="p">}</span>
        <span class="p">],</span>
        <span class="na">stateMutability</span><span class="p">:</span> <span class="dl">"</span><span class="s2">view</span><span class="dl">"</span><span class="p">,</span>
        <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">function</span><span class="dl">"</span><span class="p">,</span>
        <span class="na">constant</span><span class="p">:</span> <span class="kc">true</span>
      <span class="p">}</span>
    <span class="p">],</span>
    <span class="nx">wallet</span>
  <span class="p">);</span>

  <span class="kd">let</span> <span class="nx">nonce</span><span class="p">:</span> <span class="nx">BigNumber</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">tokenContract</span><span class="p">.</span><span class="nx">nonces</span><span class="p">(</span><span class="nx">takerAddress</span><span class="p">);</span>
  <span class="kd">const</span> <span class="nx">tokenName</span><span class="p">:</span> <span class="nx">string</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">tokenContract</span><span class="p">.</span><span class="nx">name</span><span class="p">();</span>

  <span class="kd">const</span> <span class="nx">ordersToFill</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="na">fillAmount</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0</span><span class="dl">"</span><span class="p">,</span>
      <span class="na">orderHash</span><span class="p">:</span>
        <span class="dl">"</span><span class="s2">0x863a2288a640e1bb722da2ee7a6f323ea28caee8ac681d320534d0e7f2e849de</span><span class="dl">"</span><span class="p">,</span>
      <span class="na">marketHash</span><span class="p">:</span>
        <span class="dl">"</span><span class="s2">0x0eeace4a9bbf6235bc59695258a419ed3a05a2c8e3b6a58fb71a0d9e6b031c2b</span><span class="dl">"</span><span class="p">,</span>
      <span class="na">maker</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0x63a4491dC73245E181c47BAe0ae9d6627E56dE55</span><span class="dl">"</span><span class="p">,</span>
      <span class="na">totalBetSize</span><span class="p">:</span> <span class="dl">"</span><span class="s2">120000000000000000000</span><span class="dl">"</span><span class="p">,</span>
      <span class="na">percentageOdds</span><span class="p">:</span> <span class="dl">"</span><span class="s2">68860772772306080000</span><span class="dl">"</span><span class="p">,</span>
      <span class="na">expiry</span><span class="p">:</span> <span class="mi">2209006800</span><span class="p">,</span>
      <span class="na">apiExpiry</span><span class="p">:</span> <span class="mi">1631233201</span><span class="p">,</span>
      <span class="na">baseToken</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0x8f3Cf7ad23Cd3CaDbD9735AFf958023239c6A063</span><span class="dl">"</span><span class="p">,</span>
      <span class="na">executor</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0x3E91041b9e60C7275f8296b8B0a97141e6442d49</span><span class="dl">"</span><span class="p">,</span>
      <span class="na">salt</span><span class="p">:</span>
        <span class="dl">"</span><span class="s2">64542697517744547417546237340530363903382582642857122744382059379852833736063</span><span class="dl">"</span><span class="p">,</span>
      <span class="na">isMakerBettingOutcomeOne</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
      <span class="na">signature</span><span class="p">:</span>
        <span class="dl">"</span><span class="s2">0xa58255f9f7bb8a2698d66f9931a3d4ebe2e5605299a57d78b7c048f26585fdb5144b16bb930ad564f2e2819f66c8c20c2c076d8951728d8242481d58af221fc51b</span><span class="dl">"</span><span class="p">,</span>
      <span class="na">createdAt</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2021-06-24T21:44:51.355Z</span><span class="dl">"</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="na">fillAmount</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0</span><span class="dl">"</span><span class="p">,</span>
      <span class="na">orderHash</span><span class="p">:</span>
        <span class="dl">"</span><span class="s2">0x001f676d68baf85310145f85bc5aeba64108b234607b4fae25c704069ca8464a</span><span class="dl">"</span><span class="p">,</span>
      <span class="na">marketHash</span><span class="p">:</span>
        <span class="dl">"</span><span class="s2">0x0eeace4a9bbf6235bc59695258a419ed3a05a2c8e3b6a58fb71a0d9e6b031c2b</span><span class="dl">"</span><span class="p">,</span>
      <span class="na">maker</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0x63a4491dC73245E181c47BAe0ae9d6627E56dE55</span><span class="dl">"</span><span class="p">,</span>
      <span class="na">totalBetSize</span><span class="p">:</span> <span class="dl">"</span><span class="s2">120000000000000000000</span><span class="dl">"</span><span class="p">,</span>
      <span class="na">percentageOdds</span><span class="p">:</span> <span class="dl">"</span><span class="s2">27138321995464855000</span><span class="dl">"</span><span class="p">,</span>
      <span class="na">expiry</span><span class="p">:</span> <span class="mi">2209006800</span><span class="p">,</span>
      <span class="na">apiExpiry</span><span class="p">:</span> <span class="mi">1631233201</span><span class="p">,</span>
      <span class="na">baseToken</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0x8f3Cf7ad23Cd3CaDbD9735AFf958023239c6A063</span><span class="dl">"</span><span class="p">,</span>
      <span class="na">executor</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0x3E91041b9e60C7275f8296b8B0a97141e6442d49</span><span class="dl">"</span><span class="p">,</span>
      <span class="na">salt</span><span class="p">:</span>
        <span class="dl">"</span><span class="s2">33394198022904122521460365691253625674733505262618329029186356280403872887283</span><span class="dl">"</span><span class="p">,</span>
      <span class="na">isMakerBettingOutcomeOne</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
      <span class="na">signature</span><span class="p">:</span>
        <span class="dl">"</span><span class="s2">0xb52be3279a092823bb46b3bd9a397bef2a06eda95a519718992ea88d73a4375874728cb7c5f6527b67195e44f3f0f0d29956dc05e18e775547d8f2faf3d4bd001c</span><span class="dl">"</span><span class="p">,</span>
      <span class="na">createdAt</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2021-06-24T21:44:51.374Z</span><span class="dl">"</span><span class="p">,</span>
    <span class="p">},</span>
  <span class="p">];</span>

  <span class="kd">const</span> <span class="nx">signingPayload</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">types</span><span class="p">:</span> <span class="p">{</span>
      <span class="na">EIP712Domain</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span> <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">name</span><span class="dl">"</span><span class="p">,</span> <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">string</span><span class="dl">"</span> <span class="p">},</span>
        <span class="p">{</span> <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">version</span><span class="dl">"</span><span class="p">,</span> <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">string</span><span class="dl">"</span> <span class="p">},</span>
        <span class="p">{</span> <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">chainId</span><span class="dl">"</span><span class="p">,</span> <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">uint256</span><span class="dl">"</span> <span class="p">},</span>
        <span class="p">{</span> <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">verifyingContract</span><span class="dl">"</span><span class="p">,</span> <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">address</span><span class="dl">"</span> <span class="p">},</span>
      <span class="p">],</span>
      <span class="na">Details</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span> <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">action</span><span class="dl">"</span><span class="p">,</span> <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">string</span><span class="dl">"</span> <span class="p">},</span>
        <span class="p">{</span> <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">market</span><span class="dl">"</span><span class="p">,</span> <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">string</span><span class="dl">"</span> <span class="p">},</span>
        <span class="p">{</span> <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">betting</span><span class="dl">"</span><span class="p">,</span> <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">string</span><span class="dl">"</span> <span class="p">},</span>
        <span class="p">{</span> <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">stake</span><span class="dl">"</span><span class="p">,</span> <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">string</span><span class="dl">"</span> <span class="p">},</span>
        <span class="p">{</span> <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">odds</span><span class="dl">"</span><span class="p">,</span> <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">string</span><span class="dl">"</span> <span class="p">},</span>
        <span class="p">{</span> <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">returning</span><span class="dl">"</span><span class="p">,</span> <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">string</span><span class="dl">"</span> <span class="p">},</span>
        <span class="p">{</span> <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">fills</span><span class="dl">"</span><span class="p">,</span> <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">FillObject</span><span class="dl">"</span> <span class="p">},</span>
      <span class="p">],</span>
      <span class="na">FillObject</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span> <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">orders</span><span class="dl">"</span><span class="p">,</span> <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Order[]</span><span class="dl">"</span> <span class="p">},</span>
        <span class="p">{</span> <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">makerSigs</span><span class="dl">"</span><span class="p">,</span> <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">bytes[]</span><span class="dl">"</span> <span class="p">},</span>
        <span class="p">{</span> <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">takerAmounts</span><span class="dl">"</span><span class="p">,</span> <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">uint256[]</span><span class="dl">"</span> <span class="p">},</span>
        <span class="p">{</span> <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">fillSalt</span><span class="dl">"</span><span class="p">,</span> <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">uint256</span><span class="dl">"</span> <span class="p">},</span>
        <span class="p">{</span> <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">beneficiary</span><span class="dl">"</span><span class="p">,</span> <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">address</span><span class="dl">"</span> <span class="p">},</span>
        <span class="p">{</span> <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">beneficiaryType</span><span class="dl">"</span><span class="p">,</span> <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">uint8</span><span class="dl">"</span> <span class="p">},</span>
        <span class="p">{</span> <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">cashOutTarget</span><span class="dl">"</span><span class="p">,</span> <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">bytes32</span><span class="dl">"</span> <span class="p">},</span>
      <span class="p">],</span>
      <span class="na">Order</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span> <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">marketHash</span><span class="dl">"</span><span class="p">,</span> <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">bytes32</span><span class="dl">"</span> <span class="p">},</span>
        <span class="p">{</span> <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">baseToken</span><span class="dl">"</span><span class="p">,</span> <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">address</span><span class="dl">"</span> <span class="p">},</span>
        <span class="p">{</span> <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">totalBetSize</span><span class="dl">"</span><span class="p">,</span> <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">uint256</span><span class="dl">"</span> <span class="p">},</span>
        <span class="p">{</span> <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">percentageOdds</span><span class="dl">"</span><span class="p">,</span> <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">uint256</span><span class="dl">"</span> <span class="p">},</span>
        <span class="p">{</span> <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">expiry</span><span class="dl">"</span><span class="p">,</span> <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">uint256</span><span class="dl">"</span> <span class="p">},</span>
        <span class="p">{</span> <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">salt</span><span class="dl">"</span><span class="p">,</span> <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">uint256</span><span class="dl">"</span> <span class="p">},</span>
        <span class="p">{</span> <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">maker</span><span class="dl">"</span><span class="p">,</span> <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">address</span><span class="dl">"</span> <span class="p">},</span>
        <span class="p">{</span> <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">executor</span><span class="dl">"</span><span class="p">,</span> <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">address</span><span class="dl">"</span> <span class="p">},</span>
        <span class="p">{</span> <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">isMakerBettingOutcomeOne</span><span class="dl">"</span><span class="p">,</span> <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">bool</span><span class="dl">"</span> <span class="p">},</span>
      <span class="p">],</span>
    <span class="p">},</span>
    <span class="na">primaryType</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Details</span><span class="dl">"</span><span class="p">,</span>
    <span class="na">domain</span><span class="p">:</span> <span class="p">{</span>
      <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">SX Bet</span><span class="dl">"</span><span class="p">,</span>
      <span class="na">version</span><span class="p">:</span> <span class="nx">domainVersion</span><span class="p">,</span>
      <span class="na">chainId</span><span class="p">:</span> <span class="nx">chainId</span><span class="p">,</span>
      <span class="na">verifyingContract</span><span class="p">:</span> <span class="nx">EIP712FillHasherAddress</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="na">message</span><span class="p">:</span> <span class="p">{</span>
      <span class="na">action</span><span class="p">:</span> <span class="dl">"</span><span class="s2">N/A</span><span class="dl">"</span><span class="p">,</span>
      <span class="na">market</span><span class="p">:</span> <span class="dl">"</span><span class="s2">N/A</span><span class="dl">"</span><span class="p">,</span>
      <span class="na">betting</span><span class="p">:</span> <span class="dl">"</span><span class="s2">N/A</span><span class="dl">"</span><span class="p">,</span>
      <span class="na">stake</span><span class="p">:</span> <span class="dl">"</span><span class="s2">N/A</span><span class="dl">"</span><span class="p">,</span>
      <span class="na">odds</span><span class="p">:</span> <span class="dl">"</span><span class="s2">N/A</span><span class="dl">"</span><span class="p">,</span>
      <span class="na">returning</span><span class="p">:</span> <span class="dl">"</span><span class="s2">N/A</span><span class="dl">"</span><span class="p">,</span>
      <span class="na">fills</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">makerSigs</span><span class="p">:</span> <span class="nx">ordersToFill</span><span class="p">.</span><span class="nx">map</span><span class="p">((</span><span class="nx">order</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">order</span><span class="p">.</span><span class="nx">signature</span><span class="p">),</span>
        <span class="na">orders</span><span class="p">:</span> <span class="nx">ordersToFill</span><span class="p">.</span><span class="nx">map</span><span class="p">((</span><span class="nx">order</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">({</span>
          <span class="na">marketHash</span><span class="p">:</span> <span class="nx">order</span><span class="p">.</span><span class="nx">marketHash</span><span class="p">,</span>
          <span class="na">baseToken</span><span class="p">:</span> <span class="nx">order</span><span class="p">.</span><span class="nx">baseToken</span><span class="p">,</span>
          <span class="na">totalBetSize</span><span class="p">:</span> <span class="nx">order</span><span class="p">.</span><span class="nx">totalBetSize</span><span class="p">.</span><span class="nx">toString</span><span class="p">(),</span>
          <span class="na">percentageOdds</span><span class="p">:</span> <span class="nx">order</span><span class="p">.</span><span class="nx">percentageOdds</span><span class="p">.</span><span class="nx">toString</span><span class="p">(),</span>
          <span class="na">expiry</span><span class="p">:</span> <span class="nx">order</span><span class="p">.</span><span class="nx">expiry</span><span class="p">.</span><span class="nx">toString</span><span class="p">(),</span>
          <span class="na">salt</span><span class="p">:</span> <span class="nx">order</span><span class="p">.</span><span class="nx">salt</span><span class="p">.</span><span class="nx">toString</span><span class="p">(),</span>
          <span class="na">maker</span><span class="p">:</span> <span class="nx">order</span><span class="p">.</span><span class="nx">maker</span><span class="p">,</span>
          <span class="na">executor</span><span class="p">:</span> <span class="nx">order</span><span class="p">.</span><span class="nx">executor</span><span class="p">,</span>
          <span class="na">isMakerBettingOutcomeOne</span><span class="p">:</span> <span class="nx">order</span><span class="p">.</span><span class="nx">isMakerBettingOutcomeOne</span><span class="p">,</span>
        <span class="p">})),</span>
        <span class="nx">takerAmounts</span><span class="p">,</span>
        <span class="nx">fillSalt</span><span class="p">,</span>
        <span class="na">beneficiary</span><span class="p">:</span> <span class="nx">constants</span><span class="p">.</span><span class="nx">AddressZero</span><span class="p">,</span>
        <span class="na">beneficiaryType</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="na">cashOutTarget</span><span class="p">:</span> <span class="nx">constants</span><span class="p">.</span><span class="nx">HashZero</span><span class="p">,</span>
      <span class="p">},</span>
    <span class="p">},</span>
  <span class="p">};</span>

  <span class="kd">const</span> <span class="nx">approveProxySigningPayload</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">types</span><span class="p">:</span> <span class="p">{</span>
      <span class="na">EIP712Domain</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span> <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">name</span><span class="dl">"</span><span class="p">,</span> <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">string</span><span class="dl">"</span> <span class="p">},</span>
        <span class="p">{</span> <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">version</span><span class="dl">"</span><span class="p">,</span> <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">string</span><span class="dl">"</span> <span class="p">},</span>
        <span class="p">{</span> <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">chainId</span><span class="dl">"</span><span class="p">,</span> <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">uint256</span><span class="dl">"</span> <span class="p">},</span>
        <span class="p">{</span> <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">verifyingContract</span><span class="dl">"</span><span class="p">,</span> <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">address</span><span class="dl">"</span> <span class="p">},</span>
      <span class="p">],</span>
      <span class="na">Permit</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span> <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">owner</span><span class="dl">"</span><span class="p">,</span> <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">address</span><span class="dl">"</span> <span class="p">},</span>
        <span class="p">{</span> <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">spender</span><span class="dl">"</span><span class="p">,</span> <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">address</span><span class="dl">"</span> <span class="p">},</span>
        <span class="p">{</span> <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">value</span><span class="dl">"</span><span class="p">,</span> <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">uint256</span><span class="dl">"</span> <span class="p">},</span>
        <span class="p">{</span> <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">nonce</span><span class="dl">"</span><span class="p">,</span> <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">uint256</span><span class="dl">"</span> <span class="p">},</span>
        <span class="p">{</span> <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">deadline</span><span class="dl">"</span><span class="p">,</span> <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">uint256</span><span class="dl">"</span> <span class="p">},</span>
      <span class="p">],</span>
    <span class="p">},</span>
    <span class="na">domain</span><span class="p">:</span> <span class="p">{</span>
      <span class="na">name</span><span class="p">:</span> <span class="nx">tokenName</span><span class="p">,</span>
      <span class="na">version</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1</span><span class="dl">"</span><span class="p">,</span>
      <span class="na">chainId</span><span class="p">:</span> <span class="nx">chainId</span><span class="p">,</span>
      <span class="na">verifyingContract</span><span class="p">:</span> <span class="nx">tokenAddress</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="na">message</span><span class="p">:</span> <span class="p">{</span>
      <span class="na">owner</span><span class="p">:</span> <span class="nx">takerAddress</span><span class="p">,</span>
      <span class="na">spender</span><span class="p">:</span> <span class="nx">tokenTransferProxyAddress</span><span class="p">,</span>
      <span class="na">value</span><span class="p">:</span> <span class="nx">approvalAmount</span><span class="p">,</span>
      <span class="na">nonce</span><span class="p">:</span> <span class="nx">nonce</span><span class="p">.</span><span class="nx">toNumber</span><span class="p">(),</span>
      <span class="na">deadline</span><span class="p">:</span> <span class="nx">dayjs</span><span class="p">().</span><span class="nx">add</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="dl">"</span><span class="s2">hour</span><span class="dl">"</span><span class="p">).</span><span class="nx">unix</span><span class="p">(),</span>
    <span class="p">},</span>
    <span class="na">primaryType</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Permit</span><span class="dl">"</span><span class="p">,</span>
  <span class="p">};</span>

  <span class="kd">const</span> <span class="nx">approveProxySignature</span> <span class="o">=</span> <span class="nx">signTypedData</span><span class="p">({</span>
    <span class="na">privateKey</span><span class="p">:</span> <span class="nx">bufferPrivateKey</span><span class="p">,</span>
    <span class="na">data</span><span class="p">:</span> <span class="nx">approveProxySigningPayload</span><span class="p">,</span>
    <span class="na">version</span><span class="p">:</span> <span class="nx">SignTypedDataVersion</span><span class="p">.</span><span class="nx">V4</span><span class="p">,</span>
  <span class="p">});</span>

  <span class="kd">const</span> <span class="nx">signature</span> <span class="o">=</span> <span class="nx">signTypedData</span><span class="p">({</span>
    <span class="na">privateKey</span><span class="p">:</span> <span class="nx">bufferPrivateKey</span><span class="p">,</span>
    <span class="na">data</span><span class="p">:</span> <span class="nx">signingPayload</span><span class="p">,</span>
    <span class="na">version</span><span class="p">:</span> <span class="nx">SignTypedDataVersion</span><span class="p">.</span><span class="nx">V4</span><span class="p">,</span>
  <span class="p">});</span>

  <span class="kd">const</span> <span class="nx">apiPayload</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">orderHashes</span><span class="p">:</span> <span class="nx">ordersToFill</span><span class="p">.</span><span class="nx">map</span><span class="p">((</span><span class="nx">order</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">order</span><span class="p">.</span><span class="nx">orderHash</span><span class="p">),</span>
    <span class="nx">takerAmounts</span><span class="p">,</span>
    <span class="na">taker</span><span class="p">:</span> <span class="nx">takerAddress</span><span class="p">,</span>
    <span class="na">takerSig</span><span class="p">:</span> <span class="nx">signature</span><span class="p">,</span>
    <span class="nx">fillSalt</span><span class="p">,</span>
    <span class="na">action</span><span class="p">:</span> <span class="dl">"</span><span class="s2">N/A</span><span class="dl">"</span><span class="p">,</span>
    <span class="na">market</span><span class="p">:</span> <span class="dl">"</span><span class="s2">N/A</span><span class="dl">"</span><span class="p">,</span>
    <span class="na">betting</span><span class="p">:</span> <span class="dl">"</span><span class="s2">N/A</span><span class="dl">"</span><span class="p">,</span>
    <span class="na">stake</span><span class="p">:</span> <span class="dl">"</span><span class="s2">N/A</span><span class="dl">"</span><span class="p">,</span>
    <span class="na">odds</span><span class="p">:</span> <span class="dl">"</span><span class="s2">N/A</span><span class="dl">"</span><span class="p">,</span>
    <span class="na">returning</span><span class="p">:</span> <span class="dl">"</span><span class="s2">N/A</span><span class="dl">"</span><span class="p">,</span>
    <span class="na">approveProxyPayload</span><span class="p">:</span> <span class="p">{</span>
      <span class="na">owner</span><span class="p">:</span> <span class="nx">takerAddress</span><span class="p">,</span>
      <span class="na">spender</span><span class="p">:</span> <span class="nx">tokenTransferProxyAddress</span><span class="p">,</span>
      <span class="nx">tokenAddress</span><span class="p">,</span>
      <span class="na">amount</span><span class="p">:</span> <span class="nx">approvalAmount</span><span class="p">.</span><span class="nx">toString</span><span class="p">(),</span>
      <span class="na">signature</span><span class="p">:</span> <span class="nx">approveProxySignature</span><span class="p">,</span>
    <span class="p">},</span>
  <span class="p">};</span>

  <span class="kd">const</span> <span class="nx">response</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">fetch</span><span class="p">(</span><span class="s2">`https://api.sx.bet/orders/fill`</span><span class="p">,</span> <span class="p">{</span>
    <span class="na">method</span><span class="p">:</span> <span class="dl">"</span><span class="s2">POST</span><span class="dl">"</span><span class="p">,</span>
    <span class="na">body</span><span class="p">:</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">apiPayload</span><span class="p">),</span>
    <span class="na">headers</span><span class="p">:</span> <span class="p">{</span> <span class="dl">"</span><span class="s2">Content-Type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">application/json</span><span class="dl">"</span> <span class="p">},</span>
  <span class="p">});</span>
<span class="p">}</span>
</code></pre></div>
<blockquote>
<p>The above command returns json structured like this</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"fillHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x840763ae29b7a6adfa0e315afa47be30cdebd5b793d179dc07dc8fc4f0034965"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>This endpoint fills orders on the exchange. Multiple orders can be filled at once and no gas is paid as this is a meta transaction submitted by the API itself.</p>

<p>Note that there are built in betting delays based on the below chart. This is added to guard against toxic flow and high spikes in latency from the bookmaker&#39;s side. It is effectively protection for the bookmaker. If the odds change within that delay time, the order will be cancelled and an error will be thrown.</p>

<p><strong>PREGAME</strong></p>

<table><thead>
<tr>
<th>Sport</th>
<th>Delay ( in seconds )</th>
</tr>
</thead><tbody>
<tr>
<td>Default (all sports)</td>
<td>0.5</td>
</tr>
</tbody></table>

<p><strong>LIVE</strong></p>

<table><thead>
<tr>
<th>Sport</th>
<th>Delay ( in seconds )</th>
</tr>
</thead><tbody>
<tr>
<td>Baseball</td>
<td>12</td>
</tr>
<tr>
<td>Football</td>
<td>10</td>
</tr>
<tr>
<td>Tennis</td>
<td>10</td>
</tr>
<tr>
<td>Soccer</td>
<td>10</td>
</tr>
<tr>
<td>Basketball</td>
<td>8</td>
</tr>
<tr>
<td>Hockey</td>
<td>8</td>
</tr>
<tr>
<td>Default (all other)</td>
<td>8</td>
</tr>
</tbody></table>

<p>To fill orders on sx.bet via the API, make sure you first enable betting by following the steps <a href="#enabling-betting">here</a></p>

<aside class="notice">
Your assets must be on SX Network to place bets.
</aside>
<h3 id='http-request-7'>HTTP Request</h3>
<p><code>POST https://api.sx.bet/orders/fill</code></p>
<h3 id='request-payload-parameters-5'>Request payload parameters</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>action</td>
<td>true</td>
<td>string</td>
<td>User facing string for what action the user is taking. Can simply set to &quot;N/A&quot; when using the API</td>
</tr>
<tr>
<td>betting</td>
<td>true</td>
<td>string</td>
<td>User facing string for what bet the user is making. Can simply set to &quot;N/A&quot; when using the API.</td>
</tr>
<tr>
<td>fillSalt</td>
<td>true</td>
<td>string</td>
<td>Random 32 byte string to identify this fill. Must be the same <code>fillSalt</code> used when computing the EIP712 payload</td>
</tr>
<tr>
<td>market</td>
<td>true</td>
<td>string</td>
<td>User facing string for what market the user is betting on. Can simply set to &quot;N/A&quot; when using the API</td>
</tr>
<tr>
<td>odds</td>
<td>true</td>
<td>string</td>
<td>User facing string for the odds the user is receiving. Can simply set to &quot;N/A&quot; when using the API</td>
</tr>
<tr>
<td>orderHashes</td>
<td>true</td>
<td>string[]</td>
<td>Orders being filled. Must be the order hashes of the orders used in computing the EIP712 payload. Must be the same length as <code>takerAmounts</code></td>
</tr>
<tr>
<td>returning</td>
<td>true</td>
<td>string</td>
<td>User facing string for what the bet wil be returning. Can simply set to &quot;N/A&quot; when using the API.</td>
</tr>
<tr>
<td>taker</td>
<td>true</td>
<td>string</td>
<td>Address of the taker taking the bet</td>
</tr>
<tr>
<td>stake</td>
<td>true</td>
<td>string</td>
<td>User facing string for how much the user is risking. Can simly set to &quot;N/A&quot; when using the API.</td>
</tr>
<tr>
<td>takerAmounts</td>
<td>true</td>
<td>string[]</td>
<td>How much each order is being filled, ordered by index. Must be in the same order as <code>orderHashes</code>, and the same length as <code>orderHashes</code>. It also must be the same and in the same order as the <code>takerAmounts</code> array used when computing the EIP712 payload.</td>
</tr>
<tr>
<td>takerSig</td>
<td>true</td>
<td>string</td>
<td>The EIP712 signature of the <code>taker</code> on the payload. See the example of how to compute this.</td>
</tr>
<tr>
<td>message</td>
<td>true</td>
<td>string</td>
<td>A user-facing message for the eip712 signing. Can be anything.</td>
</tr>
<tr>
<td>approveProxyPayload</td>
<td>false</td>
<td><code>ApproveSpenderPayload</code></td>
<td>Extra object required if you wish to atomically <code>ERC20.approve()</code> prior to the bet. This can be useful from a UX point of view if you don&#39;t want the user to have to wait until the approval is mined before the bet can be submitted</td>
</tr>
<tr>
<td>affiliateAddress</td>
<td>false</td>
<td>string</td>
<td>Set the <code>taker</code> to a valid affiliate&#39;s address.</td>
</tr>
</tbody></table>

<p>where an <code>ApproveSpenderPayload</code> looks like</p>

<table><thead>
<tr>
<th>Name</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>owner</td>
<td>true</td>
<td>string</td>
<td>Address of the bettor/taker</td>
</tr>
<tr>
<td>spender</td>
<td>true</td>
<td>string</td>
<td>Address of the contract permitted to spend tokens on behalf of the bettor/taker to bet. See the <code>TokenTransferProxy</code> address in the available at <code>https://api.sx.bet/metadata</code> for this address</td>
</tr>
<tr>
<td>tokenAddress</td>
<td>true</td>
<td>string</td>
<td>Address of the token being used to bet. Must be the same as the token referenced in the orders being filled</td>
</tr>
<tr>
<td>amount</td>
<td>true</td>
<td>string</td>
<td>Amount of tokens to approve. Must be greater than or equal to the total tokens bet from the bettors&#39;s perspective, i.e., how many tokens are leaving the bettor&#39;s wallet</td>
</tr>
<tr>
<td>signature</td>
<td>true</td>
<td>string</td>
<td>The EIP712 signature of the this payload.</td>
</tr>
</tbody></table>
<h3 id='response-format-7'>Response format</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>string</td>
<td><code>success</code> or <code>failure</code> if the request succeeded or not</td>
</tr>
<tr>
<td>data</td>
<td>object</td>
<td>The response data</td>
</tr>
<tr>
<td>fillHash</td>
<td>string</td>
<td>A unique identifier for this fill.</td>
</tr>
</tbody></table>

<aside class="warning">
Note that <code>takerAmounts</code> are from *the perspective of the market maker*. <code>takerAmounts</code> can be thought of as how many tokens the maker(s) will be putting into the pot. Given an amount you as the taker want to bet, you can use the following formula to convert what value you have to use as <code>takerAmount</code> in this endpoint. <code>takerAmount = takerBetAmount * percentageOdds / (10^20 - percentageOdds)</code>
</aside>

<aside class="notice">
To convert a <code>fillAmount</code> (what the market maker pays) to what the taker will pay, you can use the formula <code>takerPayAmount = fillAmount * 10^20 / percentageOdds - fillAmount </code>. Intuitively, this is the pot size (<code>fillAmount * 10^20 / percentageOdds)</code> minus what the maker is putting in
</aside>
<h3 id='error-responses-6'>Error Responses</h3>
<table><thead>
<tr>
<th>Error Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>ORDERS_NOT_UNIQUE</td>
<td>Only unique <code>orderHashes</code> should be sent</td>
</tr>
<tr>
<td>INCORRECT_ARRAY_LENGTHS</td>
<td><code>orderHashes</code> and <code>takerAmounts</code> arrays are different lengths.</td>
</tr>
<tr>
<td>ORDERS_DONT_EXIST</td>
<td>One of the orders do not exist</td>
</tr>
<tr>
<td>AFTER_ORDER_EXPIRY</td>
<td>One of the orders have expired</td>
</tr>
<tr>
<td>BASE_TOKENS_NOT_SAME</td>
<td>All orders must be for the same <code>baseToken</code></td>
</tr>
<tr>
<td>MARKETS_NOT_SAME</td>
<td>All orders must be for the same market</td>
</tr>
<tr>
<td>DIRECTIONS_NOT_SAME</td>
<td>All orders must be betting on the same side <code>isMakerBettingOutcomeOne</code></td>
</tr>
<tr>
<td>INVALID_ORDERS</td>
<td>Order is now inactive</td>
</tr>
<tr>
<td>MATCH_STATE_INVALID</td>
<td>The fixture for the order is in an invalid state and is not bettable anymore</td>
</tr>
<tr>
<td>META_TX_RATE_LIMIT_REACHED</td>
<td>Cannot have more than 10 meta transactions at once</td>
</tr>
</tbody></table>
<h2 id='approve-order-fill'>Approve order fill</h2>
<aside class="notice">
Coming soon! This endpoint will be available for use soon, please follow our Discord #api-changes channel to stay up to date.
</aside>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--location</span> <span class="nt">--request</span> POST <span class="s1">'https://api.sx.bet/orders/approve'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
<span class="nt">--data-raw</span> <span class="s1">'{"owner":"0xa3bBFaB3645B2Dd4296cADc451d74574CD47Ba1a","spender":"0x38aef22152BC8965bf0af7Cf53586e4b0C4E9936","tokenAddress":"0x6629Ce1Cf35Cc1329ebB4F63202F3f197b3F050B","value":"100000000000","deadline":"1789692000","signature":"0x09d2603a8c8646221d6972b04a5cdd8b13d6326a267329825567a25a5e63606b07b97c84640bfb3ee4a5053083ce178d9e0c9cbdf1b1dfd519fda0594fae30dc1c"}'</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">signTypedData</span><span class="p">,</span> <span class="nx">SignTypedDataVersion</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">@metamask/eth-sig-util</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span>
  <span class="nx">BigNumber</span><span class="p">,</span>
  <span class="nx">constants</span><span class="p">,</span>
  <span class="nx">Contract</span><span class="p">,</span>
  <span class="nx">providers</span><span class="p">,</span>
  <span class="nx">utils</span><span class="p">,</span>
  <span class="nx">Wallet</span><span class="p">,</span>
<span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">ethers</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">randomBytes</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">ethers/lib/utils</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">dayjs</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">dayjs</span><span class="dl">"</span><span class="p">;</span>

<span class="k">async</span> <span class="kd">function</span> <span class="nx">approveOrderFill</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">privateKey</span> <span class="o">=</span> <span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">PRIVATE_KEY</span><span class="p">;</span>
  <span class="kd">const</span> <span class="nx">tokenAddress</span> <span class="o">=</span> <span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">TOKEN_ADDRESS</span><span class="p">;</span>

  <span class="c1">// get the following from https://api.sx.bet/metadata</span>
  <span class="kd">const</span> <span class="nx">tokenTransferProxyAddress</span> <span class="o">=</span> <span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">TOKEN_TRANSFER_PROXY_ADDRESS</span><span class="p">;</span>
  <span class="kd">const</span> <span class="nx">chainId</span> <span class="o">=</span> <span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">CHAIN_ID</span><span class="p">;</span> <span class="c1">// 4162 in production</span>
  <span class="kd">const</span> <span class="nx">domainVersion</span> <span class="o">=</span> <span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">DOMAIN_VERSION</span><span class="p">;</span>

  <span class="kd">const</span> <span class="nx">bufferPrivateKey</span> <span class="o">=</span> <span class="nx">Buffer</span><span class="p">.</span><span class="k">from</span><span class="p">(</span><span class="nx">privateKey</span><span class="o">!</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span> <span class="dl">"</span><span class="s2">hex</span><span class="dl">"</span><span class="p">);</span>
  <span class="kd">const</span> <span class="nx">wallet</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Wallet</span><span class="p">(</span><span class="nx">takerPrivateKey</span><span class="p">).</span><span class="nx">connect</span><span class="p">(</span>
    <span class="k">new</span> <span class="nx">providers</span><span class="p">.</span><span class="nx">JsonRpcProvider</span><span class="p">(</span><span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">RPC_URL</span><span class="p">)</span> <span class="c1">// find this under the 'references' section</span>
  <span class="p">);</span>
  <span class="kd">const</span> <span class="nx">approvalAmount</span> <span class="o">=</span> <span class="nx">constants</span><span class="p">.</span><span class="nx">MaxUint256</span><span class="p">;</span>
  <span class="kd">const</span> <span class="nx">tokenContract</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Contract</span><span class="p">(</span>
    <span class="nx">tokenAddress</span><span class="p">,</span>
    <span class="p">[</span>
      <span class="p">{</span>
        <span class="na">constant</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
        <span class="na">inputs</span><span class="p">:</span> <span class="p">[</span>
          <span class="p">{</span> <span class="na">internalType</span><span class="p">:</span> <span class="dl">"</span><span class="s2">address</span><span class="dl">"</span><span class="p">,</span> <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">usr</span><span class="dl">"</span><span class="p">,</span> <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">address</span><span class="dl">"</span> <span class="p">},</span>
          <span class="p">{</span> <span class="na">internalType</span><span class="p">:</span> <span class="dl">"</span><span class="s2">uint256</span><span class="dl">"</span><span class="p">,</span> <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">wad</span><span class="dl">"</span><span class="p">,</span> <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">uint256</span><span class="dl">"</span> <span class="p">},</span>
        <span class="p">],</span>
        <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">approve</span><span class="dl">"</span><span class="p">,</span>
        <span class="na">outputs</span><span class="p">:</span> <span class="p">[{</span> <span class="na">internalType</span><span class="p">:</span> <span class="dl">"</span><span class="s2">bool</span><span class="dl">"</span><span class="p">,</span> <span class="na">name</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span> <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">bool</span><span class="dl">"</span> <span class="p">}],</span>
        <span class="na">payable</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
        <span class="na">stateMutability</span><span class="p">:</span> <span class="dl">"</span><span class="s2">nonpayable</span><span class="dl">"</span><span class="p">,</span>
        <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">function</span><span class="dl">"</span><span class="p">,</span>
      <span class="p">},</span>
      <span class="p">{</span>
        <span class="na">inputs</span><span class="p">:</span> <span class="p">[</span>
          <span class="p">{</span>
            <span class="na">internalType</span><span class="p">:</span> <span class="dl">"</span><span class="s2">address</span><span class="dl">"</span><span class="p">,</span>
            <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">owner</span><span class="dl">"</span><span class="p">,</span>
            <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">address</span><span class="dl">"</span><span class="p">,</span>
          <span class="p">},</span>
        <span class="p">],</span>
        <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">nonces</span><span class="dl">"</span><span class="p">,</span>
        <span class="na">outputs</span><span class="p">:</span> <span class="p">[</span>
          <span class="p">{</span>
            <span class="na">internalType</span><span class="p">:</span> <span class="dl">"</span><span class="s2">uint256</span><span class="dl">"</span><span class="p">,</span>
            <span class="na">name</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
            <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">uint256</span><span class="dl">"</span><span class="p">,</span>
          <span class="p">},</span>
        <span class="p">],</span>
        <span class="na">stateMutability</span><span class="p">:</span> <span class="dl">"</span><span class="s2">view</span><span class="dl">"</span><span class="p">,</span>
        <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">function</span><span class="dl">"</span><span class="p">,</span>
        <span class="na">constant</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
      <span class="p">},</span>
      <span class="p">{</span>
        <span class="na">inputs</span><span class="p">:</span> <span class="p">[],</span>
        <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">name</span><span class="dl">"</span><span class="p">,</span>
        <span class="na">outputs</span><span class="p">:</span> <span class="p">[</span>
          <span class="p">{</span>
            <span class="na">internalType</span><span class="p">:</span> <span class="dl">"</span><span class="s2">string</span><span class="dl">"</span><span class="p">,</span>
            <span class="na">name</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
            <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">string</span><span class="dl">"</span>
          <span class="p">}</span>
        <span class="p">],</span>
        <span class="na">stateMutability</span><span class="p">:</span> <span class="dl">"</span><span class="s2">view</span><span class="dl">"</span><span class="p">,</span>
        <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">function</span><span class="dl">"</span><span class="p">,</span>
        <span class="na">constant</span><span class="p">:</span> <span class="kc">true</span>
      <span class="p">}</span>
    <span class="p">],</span>
    <span class="nx">wallet</span>
  <span class="p">);</span>

  <span class="kd">const</span> <span class="nx">nonce</span><span class="p">:</span> <span class="nx">BigNumber</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">tokenContract</span><span class="p">.</span><span class="nx">nonces</span><span class="p">(</span><span class="nx">wallet</span><span class="p">.</span><span class="nx">address</span><span class="p">);</span>
  <span class="kd">const</span> <span class="nx">tokenName</span><span class="p">:</span> <span class="nx">string</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">tokenContract</span><span class="p">.</span><span class="nx">name</span><span class="p">();</span>

  <span class="kd">const</span> <span class="nx">eRC20PermitEip712SignaturePayload</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">types</span><span class="p">:</span> <span class="p">{</span>
      <span class="na">EIP712Domain</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span> <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">name</span><span class="dl">"</span><span class="p">,</span> <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">string</span><span class="dl">"</span> <span class="p">},</span>
        <span class="p">{</span> <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">version</span><span class="dl">"</span><span class="p">,</span> <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">string</span><span class="dl">"</span> <span class="p">},</span>
        <span class="p">{</span> <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">chainId</span><span class="dl">"</span><span class="p">,</span> <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">uint256</span><span class="dl">"</span> <span class="p">},</span>
        <span class="p">{</span> <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">verifyingContract</span><span class="dl">"</span><span class="p">,</span> <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">address</span><span class="dl">"</span> <span class="p">},</span>
      <span class="p">],</span>
      <span class="na">Permit</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span> <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">owner</span><span class="dl">"</span><span class="p">,</span> <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">address</span><span class="dl">"</span> <span class="p">},</span>
        <span class="p">{</span> <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">spender</span><span class="dl">"</span><span class="p">,</span> <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">address</span><span class="dl">"</span> <span class="p">},</span>
        <span class="p">{</span> <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">value</span><span class="dl">"</span><span class="p">,</span> <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">uint256</span><span class="dl">"</span> <span class="p">},</span>
        <span class="p">{</span> <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">nonce</span><span class="dl">"</span><span class="p">,</span> <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">uint256</span><span class="dl">"</span> <span class="p">},</span>
        <span class="p">{</span> <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">deadline</span><span class="dl">"</span><span class="p">,</span> <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">uint256</span><span class="dl">"</span> <span class="p">},</span>
      <span class="p">],</span>
    <span class="p">},</span>
    <span class="na">domain</span><span class="p">:</span> <span class="p">{</span>
      <span class="na">name</span><span class="p">:</span> <span class="nx">tokenName</span><span class="p">,</span>
      <span class="na">version</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1</span><span class="dl">"</span><span class="p">,</span>
      <span class="na">chainId</span><span class="p">:</span> <span class="nx">chainId</span><span class="p">,</span>
      <span class="na">verifyingContract</span><span class="p">:</span> <span class="nx">tokenAddress</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="na">message</span><span class="p">:</span> <span class="p">{</span>
      <span class="na">owner</span><span class="p">:</span> <span class="nx">wallet</span><span class="p">.</span><span class="nx">address</span><span class="p">,</span>
      <span class="na">spender</span><span class="p">:</span> <span class="nx">tokenTransferProxyAddress</span><span class="p">,</span>
      <span class="na">value</span><span class="p">:</span> <span class="nx">approvalAmount</span><span class="p">.</span><span class="nx">toString</span><span class="p">(),</span>
      <span class="na">nonce</span><span class="p">:</span> <span class="nx">nonce</span><span class="p">.</span><span class="nx">toNumber</span><span class="p">(),</span>
      <span class="na">deadline</span><span class="p">:</span> <span class="nx">dayjs</span><span class="p">().</span><span class="nx">add</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="dl">"</span><span class="s2">hour</span><span class="dl">"</span><span class="p">).</span><span class="nx">unix</span><span class="p">(),</span>
    <span class="p">},</span>
    <span class="na">primaryType</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Permit</span><span class="dl">"</span><span class="p">,</span>
  <span class="p">};</span>


  <span class="kd">const</span> <span class="nx">approveProxySignature</span> <span class="o">=</span> <span class="nx">signTypedData</span><span class="p">({</span>
    <span class="na">privateKey</span><span class="p">:</span> <span class="nx">bufferPrivateKey</span><span class="p">,</span>
    <span class="na">data</span><span class="p">:</span> <span class="nx">eRC20PermitEip712SignaturePayload</span><span class="p">,</span>
    <span class="na">version</span><span class="p">:</span> <span class="nx">SignTypedDataVersion</span><span class="p">.</span><span class="nx">V4</span><span class="p">,</span>
  <span class="p">});</span>

  <span class="kd">const</span> <span class="nx">apiPayload</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">owner</span><span class="p">:</span> <span class="nx">wallet</span><span class="p">.</span><span class="nx">address</span><span class="p">,</span>
    <span class="na">spender</span><span class="p">:</span> <span class="nx">tokenTransferProxyAddress</span><span class="p">,</span>
    <span class="nx">tokenAddress</span><span class="p">,</span>
    <span class="na">value</span><span class="p">:</span> <span class="nx">approvalAmount</span><span class="p">.</span><span class="nx">toString</span><span class="p">(),</span>
    <span class="na">signature</span><span class="p">:</span> <span class="nx">approveProxySignature</span><span class="p">,</span>
  <span class="p">};</span>

  <span class="kd">const</span> <span class="nx">response</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">fetch</span><span class="p">(</span><span class="s2">`https://api.sx.bet/orders/approve`</span><span class="p">,</span> <span class="p">{</span>
    <span class="na">method</span><span class="p">:</span> <span class="dl">"</span><span class="s2">POST</span><span class="dl">"</span><span class="p">,</span>
    <span class="na">body</span><span class="p">:</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">apiPayload</span><span class="p">),</span>
    <span class="na">headers</span><span class="p">:</span> <span class="p">{</span> <span class="dl">"</span><span class="s2">Content-Type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">application/json</span><span class="dl">"</span> <span class="p">},</span>
  <span class="p">});</span>
<span class="p">}</span>
</code></pre></div>
<blockquote>
<p>The above command returns json structured like this where <code>hash</code> is the transaction hash of the approve transaction. A null value of <code>hash</code> means the taker address already has an allowance set for the token of the amount specified in <code>value</code>.</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"hash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x840763ae29b7a6adfa0e315afa47be30cdebd5b793d179dc07dc8fc4f0034965"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>This endpoint approves the specified <code>value</code> to be spent by <code>spender</code> on behalf of <code>owner</code> for token transfers that occur as part of the <a href="#filling-orders-v2">Filling orders v2</a> flow according to Ethereum&#39;s <a href="https://eips.ethereum.org/EIPS/eip-2612">EIP-2612</a> Permit Extension.  Note that <code>deadline</code> field here is only used during signature verification and that the <code>value</code> set will be the spender&#39;s allowance until changed or revoked. </p>
<h3 id='http-request-8'>HTTP Request</h3>
<p><code>POST https://api.sx.bet/orders/approve</code></p>
<h3 id='request-payload-parameters-6'>Request payload parameters</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>owner</td>
<td>true</td>
<td>string</td>
<td>Address of the taker granting approval to TokenTransferProxy for filling orders on their behalf</td>
</tr>
<tr>
<td>spender</td>
<td>true</td>
<td>string</td>
<td>The address of the account which will be able to spend token amounts on behalf of the owner. In this case, the spender should be TokenTransferProxy address</td>
</tr>
<tr>
<td>tokenAddress</td>
<td>true</td>
<td>string</td>
<td>The token address to grant approval for</td>
</tr>
<tr>
<td>value</td>
<td>true</td>
<td>string</td>
<td>The token amount to grant approval for, in Ethereum units</td>
</tr>
<tr>
<td>dealdine</td>
<td>true</td>
<td>string</td>
<td>The deadline as a UNIX timestamp format used in signature verification</td>
</tr>
<tr>
<td>signature</td>
<td>true</td>
<td>string</td>
<td>The generated EIP712 signature on the payload. See the example of how to compute this.</td>
</tr>
</tbody></table>
<h2 id='filling-orders-v2'>Filling orders v2</h2>
<aside class="notice">
Coming soon! This endpoint will be available for use soon, please follow our Discord #api-changes channel to stay up to date.
</aside>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--location</span> <span class="nt">--request</span> POST <span class="s1">'https://api.sx.bet/orders/fill/v2'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
<span class="nt">--data-raw</span> <span class="s1">'{"taker":"0xa3bBFaB3645B2Dd4296cADc451d74574CD47Ba1a","baseToken":"0x6629Ce1Cf35Cc1329ebB4F63202F3f197b3F050B","isTakerBettingOutcomeOne":true,"stakeWei":"50000000","desiredOdds":"83000000000000000000","oddsSlippage":5,"takerSig":"0x09d2603a8c8646221d6972b04a5cdd8b13d6326a267329825567a25a5e63606b07b97c84640bfb3ee4a5053083ce178d9e0c9cbdf1b1dfd519fda0594fae30dc1c","fillSalt":"69231297238279245345865414293427982207908612843136003245427437324972455931243"}'</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">signTypedData</span><span class="p">,</span> <span class="nx">SignTypedDataVersion</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">@metamask/eth-sig-util</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span>
  <span class="nx">BigNumber</span><span class="p">,</span>
  <span class="nx">constants</span><span class="p">,</span>
  <span class="nx">Contract</span><span class="p">,</span>
  <span class="nx">providers</span><span class="p">,</span>
  <span class="nx">utils</span><span class="p">,</span>
  <span class="nx">Wallet</span><span class="p">,</span>
<span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">ethers</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">randomBytes</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">ethers/lib/utils</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">dayjs</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">dayjs</span><span class="dl">"</span><span class="p">;</span>

<span class="k">async</span> <span class="kd">function</span> <span class="nx">fillOrder</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">privateKey</span> <span class="o">=</span> <span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">PRIVATE_KEY</span><span class="p">;</span>
  <span class="kd">const</span> <span class="nx">takerAddress</span> <span class="o">=</span> <span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">TAKER_ADDRESS</span><span class="p">;</span>

  <span class="c1">// get the following from https://api.sx.bet/metadata</span>
  <span class="kd">const</span> <span class="nx">tokenTransferProxyAddress</span> <span class="o">=</span> <span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">TOKEN_TRANSFER_PROXY_ADDRESS</span><span class="p">;</span>
  <span class="kd">const</span> <span class="nx">EIP712FillHasherAddress</span> <span class="o">=</span> <span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">EIP712_FILL_HASHER_ADDRESS</span><span class="p">;</span>
  <span class="kd">const</span> <span class="nx">chainId</span> <span class="o">=</span> <span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">CHAIN_ID</span><span class="p">;</span> <span class="c1">// 4162 in production</span>
  <span class="kd">const</span> <span class="nx">domainVersion</span> <span class="o">=</span> <span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">DOMAIN_VERSION</span><span class="p">;</span>

  <span class="kd">const</span> <span class="nx">bufferPrivateKey</span> <span class="o">=</span> <span class="nx">Buffer</span><span class="p">.</span><span class="k">from</span><span class="p">(</span><span class="nx">privateKey</span><span class="o">!</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span> <span class="dl">"</span><span class="s2">hex</span><span class="dl">"</span><span class="p">);</span>
  <span class="kd">const</span> <span class="nx">wallet</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Wallet</span><span class="p">(</span><span class="nx">privateKey</span><span class="p">).</span><span class="nx">connect</span><span class="p">(</span>
    <span class="k">new</span> <span class="nx">providers</span><span class="p">.</span><span class="nx">JsonRpcProvider</span><span class="p">(</span><span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">RPC_URL</span><span class="p">)</span> <span class="c1">// find this under the 'references' section</span>
  <span class="p">);</span>
  <span class="kd">const</span> <span class="nx">stakeWei</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">50000000</span><span class="dl">"</span><span class="p">;</span> <span class="c1">// 50 USDC</span>
  <span class="kd">const</span> <span class="nx">marketHash</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">0x0246b760b06009ece42d08e706563de1967e7f1b4799d0f559244e3f80bbc496</span><span class="dl">"</span><span class="p">;</span> <span class="c1">// Liverpool vs Arsenal</span>
  <span class="kd">const</span> <span class="nx">baseToken</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">0x6629Ce1Cf35Cc1329ebB4F63202F3f197b3F050B</span><span class="dl">"</span><span class="p">;</span> <span class="c1">// USDC</span>
  <span class="kd">const</span> <span class="nx">desiredOdds</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">83000000000000000000</span><span class="dl">"</span><span class="p">;</span> <span class="c1">// ~1.20 decimal odds</span>
  <span class="kd">const</span> <span class="nx">oddsSlippage</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span> <span class="c1">// 5% slippage, so worst decimal odds ~1.14</span>
  <span class="kd">const</span> <span class="nx">isTakerBettingOutcomeOne</span> <span class="o">=</span> <span class="kc">true</span> <span class="c1">// taker is betting that team 1 wins</span>
  <span class="kd">const</span> <span class="nx">fillSalt</span> <span class="o">=</span> <span class="nx">BigNumber</span><span class="p">.</span><span class="k">from</span><span class="p">(</span><span class="nx">randomBytes</span><span class="p">(</span><span class="mi">32</span><span class="p">)).</span><span class="nx">toString</span><span class="p">();</span>

  <span class="kd">const</span> <span class="nx">signingPayload</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">types</span><span class="p">:</span> <span class="p">{</span>
      <span class="na">EIP712Domain</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span> <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">name</span><span class="dl">"</span><span class="p">,</span> <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">string</span><span class="dl">"</span> <span class="p">},</span>
        <span class="p">{</span> <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">version</span><span class="dl">"</span><span class="p">,</span> <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">string</span><span class="dl">"</span> <span class="p">},</span>
        <span class="p">{</span> <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">chainId</span><span class="dl">"</span><span class="p">,</span> <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">uint256</span><span class="dl">"</span> <span class="p">},</span>
        <span class="p">{</span> <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">verifyingContract</span><span class="dl">"</span><span class="p">,</span> <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">address</span><span class="dl">"</span> <span class="p">},</span>
      <span class="p">],</span>
      <span class="na">Details</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span> <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">action</span><span class="dl">"</span><span class="p">,</span> <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">string</span><span class="dl">"</span> <span class="p">},</span>
        <span class="p">{</span> <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">market</span><span class="dl">"</span><span class="p">,</span> <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">string</span><span class="dl">"</span> <span class="p">},</span>
        <span class="p">{</span> <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">betting</span><span class="dl">"</span><span class="p">,</span> <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">string</span><span class="dl">"</span> <span class="p">},</span>
        <span class="p">{</span> <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">stake</span><span class="dl">"</span><span class="p">,</span> <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">string</span><span class="dl">"</span> <span class="p">},</span>
        <span class="p">{</span> <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">worstOdds</span><span class="dl">"</span><span class="p">,</span> <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">string</span><span class="dl">"</span> <span class="p">},</span>
        <span class="p">{</span> <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">worstReturning</span><span class="dl">"</span><span class="p">,</span> <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">string</span><span class="dl">"</span> <span class="p">},</span>
        <span class="p">{</span> <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">fills</span><span class="dl">"</span><span class="p">,</span> <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">FillObject</span><span class="dl">"</span> <span class="p">},</span>
      <span class="p">],</span>
      <span class="na">FillObject</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span> <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">stakeWei</span><span class="dl">"</span><span class="p">,</span> <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">string</span><span class="dl">"</span> <span class="p">},</span>
        <span class="p">{</span> <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">marketHash</span><span class="dl">"</span><span class="p">,</span> <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">string</span><span class="dl">"</span> <span class="p">},</span>
        <span class="p">{</span> <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">baseToken</span><span class="dl">"</span><span class="p">,</span> <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">string</span><span class="dl">"</span> <span class="p">},</span>
        <span class="p">{</span> <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">desiredOdds</span><span class="dl">"</span><span class="p">,</span> <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">string</span><span class="dl">"</span> <span class="p">},</span>
        <span class="p">{</span> <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">oddsSlippage</span><span class="dl">"</span><span class="p">,</span> <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">uint256</span><span class="dl">"</span> <span class="p">},</span>
        <span class="p">{</span> <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">isTakerBettingOutcomeOne</span><span class="dl">"</span><span class="p">,</span> <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">bool</span><span class="dl">"</span> <span class="p">},</span>
        <span class="p">{</span> <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">fillSalt</span><span class="dl">"</span><span class="p">,</span> <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">uint256</span><span class="dl">"</span> <span class="p">},</span>
        <span class="p">{</span> <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">beneficiary</span><span class="dl">"</span><span class="p">,</span> <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">address</span><span class="dl">"</span> <span class="p">},</span>
        <span class="p">{</span> <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">beneficiaryType</span><span class="dl">"</span><span class="p">,</span> <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">uint8</span><span class="dl">"</span> <span class="p">},</span>
        <span class="p">{</span> <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">cashOutTarget</span><span class="dl">"</span><span class="p">,</span> <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">bytes32</span><span class="dl">"</span> <span class="p">},</span>
      <span class="p">],</span>
    <span class="p">},</span>
    <span class="na">primaryType</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Details</span><span class="dl">"</span><span class="p">,</span>
    <span class="na">domain</span><span class="p">:</span> <span class="p">{</span>
      <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">SX Bet</span><span class="dl">"</span><span class="p">,</span>
      <span class="dl">"</span><span class="s2">6.0</span><span class="dl">"</span><span class="p">,</span>
      <span class="nx">chainId</span><span class="p">,</span>
      <span class="nx">EIP712FillHasherAddress</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="na">message</span><span class="p">:</span> <span class="p">{</span>
      <span class="na">action</span><span class="p">:</span> <span class="dl">"</span><span class="s2">N/A</span><span class="dl">"</span><span class="p">,</span>
      <span class="na">betting</span><span class="p">:</span> <span class="dl">"</span><span class="s2">N/A</span><span class="dl">"</span><span class="p">,</span>
      <span class="na">stake</span><span class="p">:</span> <span class="dl">"</span><span class="s2">N/A</span><span class="dl">"</span><span class="p">,</span>
      <span class="na">worstOdds</span><span class="p">:</span> <span class="dl">"</span><span class="s2">N/A</span><span class="dl">"</span><span class="p">,</span>
      <span class="na">worstReturning</span><span class="p">:</span> <span class="dl">"</span><span class="s2">N/A</span><span class="dl">"</span><span class="p">,</span>
      <span class="na">market</span><span class="p">:</span> <span class="nx">marketHash</span>
      <span class="na">fills</span><span class="p">:</span> <span class="p">{</span>
        <span class="nx">stakeWei</span><span class="p">,</span>
        <span class="nx">marketHash</span><span class="p">,</span>
        <span class="nx">baseToken</span><span class="p">,</span>
        <span class="nx">desiredOdds</span><span class="p">,</span>
        <span class="nx">oddsSlippage</span><span class="p">,</span>
        <span class="nx">isTakerBettingOutcomeOne</span><span class="p">,</span>
        <span class="nx">fillSalt</span><span class="p">,</span>
        <span class="na">beneficiary</span><span class="p">:</span> <span class="nx">constants</span><span class="p">.</span><span class="nx">AddressZero</span><span class="p">,</span>
        <span class="na">beneficiaryType</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="na">cashOutTarget</span><span class="p">:</span> <span class="nx">constants</span><span class="p">.</span><span class="nx">HashZero</span><span class="p">,</span>
      <span class="p">},</span>
    <span class="p">},</span>
  <span class="p">};</span>

  <span class="kd">const</span> <span class="nx">signature</span> <span class="o">=</span> <span class="nx">signTypedData</span><span class="p">({</span>
    <span class="na">privateKey</span><span class="p">:</span> <span class="nx">bufferPrivateKey</span><span class="p">,</span>
    <span class="na">data</span><span class="p">:</span> <span class="nx">signingPayload</span><span class="p">,</span>
    <span class="na">version</span><span class="p">:</span> <span class="nx">SignTypedDataVersion</span><span class="p">.</span><span class="nx">V4</span><span class="p">,</span>
  <span class="p">});</span>

  <span class="kd">const</span> <span class="nx">apiPayload</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">market</span><span class="p">:</span> <span class="nx">marketHash</span><span class="p">,</span>
    <span class="nx">baseToken</span><span class="p">,</span>
    <span class="nx">isTakerBettingOutcomeOne</span><span class="p">,</span>
    <span class="nx">stakeWei</span><span class="p">,</span>
    <span class="nx">desiredOdds</span><span class="p">,</span>
    <span class="nx">oddsSlippage</span><span class="p">,</span>
    <span class="na">taker</span><span class="p">:</span> <span class="nx">takerAddress</span><span class="p">,</span>
    <span class="na">takerSig</span><span class="p">:</span> <span class="nx">signature</span><span class="p">,</span>
    <span class="nx">fillSalt</span><span class="p">,</span>
  <span class="p">};</span>

  <span class="kd">const</span> <span class="nx">response</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">fetch</span><span class="p">(</span><span class="s2">`https://api.sx.bet/orders/fill/v2`</span><span class="p">,</span> <span class="p">{</span>
    <span class="na">method</span><span class="p">:</span> <span class="dl">"</span><span class="s2">POST</span><span class="dl">"</span><span class="p">,</span>
    <span class="na">body</span><span class="p">:</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">apiPayload</span><span class="p">),</span>
    <span class="na">headers</span><span class="p">:</span> <span class="p">{</span> <span class="dl">"</span><span class="s2">Content-Type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">application/json</span><span class="dl">"</span> <span class="p">},</span>
  <span class="p">});</span>
<span class="p">}</span>
</code></pre></div>
<blockquote>
<p>The above command returns json structured like this</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"fillHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x840763ae29b7a6adfa0e315afa47be30cdebd5b793d179dc07dc8fc4f0034965"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"isPartialFill"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"totalFilled"</span><span class="p">:</span><span class="w"> </span><span class="s2">"50000000"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"averageOdds"</span><span class="p">:</span><span class="w"> </span><span class="s2">"73000000000000000000"</span><span class="w"> 
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>This endpoint fills orders on the exchange based on the specified desiredOdds and oddsSlippage. Unlike the legacy <a href="#filling-orders-v1">Filling orders v1</a> which considers orderHashes and takerAmounts based on an initial call to fetch orders, order matching is done internally <i>after</i> the built-in betting delay, optimizing the taker experience particularly during in-play betting. Furthermore, if any new orders with better odds are added during the betting delay window, those orders will be filled. Lastly, if there isn&#39;t sufficient size to support the full stake amount, taker fills will be partially filled so they can carry out a subsequent fill.</p>

<p>See below for the betting delays by sport which are added to guard against toxic flow and high spikes in latency from the bookmaker&#39;s side. It is effectively protection for the bookmaker. As order matching is done after the betting delay, errors observed in the past due to order cancellations within the betting delay will now be avoided.</p>

<p><strong>PREGAME</strong></p>

<table><thead>
<tr>
<th>Sport</th>
<th>Delay ( in seconds )</th>
</tr>
</thead><tbody>
<tr>
<td>Default (all sports)</td>
<td>0.5</td>
</tr>
</tbody></table>

<p><strong>LIVE</strong></p>

<table><thead>
<tr>
<th>Sport</th>
<th>Delay ( in seconds )</th>
</tr>
</thead><tbody>
<tr>
<td>Baseball</td>
<td>12</td>
</tr>
<tr>
<td>Football</td>
<td>10</td>
</tr>
<tr>
<td>Tennis</td>
<td>10</td>
</tr>
<tr>
<td>Soccer</td>
<td>10</td>
</tr>
<tr>
<td>Basketball</td>
<td>8</td>
</tr>
<tr>
<td>Hockey</td>
<td>8</td>
</tr>
<tr>
<td>Default (all other)</td>
<td>8</td>
</tr>
</tbody></table>

<p>To fill orders on sx.bet via the API, make sure you first enable betting by following the steps <a href="#enabling-betting">here</a></p>

<aside class="notice">
Your assets must be on SX Network to place bets.
</aside>
<h3 id='http-request-9'>HTTP Request</h3>
<p><code>POST https://api.sx.bet/orders/fill/v2</code></p>
<h3 id='request-payload-parameters-7'>Request payload parameters</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>market</td>
<td>true</td>
<td>string</td>
<td>User facing string for what market the user is betting on. Can simply set to &quot;N/A&quot; when using the API</td>
</tr>
<tr>
<td>baseToken</td>
<td>true</td>
<td>string</td>
<td>The address of the ERC-20 token representing the currency of the fill</td>
</tr>
<tr>
<td>isTakerBettingOutcomeOne</td>
<td>true</td>
<td>boolean</td>
<td>Whether or not taker is betting outcome 1 (team 1 wins), if false then taker is betting outcome 2 (team 2 wins)</td>
</tr>
<tr>
<td>stakeWei</td>
<td>true</td>
<td>string</td>
<td>The stake amount for this bet in wei units - see <a href="#unit-conversion">Unit Conversion</a></td>
</tr>
<tr>
<td>desiredOdds</td>
<td>true</td>
<td>string</td>
<td>The best odds for filling, used as an anchor when applying oddsSlippage - note that any odds better than the desiredOdds can still fill if found at the time of order matching</td>
</tr>
<tr>
<td>oddsSlippage</td>
<td>true</td>
<td>integer</td>
<td>An integer between 0-100 representing the percentage of tolerance that is acceptable based on desiredOdds</td>
</tr>
<tr>
<td>fillSalt</td>
<td>true</td>
<td>string</td>
<td>Random 32 byte string to identify this fill. Must be the same <code>fillSalt</code> used when computing the EIP712 payload</td>
</tr>
<tr>
<td>taker</td>
<td>true</td>
<td>string</td>
<td>Address of the taker taking the bet</td>
</tr>
<tr>
<td>takerSig</td>
<td>true</td>
<td>string</td>
<td>The EIP712 signature of the <code>taker</code> on the payload. See the example of how to compute this.</td>
</tr>
<tr>
<td>message</td>
<td>true</td>
<td>string</td>
<td>A user-facing message for the eip712 signing. Can be anything.</td>
</tr>
</tbody></table>
<h3 id='response-format-8'>Response format</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>string</td>
<td><code>success</code> or <code>failure</code> if the request succeeded or not</td>
</tr>
<tr>
<td>data</td>
<td>object</td>
<td>The response data</td>
</tr>
<tr>
<td>fillHash</td>
<td>string</td>
<td>A unique identifier for this fill.</td>
</tr>
<tr>
<td>isPartialFill</td>
<td>boolean</td>
<td>Whether or not the entire stake was satisfied by this fill</td>
</tr>
<tr>
<td>totalFilled</td>
<td>string</td>
<td>The total amount filled (in wei), useful for determining how much to fill for subsequent bet</td>
</tr>
<tr>
<td>averageOdds</td>
<td>string</td>
<td>The average odds of the total amount filled</td>
</tr>
</tbody></table>
<h3 id='error-responses-7'>Error Responses</h3>
<table><thead>
<tr>
<th>Error Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>INSUFFICIENT_KYC</td>
<td>The taker has not met the minimum kyc level to fill</td>
</tr>
<tr>
<td>AFTER_ORDER_EXPIRY</td>
<td>One of the orders have expired</td>
</tr>
<tr>
<td>BASE_TOKENS_NOT_SAME</td>
<td>All orders must be for the same <code>baseToken</code></td>
</tr>
<tr>
<td>MARKETS_NOT_SAME</td>
<td>All orders must be for the same market</td>
</tr>
<tr>
<td>DIRECTIONS_NOT_SAME</td>
<td>All orders must be betting on the same side <code>isMakerBettingOutcomeOne</code></td>
</tr>
<tr>
<td>INVALID_ORDERS</td>
<td>Order is now inactive</td>
</tr>
<tr>
<td>INVALID_ODDS</td>
<td>Invalid desiredOdds, must be less than 10^20</td>
</tr>
<tr>
<td>INVALID_ODDS_SLIPPAGE</td>
<td>Invalid oddsSlippage, must be an integer between 0-100</td>
</tr>
<tr>
<td>MATCH_STATE_INVALID</td>
<td>The fixture for the order is in an invalid state and is not bettable anymore</td>
</tr>
<tr>
<td>TAKER_SIGNATURE_MISMATCH</td>
<td>The taker signature generated for the request is invalid</td>
</tr>
<tr>
<td>PROXY_ACCOUNT_INVALID</td>
<td>The proxy account is invalid (only applicable if proxyTaker was specified in request)</td>
</tr>
<tr>
<td>TAKER_AMOUNT_TOO_LOW</td>
<td>The stakeWei specified is too low for the current token</td>
</tr>
<tr>
<td>META_TX_RATE_LIMIT_REACHED</td>
<td>Cannot have more than 10 meta transactions at once</td>
</tr>
<tr>
<td>INSUFFICIENT_SPACE</td>
<td>There is not enough space to fill the matched orders due to other pending fills</td>
</tr>
<tr>
<td>FILL_ALREADY_SUBMITTED</td>
<td>The fill has already been submitted</td>
</tr>
<tr>
<td>ODDS_STALE</td>
<td>No orders could not be found for the desiredOdds and oddsSlippage, try again with greater oddsSlippage</td>
</tr>
</tbody></table>
<h1 id='unit-conversion'>Unit Conversion</h1><h2 id='tokens'>Tokens</h2>
<p>Every token in Ethereum has an associated &quot;decimals&quot; value. This effectively specifies how divisible the token is. For example, 100 USDC is actually stored as 100 * 10^18 USDC on Ethereum itself. Here is a table for the tokens supported by SX.bet and their associated decimals value</p>

<table><thead>
<tr>
<th>Token</th>
<th>SX Network Address</th>
<th>Decimals</th>
</tr>
</thead><tbody>
<tr>
<td>USDC</td>
<td>See <code>https://api.sx.bet/metadata</code> for address</td>
<td>6</td>
</tr>
<tr>
<td>WSX</td>
<td>See <code>https://api.sx.bet/metadata</code> for address</td>
<td>18</td>
</tr>
</tbody></table>

<p>To convert from nominal units (such as 100 USDC) to Ethereum units which are used in the API, you can do the following.</p>

<p><code>ethereumAmount = nominalAmount * 10^decimals</code></p>

<p>Similarly, to convert from Ethereum units to nominal units, you can do the following</p>

<p><code>nominalAmount = ethereumAmount / 10^decimals</code></p>

<p>where <code>decimals</code> is specified in the above table.</p>
<h2 id='odds'>Odds</h2>
<p>Odds are specified in an implied odds format like <code>8391352143642350000</code>. To convert to a readable implied odds, divide by <code>10^20</code>. <code>8391352143642350000</code> for example is 0.0839 or 8.39%</p>

<p>To convert from implied odds to decimal odds, inverse the number. For example, 0.0839 in decimal format is <code>1/0.0839 = 11.917</code>.</p>
<h2 id='bookmaker-odds'>Bookmaker odds</h2><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"fillAmount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"orderHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0xb46e5fff6498f061e93c4f5ed501ee72d924180d6aa78cdfd4d188d3383c91d4"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"marketHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x0eeace4a9bbf6235bc59695258a419ed3a05a2c8e3b6a58fb71a0d9e6b031c2b"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"maker"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x63a4491dC73245E181c47BAe0ae9d6627E56dE55"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"totalBetSize"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10000000000000000000"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"percentageOdds"</span><span class="p">:</span><span class="w"> </span><span class="s2">"70455284072443640000"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"expiry"</span><span class="p">:</span><span class="w"> </span><span class="mi">2209006800</span><span class="p">,</span><span class="w">
  </span><span class="nl">"apiExpiry"</span><span class="p">:</span><span class="w"> </span><span class="mi">1631233201</span><span class="w">
  </span><span class="nl">"baseToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x8f3Cf7ad23Cd3CaDbD9735AFf958023239c6A063"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"executor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x3E91041b9e60C7275f8296b8B0a97141e6442d49"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"salt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"69415402816762328320330277846098411244657139277332120954321492419616371539163"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"isMakerBettingOutcomeOne"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"signature"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x2aaea5b7c86166c0fbf2745c66aff794a23d21ac71ee143d08706700adbb59aa4c9b862286cf736acae5a74b10847ced73b628f4396eaab0af13b0c637fe4d021b"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-06-04T17:42:07.257Z"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>It&#39;s important to note how odds are displayed on sx.bet. Recall from <a href="#get-active-orders">the order section</a> that <code>percentageOdds</code> is from the perspective of the market maker. The odds that are displayed on sx.bet in the order books are what the taker will be receiving. Let&#39;s run through an example.</p>

<p>Suppose an order looks like the one on the right.</p>

<p>Here the maker is betting outcome one (<code>isMakerBettingOutcomeOne = true</code>) and receiving implied odds of <code>70455284072443640000 / 10^20 = 0.704552841</code>. Therefore the taker is betting <em>outcome two</em> and receiving implied odds of <code>1 - 0.704552841 = 0.295447159</code>. This would be displayed on sx.bet (what the user sees) under the second order book with odds of 29.5% in implied format, or <code>1 / 0.295447159 = 3.3847</code> in decimal format.</p>

<p><img src="images/bookmaker_odds_example-b23a0dc7.png" alt="bookmaker_odds_example" /></p>
<h1 id='eip712-signing'>EIP712 Signing</h1>
<p>For certain operations with the API, we require you to sign data using the <a href="https://eips.ethereum.org/EIPS/eip-712">EIP712 specification</a>. We provide two examples to sign data in the EIP712 fashion in JavaScript if you&#39;re using an injected provider (such as MetaMask or another wallet) or a private key.</p>

<p>As of now we have not tested other libraries in other languages that support EIP712.</p>
<h2 id='private-key-signing-example'>Private key signing example</h2><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">signTypedData</span><span class="p">,</span> <span class="nx">SignTypedDataVersion</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">@metamask/eth-sig-util</span><span class="dl">"</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">privateKey</span> <span class="o">=</span> <span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">PRIVATE_KEY</span>
<span class="c1">// Assuming process.env.PRIVATE_KEY is "0x"-prefixed</span>
<span class="kd">const</span> <span class="nx">bufferPrivateKey</span> <span class="o">=</span> <span class="nx">Buffer</span><span class="p">.</span><span class="k">from</span><span class="p">(</span><span class="nx">privateKey</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span> <span class="dl">"</span><span class="s2">hex</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">payload</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">types</span><span class="p">:</span> <span class="p">{</span>
      <span class="na">EIP712Domain</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span> <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">name</span><span class="dl">"</span><span class="p">,</span> <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">string</span><span class="dl">"</span> <span class="p">},</span>
        <span class="p">{</span> <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">version</span><span class="dl">"</span><span class="p">,</span> <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">string</span><span class="dl">"</span> <span class="p">},</span>
        <span class="p">{</span> <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">chainId</span><span class="dl">"</span><span class="p">,</span> <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">uint256</span><span class="dl">"</span> <span class="p">}</span>
      <span class="p">],</span>
      <span class="na">Details</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span> <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">message</span><span class="dl">"</span><span class="p">,</span> <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">string</span><span class="dl">"</span> <span class="p">},</span>
        <span class="p">{</span> <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">orders</span><span class="dl">"</span><span class="p">,</span> <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">string[]</span><span class="dl">"</span> <span class="p">}</span>
      <span class="p">]</span>
    <span class="p">},</span>
    <span class="na">primaryType</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Details</span><span class="dl">"</span><span class="p">,</span>
    <span class="na">domain</span><span class="p">:</span> <span class="p">{</span>
      <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">CancelOrderSportX</span><span class="dl">"</span><span class="p">,</span>
      <span class="na">version</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1.0</span><span class="dl">"</span><span class="p">,</span>
      <span class="na">chainId</span><span class="p">:</span> <span class="mi">416</span>
    <span class="p">},</span>
    <span class="na">message</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">message</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Are you sure you want to cancel these orders</span><span class="dl">"</span>
        <span class="na">orders</span><span class="p">:</span> <span class="p">[</span><span class="dl">"</span><span class="s2">0x550128e997978495eeae503c13e2e30243d747e969c65e1a0b565c609e097506</span><span class="dl">"</span><span class="p">]</span>
    <span class="p">}</span>
<span class="p">};</span>
<span class="kd">const</span> <span class="nx">signature</span> <span class="o">=</span> <span class="nx">signTypedData</span><span class="p">({</span>
    <span class="na">privateKey</span><span class="p">:</span> <span class="nx">bufferPrivateKey</span><span class="p">,</span>
    <span class="na">data</span><span class="p">:</span> <span class="nx">payload</span><span class="p">,</span>
    <span class="na">version</span><span class="p">:</span> <span class="nx">SignTypedDataVersion</span><span class="p">.</span><span class="nx">V4</span><span class="p">,</span>
<span class="p">});</span>
</code></pre></div>
<p>Here we use a private key directly which is the most straightforward way to sign data and does not require access to an authenticated node. It&#39;s also the fastest.</p>
<h2 id='injected-provider-signing-example'>Injected provider signing example</h2><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">providers</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">ethers</span><span class="dl">"</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">walletAddress</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">0xa1e32a027271f7d3d5c629b1c87289ccf9611533</span><span class="dl">"</span>
<span class="kd">const</span> <span class="nx">provider</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">providers</span><span class="p">.</span><span class="nx">Web3Provider</span><span class="p">(</span><span class="nb">window</span><span class="p">.</span><span class="nx">ethereum</span><span class="p">)</span>
<span class="kd">const</span> <span class="nx">payload</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">types</span><span class="p">:</span> <span class="p">{</span>
      <span class="na">EIP712Domain</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span> <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">name</span><span class="dl">"</span><span class="p">,</span> <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">string</span><span class="dl">"</span> <span class="p">},</span>
        <span class="p">{</span> <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">version</span><span class="dl">"</span><span class="p">,</span> <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">string</span><span class="dl">"</span> <span class="p">},</span>
        <span class="p">{</span> <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">chainId</span><span class="dl">"</span><span class="p">,</span> <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">uint256</span><span class="dl">"</span> <span class="p">}</span>
      <span class="p">],</span>
      <span class="na">Details</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span> <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">message</span><span class="dl">"</span><span class="p">,</span> <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">string</span><span class="dl">"</span> <span class="p">},</span>
        <span class="p">{</span> <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">orders</span><span class="dl">"</span><span class="p">,</span> <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">string[]</span><span class="dl">"</span> <span class="p">}</span>
      <span class="p">]</span>
    <span class="p">},</span>
    <span class="na">primaryType</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Details</span><span class="dl">"</span><span class="p">,</span>
    <span class="na">domain</span><span class="p">:</span> <span class="p">{</span>
      <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">CancelOrderSportX</span><span class="dl">"</span><span class="p">,</span>
      <span class="na">version</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1.0</span><span class="dl">"</span><span class="p">,</span>
      <span class="na">chainId</span><span class="p">:</span> <span class="mi">416</span>
    <span class="p">},</span>
    <span class="na">message</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">message</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Are you sure you want to cancel these orders</span><span class="dl">"</span>
        <span class="na">orders</span><span class="p">:</span> <span class="p">[</span><span class="dl">"</span><span class="s2">0x550128e997978495eeae503c13e2e30243d747e969c65e1a0b565c609e097506</span><span class="dl">"</span><span class="p">]</span>
    <span class="p">}</span>
<span class="p">};</span>
<span class="kd">const</span> <span class="nx">signature</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">provider</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="dl">"</span><span class="s2">eth_signTypedData_v4</span><span class="dl">"</span><span class="p">,</span> <span class="p">[</span><span class="nx">walletAddress</span><span class="p">,</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">payload</span><span class="p">)])</span>
</code></pre></div>
<p>Here we use <code>ethers.js</code> and show an example with MetaMask but provided the injected provider has a <code>send()</code> function and supports the <code>eth_signTypedData</code> JSON-RPC method, it will work. Note that in some wallets, such as metamask, <code>eth_signTypedData_v4</code> is the most up to date version of <code>eth_signTypedData</code>.</p>
<h1 id='fees'>Fees</h1><h2 id='trading'>Trading</h2>
<p>Fees are currently 0% for makers and takers.</p>

      </div>
      <div class="dark-box">
      </div>
    </div>
  </body>
</html>
